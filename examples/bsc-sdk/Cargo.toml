[package]
name = "example-bsc-sdk"
version = "0.0.0"
publish = false
edition.workspace = true
license.workspace = true

[dependencies]
auto_impl.workspace = true
# reth
reth.workspace = true
reth-basic-payload-builder.workspace = true
reth-db.workspace = true
reth-chainspec.workspace = true
reth-discv4 = { workspace = true, features = ["test-utils"] }
reth-engine-primitives.workspace = true
reth-e2e-test-utils.workspace = true
reth-ethereum-forks = { workspace = true, features = ["serde"] }
reth-ethereum-payload-builder.workspace = true
reth-ethereum-primitives.workspace = true
reth-eth-wire.workspace = true
reth-eth-wire-types.workspace = true
reth-evm.workspace = true
reth-evm-ethereum.workspace = true
reth-node-core.workspace = true
reth-revm.workspace = true
reth-network = { workspace = true, features = ["test-utils"] }
reth-network-p2p.workspace = true
reth-network-api.workspace = true
reth-node-ethereum = { workspace = true, features = ["test-utils"] }
reth-network-peers.workspace = true
reth-optimism-rpc.workspace = true
reth-payload-primitives.workspace = true
reth-primitives.workspace = true
reth-primitives-traits.workspace = true
reth-provider = { workspace = true, features = ["test-utils"] }
reth-rpc-eth-api.workspace = true
reth-rpc-engine-api.workspace = true
reth-tracing.workspace = true
reth-trie-common.workspace = true
reth-trie-db.workspace = true
revm = { workspace = true, features = ["secp256r1"] }
jsonrpsee-core.workspace = true
jsonrpsee-types.workspace = true
jsonrpsee.workspace = true

# alloy
alloy-genesis.workspace = true
alloy-consensus.workspace = true
alloy-chains.workspace = true
alloy-eips.workspace = true
alloy-evm.workspace = true
alloy-json-abi = { version = "0.8.25", default-features = false }
alloy-dyn-abi = { version = "0.8.25", default-features = false }
alloy-network.workspace = true

alloy-primitives.workspace = true
alloy-rlp.workspace = true
alloy-rpc-types = { workspace = true, features = ["engine"] }
alloy-rpc-types-eth.workspace = true
alloy-rpc-types-engine.workspace = true

# misc
async-trait.workspace = true
bytes.workspace = true
cfg-if = { version = "1.0", default-features = false }
derive_more.workspace = true
eyre.workspace = true
futures.workspace = true
include_dir = { version = "0.7.4" }
lazy_static = { version = "1.4.0" }
once_cell = { workspace = true, default-features = false, features = ["alloc"] }
parity-bytes = { version = "0.1.2", default-features = false }
parking_lot.workspace = true
secp256k1 = { workspace = true, features = ["global-context", "std", "recovery"], optional = true }
serde = { workspace = true, features = ["derive"], optional = true }
serde_json.workspace = true
thiserror.workspace = true
tokio.workspace = true
tokio-stream.workspace = true
tracing.workspace = true

# precompiles deps
bls_on_arkworks = "0.3.0"

cometbft = { git = "https://github.com/bnb-chain/greenfield-cometbft-rs.git", rev = "1282547" }
cometbft-light-client-verifier = { git = "https://github.com/bnb-chain/greenfield-cometbft-rs.git", rev = "1282547" }
cometbft-proto = { git = "https://github.com/bnb-chain/greenfield-cometbft-rs.git", rev = "1282547" }
cometbft-light-client = { git = "https://github.com/bnb-chain/greenfield-cometbft-rs.git", rev = "1282547" }

prost = { version = "0.12.6" }

tendermint = { git = "https://github.com/bnb-chain/tendermint-rs-parlia", rev = "8c21ccbd58a174e07eed2c9343e63ccd00f0fbd5", features = ["secp256k1"] }

# KZG point evaluation precompile
c-kzg = { workspace = true, optional = true, features = ["ethereum_kzg_settings"] }

# Optionally use `kzg-rs` for a pure Rust implementation of KZG point evaluation.
kzg-rs = { version = "0.2.3", default-features = false, optional = true }

# BLS12-381 precompiles
blst = { version = "0.3.13", optional = true }

# p256verify precompile
p256 = { version = "0.13.2", optional = true, default-features = false, features = ["ecdsa"] }



[features]
default = ["c-kzg", "secp256k1", "blst", "secp256r1"]
c-kzg = ["dep:c-kzg"]
kzg-rs = ["dep:kzg-rs"]
secp256k1 = ["dep:secp256k1"]
secp256r1 = ["dep:p256"]
serde = [
    "dep:serde",
    "alloy-primitives/serde",
    "blst/serde",
    "c-kzg/serde",
    "p256/serde",
    "reth-eth-wire/serde",
    "reth-eth-wire-types/serde",
    "reth-ethereum-forks/serde",
    "reth-primitives-traits/serde",
    "revm/serde",
    "secp256k1/serde",
    "bytes/serde",
    "reth-network/serde",
    "reth-network-api/serde",
]
client = [
    "jsonrpsee/client",
    "jsonrpsee/async-client",
    "reth-rpc-eth-api/client",
]

