Analyzing: reth.log

Parsing log entries...
  save_blocks entries: 9
  commit entries:      2019

======================================================================
 SAVE_BLOCKS ANALYSIS
======================================================================

--------------------------------------------------
 Batch Size Statistics
--------------------------------------------------
  Total save_blocks calls: 9
  Total blocks:            1000
  Blocks per call:         avg= 111.1  p50=  92.0  p90= 210.8  min=     3  max=   222

--------------------------------------------------
 Overall Timing (per save_blocks call)
--------------------------------------------------
  MDBX total                   avg= 7209.83ms  p50= 7712.99ms  p90=13307.55ms  p99=13586.25ms  max=13617.22ms
  SF total                     avg=   67.70ms  p50=   63.59ms  p90=  124.52ms  p99=  136.50ms  max=  137.83ms
  Join wait                    avg=    0.00ms  p50=    0.00ms  p90=    0.00ms  p99=    0.00ms  max=    0.00ms

--------------------------------------------------
 Per-Block Timing
--------------------------------------------------
  MDBX per block               avg=   96.80ms  p50=   64.93ms  p90=  147.76ms  p99=  260.00ms  max=  272.48ms
  SF per block                 avg=    0.70ms  p50=    0.62ms  p90=    0.85ms  p99=    1.37ms  max=    1.43ms
  Join per block               avg=    0.00ms  p50=    0.00ms  p90=    0.00ms  p99=    0.00ms  max=    0.00ms

--------------------------------------------------
 Bottleneck Analysis
--------------------------------------------------
  Total save_blocks calls: 9
  SF was slower:               0 (  0.0%)
  MDBX was slower:             9 (100.0%)
  Significant waits (>1ms):    0
  Parallelism efficiency:   50.5% (100% = perfect overlap)

  >> MDBX is the bottleneck - SF finishes first

--------------------------------------------------
 MDBX Breakdown (per save_blocks call)
--------------------------------------------------
  insert_block                 avg=   3.91ms  p50=   3.40ms  p90=   7.38ms  (  0.1% of MDBX)
  write_state                  avg= 994.78ms  p50=1103.34ms  p90=1777.56ms  ( 13.8% of MDBX)
  write_hashed_state           avg= 763.38ms  p50= 789.36ms  p90=1417.22ms  ( 10.6% of MDBX)
  write_trie_changesets        avg=1741.39ms  p50=1531.85ms  p90=3674.55ms  ( 24.2% of MDBX)
  write_trie_updates           avg=1832.91ms  p50=1694.47ms  p90=3386.62ms  ( 25.4% of MDBX)
  update_history               avg=1872.59ms  p50=1588.76ms  p90=3107.52ms  ( 26.0% of MDBX)

--------------------------------------------------
 Correlations
--------------------------------------------------

======================================================================
 COMMIT ANALYSIS
======================================================================
  Normal path commits: 2019
  Unwind path commits: 0

--------------------------------------------------
 Normal Path Commit Timing
--------------------------------------------------
  SF finalize                  avg=    0.00ms  p50=    0.00ms  p90=    0.00ms  p99=    0.01ms  max=    1.16ms
  MDBX commit                  avg=    7.53ms  p50=    0.06ms  p90=    0.12ms  p99=    0.68ms  max= 2966.46ms

  Total commit time:       15220.5ms
    SF finalize:           9.7ms (0.1%)
    MDBX commit:           15210.8ms (99.9%)

======================================================================
 AGGREGATE SUMMARY
======================================================================
  Total blocks processed:  1000
  Total save_blocks calls: 9

  Aggregate MDBX time:     64,888.5ms (64.9s)
  Aggregate SF time:       609.3ms (0.6s)
  Aggregate join wait:     0.0ms (0.0s)
  Est. wall clock time:    64,888.5ms (64.9s)

  Avg per block (MDBX):    64.888ms
  Avg per block (SF):      0.609ms

  Total SF finalize:       9.7ms (0.0s)
  Total MDBX commit:       15,210.8ms (15.2s)

======================================================================
 GENERATING CHARTS
======================================================================
  Saved: persistence_analysis/sf_vs_mdbx.png
  Saved: persistence_analysis/mdbx_breakdown.png
  Saved: persistence_analysis/commit_breakdown.png

Done.
