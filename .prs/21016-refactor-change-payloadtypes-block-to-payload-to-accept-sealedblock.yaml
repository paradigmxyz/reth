number: 21016
title: 'refactor: change PayloadTypes::block_to_payload to accept &SealedBlock'
state: open
author: livehardd
head: eliminates-clone
base: main
labels: []
created_at: 2026-01-13T22:11:47Z
updated_at: 2026-01-13T22:11:49Z
additions: 18
deletions: 18
is_draft: false
files:
- path: crates/consensus/debug-client/src/client.rs
  additions: 1
  deletions: 1
- path: crates/e2e-test-utils/src/node.rs
  additions: 1
  deletions: 1
- path: crates/engine/local/src/miner.rs
  additions: 1
  deletions: 1
- path: crates/engine/util/src/reorg.rs
  additions: 1
  deletions: 1
- path: crates/ethereum/engine-primitives/src/lib.rs
  additions: 4
  deletions: 4
- path: crates/optimism/node/src/engine.rs
  additions: 2
  deletions: 2
- path: crates/optimism/payload/src/lib.rs
  additions: 2
  deletions: 2
- path: crates/payload/primitives/src/lib.rs
  additions: 1
  deletions: 1
- path: examples/bsc-p2p/src/block_import/service.rs
  additions: 1
  deletions: 1
- path: examples/custom-engine-types/src/main.rs
  additions: 2
  deletions: 2
- path: examples/custom-node/src/engine.rs
  additions: 2
  deletions: 2
body: "changes block_to_payload to accept &SealedBlock instead of owned value to avoid unnecessary cloning.\r\n\r\nremoves forced .clone() calls at miner.rs and e2e-test-utils where blocks are only read to construct payloads.\r\n"
