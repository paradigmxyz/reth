number: 21168
title: 'perf(storage): Avoid rocksdb txs for legacy mdbx only nodes'
state: open
author: i-m-aditya
head: fix/avoid-rocksdb-transactions-mdbx-only
base: main
labels: []
created_at: 2026-01-18T10:44:25Z
updated_at: 2026-01-20T09:46:33Z
additions: 28
deletions: 19
is_draft: false
files:
- path: crates/storage/provider/src/either_writer.rs
  additions: 11
  deletions: 9
- path: crates/storage/provider/src/providers/database/provider.rs
  additions: 2
  deletions: 1
- path: crates/storage/provider/src/providers/state/historical.rs
  additions: 4
  deletions: 2
- path: crates/storage/provider/src/traits/rocksdb_provider.rs
  additions: 11
  deletions: 7
body: 'Resolves #21144'
