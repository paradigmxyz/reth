number: 21088
title: 'feat: configurable EVM execution limits'
state: open
author: rezzmah
head: 21018-configurable-evm-execution-limits
base: main
labels: []
created_at: 2026-01-15T04:35:28Z
updated_at: 2026-01-21T12:40:57Z
additions: 438
deletions: 89
is_draft: false
files:
- path: Cargo.lock
  additions: 2
  deletions: 4
- path: Cargo.toml
  additions: 4
  deletions: 0
- path: crates/chainspec/src/api.rs
  additions: 8
  deletions: 1
- path: crates/chainspec/src/lib.rs
  additions: 3
  deletions: 1
- path: crates/chainspec/src/spec.rs
  additions: 88
  deletions: 1
- path: crates/consensus/common/src/validation.rs
  additions: 7
  deletions: 8
- path: crates/ethereum/evm/src/lib.rs
  additions: 131
  deletions: 29
- path: crates/optimism/chainspec/src/base.rs
  additions: 2
  deletions: 1
- path: crates/optimism/chainspec/src/base_sepolia.rs
  additions: 2
  deletions: 1
- path: crates/optimism/chainspec/src/dev.rs
  additions: 2
  deletions: 1
- path: crates/optimism/chainspec/src/lib.rs
  additions: 43
  deletions: 1
- path: crates/optimism/chainspec/src/op.rs
  additions: 2
  deletions: 1
- path: crates/optimism/chainspec/src/op_sepolia.rs
  additions: 2
  deletions: 1
- path: crates/optimism/evm/src/lib.rs
  additions: 112
  deletions: 17
- path: crates/transaction-pool/src/validate/constants.rs
  additions: 0
  deletions: 6
- path: crates/transaction-pool/src/validate/eth.rs
  additions: 17
  deletions: 12
- path: crates/transaction-pool/src/validate/mod.rs
  additions: 1
  deletions: 3
- path: examples/custom-hardforks/src/chainspec.rs
  additions: 5
  deletions: 1
- path: examples/custom-node/src/chainspec.rs
  additions: 7
  deletions: 0
body: "closes #21018\r\n\r\ni.e. allows for configurable `MAX_CODE_SIZE`, `MAX_INITCODE_SIZE`, and `tx_gas_limit_cap` on existing chain specs.\r\n\r\nThis PR doesn't implement genesis parsing into the chainspec as that requires an opinionated approach on the genesis file shape. \r\n\r\ni realised a valid alternative is to have a custom `ChainSpecParser` which also meets most requirements\r\n\r\nCloses RETH-186"
