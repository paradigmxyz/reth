17d25b7aa Restore previous changes
bfb2f6215 Resolve lint warnings
99a5da2f9 fix(example): launch with debug capabilities (#18947)
b1d6c90fb fix(examples): change method to launch with debug capabilities (#18946)
5c18df988 refactor: remove needless collect() calls in trie tests (#18937)
aec3e3dcc chore(grafana): use precompile address as legend (#18913)
397a30def perf(tree): worker pooling for storage in multiproof generation (#18887)
d2070f4de feat: wait for new blocks when build is in progress (#18831)
6f96a3281 chore: align node_config threshold constant (#18914)
df6afe9da docs: duplicate comment in Eip4844PoolTransactionError (#18858)
c78378a8c ci: cache hive simulator images to reduce prepare-hive job time (#18899)
c0caaa17b refactor: replace collect().is_empty() with next().is_none() in tests (#18902)
6770ba9ee feat(provider): add get_account_before_block to ChangesetReader (#18898)
bed26238d refactor(engine): separate concerns in on_forkchoice_updated for better maintainability (#18661)
1aa312c12 chore(node): simplify EngineApiExt bounds by removing redundant constraints (#18905)
273ee0844 fix(trie): Reveal extension child when extension is last remaining child of a branch (#18891)
b82ad0777 chore: make clippy happy (#18900)
319a8dceb chore: relax `ChainSpec` impls (#18894)
029509cc4 refactor: eliminate redundant allocation in precompile cache example (#18886)
2f3e2c6c9 fix(era-utils): fix off-by-one for Excluded end bound in process_iter (#18731)
83cec3793 docs: yellowpaper sections in consensus implementation (#18881)
e9598ba5a feat(storage): read headers and transactions only from static files (#18788)
d77bfd89b feat: Use generic `HeaderTy` for `reth db get static-file headers` (#18870)
f54741c52 fix: streamline payload conversion in custom engine API (#18864)
978b8a2cd docs(engine): fix outdated comment on TreeMetrics (#18855)
b55038760 chore: update hive expected/ignored failures (#18863)
78535b074 feat: make `ChainSpec` generic over header (#18856)
fe10c0785 feat: Add building and publishing of *.deb packages (#18615)
d276ce575 feat: OverlayStateProvider (#18822)
373576704 chore(cli): remove unnecessary ProviderFactory clone in db_ro_exec! (#18845)
5c05beb40 chore: relax trait bounds for EmptyBodyStorage in storage API (#18842)
871bc82ee chore: do not generate fuzz tests in Compact macro (#18849)
8effbf265 perf(multiproof): cache storage proof root of missed leaves (#18750)
fafe44d38 feat(rpc): support custom transaction error types in EthApiError (#18844)
73f50ee9a ci: cache zepter installation (#18843)
656c00e3d perf: optimize account cache updates to reduce duplicate lookups (#18825)
1d1fea72b docs: apply spelling and grammar fixes (#18836)
467420ec2 feat(evm): Make `ConfigureEngineEvm` methods faillible (#18827)
3a6ff3ba9 perf: avoid hash copies (#18834)
9b005f36c feat(flashblocks): relax Sync bounds on Sink and connect futures (#18830)
2029842f7 feat: integrate `EvmEnv` helpers (#18817)
661400e85 fix(ress): avoid panic on Missing trie updates in ress provider witness construction (#18796)
33bf2b2ac chore(node): remove no-op impl for LaunchContextWith WithComponents (#18821)
4f56de535 fix: track inemorysize more accurately (#18820)
f98e70607 fix: Add eth69 status validation (#18819)
80b4d26b9 chore: use exact size for account weight (#18816)
a18f1a2e3 chore: use correct inflight metric (#18815)
a2bde852b feat(node): reduce the status logging (#18010)
83de2137f refactor(engine): simplify validate_block_with_state (#18659)
5004c2e1a feat(op-reth): add optional state root calc for flashblocks (#18721)
7af393bb3 chore: update ETHEREUM_BLOCK_GAS_LIMIT (#18779)
f813a52c8 feat: impl Debug for FnLauncher (#18807)
bafb482ca fix: poll the pinger timeout Sleep future (#18797)
22f9708f6 fix(storage): clean up HeaderNumbers entries during block unwinds (#18790)
0694abcee fix: Prevent u64 timestamp wrap-around in LocalMiner (#18791)
530e62d0e chore: bump alloy 1.0.37 (#18795)
05d17bfe0 chore: bump version to 1.8.2 (#18792)
a53c6205c fix: remove cancun check (#18787)
2d4635b53 fix: remove the leading hash comparison from RecoveredBlock<B>::PartialEq. (#18785)
db524d158 fix(op-reth): forward pre-bedrock transaction RPC calls to historical endpoint (#18784)
7e5e8b55b feat(stateless): enable test runs to return execution witness (#18740)
0da9fabf8 fix(transaction-pool): Fix wrong assertion (#18778)
2cbdb42c2 feat(op-reth): custom FlashBlock decoder from bytes (#18770)
b3cbfa4ce feat(flashblocks): additional pending flashblock data (#18776)
b8c16e392 refactor(engine): small nits - remove shallow abstraction for decoded_storage_proof (#18780)
2cf9fc8f5 refactor: remove redundant Setup::new() method (#18781)
121c0dedf feat(eth-wire): implement disconnect on Status message after handshake (#18773)
058ffdc21 feat(storage): write headers and transactions only to static files (#18681)
564e3a67f fix: correct TxTypeCustom extended identifier decoding (#18769)
b940d0a9f fix: prevent integer underflow in pipeline unwind target calculation (#18743)
18775914a fix(primitives-traits): use size_of::<H>() for ommers capacity in BlockBody (#18764)
ec4e6aafd perf: optimize Optimism deposit transaction prewarming (#18327)
48b725aec chore(engine): remove unnecessary ChainSpecProvider bound from invalid block witness hook (#18760)
c98833ba1 chore(deps): weekly `cargo update` (#18757)
850083dbd chore: remove doc_auto_cfg feature (#18758)
abae566f1 fix(rpc): fix eth_config impl (#18744)
efbff54ea docs: add note to launch on --dev mode (#18745)
be326fe04 test: add missing Drop trait tests for CancelOnDrop (#18749)
722507ed4 docs(ethereum): extend run with debug.rpc-consensus-url (#18747)
1addf61a2 feat: keep track of most recently emitted range update and change int… (#18722)
95e8a65d3 chore(trie): demote verbose proof debug logs to TRACE (#18738)
c9fea939a fix(chain-state): remove redundant transaction clone in test utils (#18710)
74c4cdbf0 fix(rpc-engine): don't fetch the pruned block (#18589)
0299160e9 feat(rpc): merge the header not found and resource not found (#18657)
6a50aa3ea feat: make more EVM and RPC conversions fallible (#18685)
057c71281 feat(cli): configure multiproof chunking via arguments (#18736)
5dc285771 feat(downloaders): add file-client feature gate (#18707)
597fa7302 fix(rpc/engine): check osaka in getBlobsV1 (#18669)
8852269a7 fix: Apply WS CORS regardless of HTTP being enabled (#18729)
ff4cc6e3b chore: Accept range in HashedPostState::from_reverts (#18728)
8d44bebf8 perf(multiproof): do not chunk more tasks when task queue is full (#18727)
4b134c3a4 fix: increase backoff timeout (#18733)
aa192c255 fix: Bearer token parsing vulnerability  (#18712)
b6cf85573 docs: add note about v5 (#18701)
284d1b377 perf: avoid redundant bytecode hash calculation in RPC provider (#18711)
0e4e32fb1 chore: update spawn maintenance tasks vis (#18709)
8f881789b perf(engine): reduce cloning on terminate caching (#18693)
a047a055a chore: bump rust to edition 2024 (#18692)
9a26947db fix(primitives-traits): delegate is_create for Extended::Other to fix create-detection (#18699)
0f46e38a7 chore(flashblocks): flasblock service metrics (#18697)
a31dce9b3 feat(net): added check for  non zero latest_hash in BlockRangeUpdate (#18695)
6cdfc48bc feat(flashblocks): prefill cache on canonical tip updates (#18691)
4d609847b fix(engine): remove redundant parent_to_child removal during eviction (#18648)
8f804d385 feat: node import support importing gzip compressed file (#17877)
bdc59799d fix(cli): replace unwrap with error propagation in merkle stage (#18656)
3b0d98f34 fix(engine): align sparse trie removal log target with engine::root::sparse (#18686)
8e488a730 chore(engine): remove unused EngineServiceError from engine service (#18666)
468925fca feat: support empty `SUPPORTED_CHAINS` for `ChainSpecParser` (#18679)
00e51575e test: add unwind parse test (#18677)
e6050e033 docs: some fixes on discv4 docs (#18601)
6631fc4e8 feat(net): correct per-response size metric to avoid capacity/empty-block inflation (#18553)
27c0b7b8a chore: enable all Ethereum protocol versions instead of hardcoding (#18065)
324cce346 feat(bootnode): Persists the discovery secret key (#18643)
7fb24e57a refactor: simplify `EthApiSpeс` trait (#18674)
1a68d8e96 feat(db): add MDBX put-append for fast ordered puts (#18603)
f07d9248b fix: avoid panic in new-payload-fcu benchmark (#18602)
a80f0c83a chore(revert): add tokio runtime with custom thread naming (#18670)
70fdd2248 chore: update voc.config.to text to v1.8.1 (#18667)
aeaa8ec5a docs(db): correct misleading test comments in post_state.rs (#18664)
f364f7a81 docs: add comprehensive e2e test actions reference documentation (#18621)
96c1566d9 chore: support custom transaction types in `EthTransactionValidator` (#18655)
4779fea9d docs: rm 8MB stack size comment in BlockingTaskPool (#18616)
5856c2e9f fix(payload): reversed-order test for validate_execution_requests (#18593)
8eaadf52d fix: Prevent potential underflow in static file header healing (#18628)
a7632c743 fix(engine): correct misleading test comments in cached_state.rs (#18652)
4cc50f979 feat(e2e): add beacon consensus handle to NodeClient (#18632)
064694b2d refactor(engine): simplify on_new_payload (#18613)
e6608be51 chore: release 1.8.1 (#18646)
44aa0fbb0 fix: Revert "chore: disable fee charge in env" (#18645)
6fdf6c449 chore(deps): bump CodSpeedHQ/action from 3 to 4 (#18333)
e613ee9e8 chore: update voc.config.to text to v1.8.0 (#18644)
132f5b520 chore: update version to 1.8.0 in Cargo.toml (#18638)
faaebe7f6 fix: check request gas limit before (#18639)
088a0d44c chore(observability): add tokio runtime with custom thread naming (#18635)
4c9942b92 docs: update dashboard table and rpc urls (#18637)
70a8c0677 feat: add osaka+bpo timestamps (#18627)
ee834fb89 chore: disable fee charge in env (#18634)
f225751c1 chore: bump inspectors 0.30 (#18633)
7dc3aea93 chore(revert): revert tokio runtime with custom thread naming (#18631)
87c75b983 chore: bump deps (#18630)
2ec367163 chore(observability): add tokio runtime with custom thread naming (#18623)
b27a92741 chore(primitive-traits): remove redundant auto-trait bounds from FullNodePrimitives (#18626)
e3cc6e2ea docs: fix incorrect RPC method names in trace calls (#18619)
dfab5f964 fix(cli): bootnode default address (#18617)
87078e920 fix(primitives-traits): simplify Rayon bounds and fix docs (#18620)
9e3246e69 chore: specialize `send_raw_transaction_sync` for op-reth with flashblocks support (#18586)
60658be73 fix(handshake): validate peer TD from their_status_message during eth handshake (#18611)
0bd209799 chore: enforce max tx gas limit on estimate and accesslit (#18612)
39d5563ce fix: disable block gas limit (#18583)
79c71b869 chore: Remove `reth recover storage-tries` sub-command (#18580)
9806e07cf fix: replace tx_hash method with TxHashRef trait bound (#18357) (#18362)
3ebfd7a25 test: add test case for op tx env conversion (#18581)
36107c60a fix(cache): Ensure execution cache remains locked until updated (#18564)
95f1931c5 test(engine): add new payload handling tests for canonical insertion and invalid ancestors (#18608)
4ddf3ddb4 docs: multiple small textual defects (#18598)
aeb6eddba chore(deps): weekly `cargo update` (#18600)
ff5908909 chore(ci): unpin teku image for kurtosis-op (#18595)
aead6c17c chore(ci): update expected and ignored hive tests (#18594)
55cbefe83 perf(persistence): lookup segment operation once (#18588)
3655dc7f0 feat(rpc): make send_raw_transaction_sync timeout configurable (#18558)
379db45b4 fix: use timestamp derived max blob count on launch (#18590)
fa531761c chore(payload-builder): relax Sync bounds on resolve futures (#18585)
ff51faaea chore(db): Simplifications to trie-related storage-api methods (#18579)
8f4cc90ef chore: clippy manual_string_new warning in version.rs (#18576)
ebe1a8b01 chore(trie): Use Vec<Option<...>> in InMemoryTrieCursor (#18479)
d6160de61 fix(rpc): return empty log set for invalid filter block ranges (#18112)
8aeebe10f fix(txpool): prevent double-processing of tx pool tier (#18446)
5bc507bfa fix(reth-bench): do not panic on empty results (#18570)
4e1c552d3 fix(optimism): always enable interop maintenance task if activated (#18563)
4fcc4457c chore(evm): add public constructor to `BlockAssemblerInput` (#18559)
c9a95d085 feat: add `Future` AT to `LaunchNode` and allow customizing local attributes builder (#18556)
4e78f956f chore: map NaN to 0.0 (#18560)
df9b7a079 chore(chainspec): reuse local hardforks in DEV instead of cloning again (#18557)
e2aa41733 chore(docker): add FEATURES for op dockerfile (#18489)
6f385d0a0 chore(consensus): update EIP-7825 error message format (#18549)
f9e503038 docs(op): decompress the state file before init-state (#18416)
ce6199abf feat: tree config setting for unwinding canonical header (#18420)
70d634a3f feat(rpc): add admin_clearTxpool api (#18539)
ea500f6af chore(ci): bump hive timeout (#18544)
e8d32a549 feat(rpc): Add `convert_receipt_with_block` method to `ReceiptConverter` (#18542)
ece847287 chore: add cache traces (#18538)
64b4ae60f docs: document critical cache safety assumptions in ExecutionCache (#18536)
59cff107b feat(op-reth): initial setup FlashBlockConsensusClient engine sidecar (#18443)
870389c5d refactor: EmptyBodyStorage block reader logic (#18508)
d357d2acb feat(node): rename debug.rpc-consensus-ws to debug-rpc-consensus-url to suport HTTP (#18027)
2b68d3a42 fix(rpc): use flashblock when preparing tx response on gettxreceipt (#18530)
6bf405a14 chore(ci): bump hive eest tests to v5.1.0 (#18528)
4a958f41b fix: use noopprovider for pending block state root (#18523)
6e6a497ef refactor(evm): Replace `revm_spec*` functions with `alloy-evm` and `alloy-op-evm` versions (#18526)
5a39e57e4 deps: Upgrade `alloy` and `alloy-evm` versions `1.0.30` => `1.0.32` and `0.21.0` => `0.21.1` respectively (#18525)
4b4b122e7 docs(engine): improve cache naming and documentation (#18457)
98ce04d5e feat: relax `OpEngineValidatorBuilder` for more custom payload types (#18520)
d9c981026 fix(trie): Don't run repair-trie if MerkleExecute is incomplete (#18497)
193f69905 chore(engine): remove calldata exception workaround (#18521)
584d7164f feat(engine): fallback for when both state root task and parallel state root failed (#18519)
5c5b21e48 feat(optimism): Implement `local_pending_state` for RPC that uses `pending_flashblock` (#18518)
fabf3e84d feat(op/jovian): implement min base fee in op-reth. bump alloy, alloy-evm deps. (#18407)
8a3d984c1 fix(docs): correct BlockBody root docs and RecoveredBlock “safer variant” references (#18510)
f113a97a7 chore(ci): run eest osaka tests on hive workflow (#18516)
31ce037a2 chore: add myself to CODEOWNERS (#18514)
088eb6c46 feat(metrics): add transaction error counter for prewarming (#18509)
04c582068 fix: don't override existing tables in `create_tables_for` (#18511)
9c892b023 chore: add myself to CODEOWNERS for engine and stages (#18512)
9fc89495d fix: don't require closure to be `Debug` (#18507)
c45817c1f chore(engine): avoid panic on mpsc send in sparse trie worker (#18502)
7296fc68b feat: relax `EthBlockAssembler` (#18505)
7af829ed3 feat: make `EthBuiltPayload` generic over `NodePrimitives` (#18504)
bf5808928 feat: more flexible rpc receipts (#18501)
5274f095f chore: skip prewarm transact errors (#18498)
1185514c1 fix(engine): exit MultiProofTask loop on closed internal channel (#18490)
847330cdf fix(cli): disallow --instance 0 (#18496)
d1c966020 docs: fix incorrect transaction type count (#18437)
18052836f docs(engine): fix LiveSync target doc and clarify disable-parallel-sparse-trie semantics (#18478)
1697826fd chore: deconstruct non-exhaustive (#18492)
976939ab6 chore: update superchain commit (#18481)
05008e284 feat(op-reth): specialize get_transaction_receipt to check pending flashblocks (#18374)
8e65a1d1a fix: missing generic type hint for cursor (#18483)
b7e9f7608 feat(network): add shadowfork block hash filtering for peers (#18361)
5f38ff798 feat: `Block::iter_recovered` (#18476)
5844ff7b1 feat(storage): bump MDBX map size to 8TB (#18360)
2dabb2333 fix(rpc): disable tx gas limit in calls (#18473)
7cf239ab5 feat: add CliApp wrapper for ethereum CLI configuration and execution (#18458)
e578b1b93 chore(ci): update ignored hive tests (#18412)
ec2a898ac fix(rpc): add validation for missing headers in debug execution witness (#18444)
ef85d93cd perf(db): open MDBX DBIs only once at startup (#18424)
d2b9c571a fix(engine): remove redundant method-level where bound in InvalidBlockWitnessHook (#18459)
d61349beb fix(engine): perform cache updates with guard (#18435)
7d5415a60 perf: Enforce EIP-7825 transaction gas limit for Osaka (#18439)
5516ad2d4 chore(ci): unpin kurtosis op package (#18456)
1b08843bc docs: multiple small textual defects (#18434)
96f8454d4 chore: remove type aliases (#18433)
2408586a5 chore(deps): weekly `cargo update` (#18431)
27e4a05cf chore: move and rename PendingBlockAndReceipts to BlockAndReceipts (#18430)
1bd6cc21c chore: clean up TS warnings in search index & file finder (#18426)
33c75e8e5 chore: add state and response to miner error (#18422)
99b6dc798 feat: add helper to PendingBlockAndReceipts (#18423)
7694b9dee feat: fn recovered_tx to indexedTx (#18421)
f66e19717 chore(storage): remove unused `primed_dbis` (#18415)
bac0e1f83 perf: downsize mempool tx priority from `U256` to `u128` (#18413)
e27648072 feat(observability): add phase-level observablity to newPayload processing  (#18308)
44a48ab9f fix: dont update canon chain to ancestor for opstack (#18410)
72c2d1b6a feat(txpool): break down queued transaction states into specific reasons (#18106)
51bf7e37e perf(db): reuse MDBX DBIs for the same tx (#18292)
bd387cd49 chore: update e2e-test-utils code owners (#18397)
82fb54763 fix(e2e): persist accepted header in CheckPayloadAccepted and align timestamp (#18275)
87444ef8d chore: fixed broken link in history-expiry.mdx (#18400)
6d4a1a3cc chore: use decode_2718_exact for recover raw txs (#18381)
40a9954a8 fix: still use real chain id for no-op network (#18382)
3e4c0cc40 feat: replace PendingBlockAndReceipts tuple with dedicated struct (#18395)
f3aa57a10 fix: map EIP-7623 gas floor errors to expected exception type for test compatibility (#18389)
edc1ae8f4 fix(docs): mv search-index to dist from .vocs (#18390)
8c2d5cc48 fix(docs): disable jekyll which removes the search-index (#18388)
9d3564ecb fix: relax nonce gap rule if configured (#18385)
60568cca8 feat: add helper aliases for node adapters (#18366)
a80ed916b refactor!: more type-safety in cli (#18375)
967a6fb1d perf(trie): Use ParallelSparseTrie (if enabled) for storage tries (#17959)
f2350e509 fix: check payload id (#18370)
17a41a246 feat: bump hive eest tests (#18013)
424974ca3 fix(engine): avoid block fetching inconsistencies for checks during reorgs (#18368)
d6a92287e feat(engine): check header validity after invalid transaction (#18356)
e94658f79 fix(docs): include .vocs to retain search-index (#18363)
700f2e101 feat: add some ethapi builder fns (#18358)
a3aaccd34 perf: optimize canonical_hashes_range with Vec::with_capacity pre-allocation + benchmark (#18072)
fe236cd57 fix: add is_osaka check before erroring in default_ethereum_payload (#18355)
3ce0a3810 fix: fix search in vocs doc (#18354)
4c363fe1a feat(op-sdk): custom precompiles (#18350)
2fa52f32f fix(prune): TransactionLookup pruning issues with pre-merge expiry (#18348)
90aa99cb3 feat: support customizable RPC namespace parsers (#18160)
394a53d7b feat(stateless): Run EEST tests in stateless block validator & bug fixes (#18140)
4fdc1ceb0 refactor(revm): (#18150) use hardfork activation helpers (#18349)
1423a30e1 perf: use debug_assert for parked pool lookup (#17712)
b7c2b562e fix(stages): implement entities checkpoint update in merkle stage unwind (#18131)
6c9c96c13 fix(ci): pin teku image to fix kurtosis-op build (#18345)
bfb37da2a perf(reth-engine-local): use VecDeque reduce removal operations (#18198)
86eaa6f28 feat(op-reth/flashblocks): subscribe to the flashblock sequences produced (#18276)
aa5e6ad41 fix: properly compute genesis hash (#18300)
64afc1e54 perf(merkle-stage): only fetch checkpoint in the branch that needs it (#18339)
1e491bc85 feat: cache latest built payload (#18324)
0d13d7f4f chore(deps): bump actions/stale from 9 to 10 (#18335)
e079ddc7a chore(deps): bump actions/github-script from 7 to 8 (#18334)
4b29f5faf chore(deps): bump actions/setup-go from 5 to 6 (#18332)
b4beab1a8 chore(trie): use read-only db handle during repair-trie dry-runs (#18328)
a35b299ae docs: update public dashboards (#18331)
23c2dcac9 chore: bump docs version 1.7.0 (#18326)
9d56da53e chore: bump version 1.7.0 (#18323)
6e950a128 fix: DB benches (#18314)
cf19c9a10 fix(stateless): verify_execution_witness doc for pre-state mismatch (#18319)
1a4b5eca3 fix(bench): fix deadlock in test data generation (#18321)
77e13939d docs(reth-bench): fix markdown (#18322)
e2368676c ci: pin Rust to 1.88 when building for Windows in Cross (#18320)
366d641cc feat(trie): Add helper sub-command (#18301)
81b2e16fb feat(optimism): flashblock completed sequences (#18272)
dd69dcbd0 refactor(engine): persistence logic (#18318)
bde7464e3 refactor: change PendingPool and PendingTransaction visibility to pub (#18267)
4f930c25c refactor(optimism): Extract pending block building responsibility out of `FlashBlockService` (#18247)
a14f345c2 chore(trie): dont warn on blinded node reveals (#18317)
119ed881e fix(rpc): error code `eth_sendRawTransactionSync` timeout (#18252)
2e06bbc80 chore(deps): weekly `cargo update` (#18312)
8b098755c chore: introduce validationtask with capacity (#18291)
6e75f7b2e feat(download): support zst archives in reth download (#18237)
de24793b1 chore: clippy happy (#18310)
ef337d46a feat: introduce maybe_pending method to StateProviderFactory (#18260)
63a912e31 perf(e2e-test-utils): optimize block checking by fetching header instead of full block (#18254)
62f03e41b chore: fix various typos in comments and documentation (#18296)
01d6f8569 perf: specialize len 1 (#18307)
50e8409fa feat: expose `EvmEnv` to `caller_gas_allowance` (#18302)
0bd1bb2b8 feat: introduce setting for delegated txs slots (#18298)
e93e1fcec feat(gpo): add default fee price argument (#18297)
d6845357c feat(metrics): add `TxPoolValidatorMetrics` to track inflight validation jobs (#18295)
9c61b4675 perf: specialize validate_transactions_with_origin for task validator (#18288)
848d7fa83 test(optimism): Test that close message is responded to in `WsFlashBlockStream` (#18268)
0cdd54838 chore: delist unused deps with `cargo-machete` (#18259)
f8b678cf1 perf: specialize single batch request (#18289)
d99f37b24 perf: optimize send raw batching (#18280)
30297092f fix: check prune checkpoints for unwind target limit (#18263)
254860f2d chore(txpool): add sanity tests for blob fee bit handling (#18258)
4cc600c41 perf(db): do not heap-allocate the stage key per query (#18284)
02ff408b1 perf: build local pending block without updates (#18271)
7c8f5a402 perf: rm redundant collect (#18281)
60311096e chore: extract `validate_against_parent_gas_limit` into separate fn (#18277)
cf46aa017 chore: log prune settings on unwind (#18270)
7f8674971 test(optimism): Test that UTF-8 encoded messages are received in `WsFlashBlockStream` (#18269)
c57feda64 fix(optimism): Reconnect if ws stream ends in `WsFlashBlockStream` (#18226)
ecd18987b feat(optimism): Respond to close messages in `WsFlashBlockStream` (#18256)
b1e19325b chore: remove redundant payload trait bounds (#18262)
107399ff0 feat(optimism): Decode text messages in `WsFlashBlockStream` (#18257)
36e39ebe3 fix(optimism): Compare parent hash and latest hash to invalidate cached flashblock (#18238)
1d7fefece chore: unify engine downloader targets (#18248)
3d8d7ce78 chore: downgrade debug to trace  for peer reputation logs (#18250)
29685ce00 test(optimism): Test that `WsFlashBlockStream` pongs a ping (#18217)
0550289c6 feat(optimism): Respond to ping messages with pong in `WsFlashBlockStream` (#18212)
9121dba0b docs: update urls in docs (#18245)
bb1dfc9e9 perf(txpool): eliminate allocations in basefee enforcement (#18218)
a11655b51 perf(reth-optimism-flashblocks): rm redundant clone (#18196)
f0880f3ff fix: filter zero storage values when computing withdrawals root in genesis header (#18213)
783ef6579 chore(trie): use instrument instead of manual span (#18239)
0acebab68 chore(engine): add better logs and spans for execution (#18240)
d5a489838 fix(download): use updated merkle base URL (#18236)
60ce53655 chore: improve flashblock logs (#18232)
733e8cfce chore: safe None check (#18225)
298a7cb5e feat(optimism): Warn if `FlashBlockService` has stopped (#18227)
44caf60af test(optimism): Test that sequence stops before a gap (#18228)
358b61b4e fix(optimism): Prevent repeated executions of current flashblock sequence (#18224)
6bcd5e07a fix: incorrect blob fee comparison (#18216)
dba13f448 revert: "perf(txpool): eliminate allocations in basefee enforcement" (#18215)
1788c5c6a fix: spawn flashblocks service as blocking (#18214)
d10e5f6fb perf: prepare flashblock txs (#18201)
4d94e201d chore: impl ExecutorTx for withtxenv (#18202)
e9801a799 chore: simplify flashblocks poll logic (#18194)
fe37279ab test(optimism): Test that streaming flashblocks from remote source is successful (#18170)
b6fddd7d0 fix: struct serialization to match actual fields (#18189)
945d50a7f test(optimism): Cover the case of repeatedly failing to connect to websocket in `WsFlashBlockStream` (#18169)
e3772c4db test(optimism): Cover the case of stream returning errors in `WsFlashBlockStream` (#18167)
e76c88c21 test(optimism): Cover the failure case of decoding a non-binary message in `WsFlashBlockStream` (#18166)
9ec6459bd test(optimism): Cover successful decoding of websocket messages in `WsFlashBlockStream` (#18163)
651e34cec fix: Pass prefix set from init_from_state_dump into compute_state_root (#18185)
d69fda1a2 feat(examples): added txpoolExt_clearTxpool to existing example (#18175)
e9a57a72c refactor(optimism): Extract responsibility to connect to a flashblock websocket stream (#18158)
61b8015c8 perf(optimism): use cached db in `FlashblockService` (#18125)
e30da67d3 perf(txpool): eliminate allocations in basefee enforcement (#18162)
203cb6e15 feat: enhance engine tree metrics (#18000)
3ad974390 chore: avoid using hashmap hashers directly (#18176)
42eb83556 perf(stages): optimize unwind operation by fetching headers instead full blocks (#18139)
4cc2a4dec chore(deps): weekly `cargo update` (#18174)
911ed2778 chore: simplify dev signed tx conversions (#18171)
eab2ad774 refactor: remove unnecessary PathBuf clone in CLI help generator (#18172)
4a28cf428 fix: correct logical error in delete_outside_range error message (#18031)
339f18c48 ci: Fix .PHONY declaration for install-reth-bench target in Makefile (#18152)
9b863264d perf: optimize single-element collection creation (#18168)
0e9cbc80b chore(deps): bump actions/upload-pages-artifact from 3 to 4 (#18076)
297304852 fix(optimism): find fb attrs in base fb (#18164)
7170e1440 chore: Add 0x prefix and use macro (#18156)
616e492c7 perf(optimism): Pass noop provider to skip state root calculations for flashblocks (#18161)
64df86fe3 perf(reth-invalid-block-hooks): use Reverts::eq reduce clone (#18159)
21ba9c4e0 feat(optimism): add FlashblocksRx getter (#18155)
e7685789b fix(trie): Fix call to update_account in witness (#18154)
5c0c8bb38 chore(reth-optimism-storage): small refactor code (#18104)
ee5006c02 perf(engine): pre-allocate channel handles in prewarm task (#18147)
f93dfec50 perf(engine): pre-allocate Vec capacity in payload processor (#18148)
001fb927b feat: generalize impl EngineValidatorAddOn for OpAddOns (#18141)
0b316160a docs(op): op chains don't require deposit contracts, so as dev chain (#17988)
66a0a14cf refactor: merge `EthTransactionValidator` and `EthTransactionValidatorInner` (#18129)
354cfdf90 fix(txpool): ensure fee changes are updated (#18137)
f13cf181a fix(optimism): Fail if latest and base flashblock parent are different (#18132)
abf1dbd7a feat(net): implement support of subprotocols (#18080)
8bc2bfdf9 feat: Forward transactions to a specified endpoint (#17444)
94547b06a fix: import should count on the delta (#17819)
594a67d87 fix(optimism): Verify that flashblocks are not old according to canon state (#18123)
fad93e95a perf(engine): only clone headers instead of full blocks for tree tasks (#18116)
282abc708 fix(engine): Prevent instant miner from creating empty blocks (#18108)
63a09bace refactor(eth-wire): remove EthVersion::total_messages in favor of EthMessageID::max (#17999)
9e9a0b186 chore: add prewarm traces (#18117)
b2c6852c2 fix(optimism): Fix endless poll on the FlashBlockService (#18120)
3425a31a2 chore: make `caller_gas_allowance` an RPC trait method (#18101)
07c62aebd fix(optimism): Prevent old pending flashblock from being returned from `pending_flashblock` (#18103)
8a4b53361 chore: include err in log (#18119)
87a4949f5 feat: add EIP-7934 block size check to validateBuilderSubmissionV5 (#18111)
eb4496dbf ci: remove expected failures (#18099)
1d893a1ce chore(reth-optimism-cli): use OpTypedTransaction::eip2718_encode (#18105)
e62c7d246 feat: add module manipulation methods and RPC server arg helpers (#18084)
080413101 refactor: make transaction validator functions reusable (#17929)
f376dd803 feat(optimism): Remove builder of next block environment from `FlashBlockService` (#18100)
9d1ec366f feat(optimism): Implement conversion of `ExecutionPayloadBaseV1` into `OpNextBlockEnvAttributes` (#18097)
615bd4a30 perf(engine): only fetch headers instead of full blocks for tree tasks (#18088)
3a5c99239 feat(optimism): Add `flashblocks_url` as part of rollup args of the `op-reth` CLI (#18094)
dc598490a feat: add helper for provider with wallet (#18085)
2e6ab5424 feat: add NoopNetwork example (#18093)
97f4b00fc feat(optimism): Launch `FlashBlockService` when websocket URL is provided in `OpEthApi` (#18077)
b7b70a46a feat: optionally disable balance check for `EthTransactionValidator` (#18086)
f67e7547d fix(era): SlotIndex offset support negative value (#18047)
28774f7ad fix: clarify locking behavior comment in InMemoryState (#18081)
34de67ab5 fix: Fix state root related metrics (#18045)
0889a52ec chore(nix): add `cargo-nextest` to `devShell` (#18087)
3d8033a03 chore: add helpers for setting minimum protocol basefee (#18083)
9d2194fa4 feat: support importing multi files (#17928)
db04a1910 feat: fusaka changes (#18071)
13e0fd55d feat(optimism): Change `FlashBlockService` output `ExecutedBlock` => `PendingBlock` (#18078)
92743a0d8 feat: FCU unwind: properly reorg in-memory canonical state and update latest block (#17938)
3c7301e0b feat(optimism): Add `launch_wss_flashblocks_service` function spawning a task sending last pending block (#18067)
87647b25a fix(static_file_provider): Exception for Gnosis and Chiado (#18044)
8c8ffd432 refactor(rpc): add `TxEnv` converter to `RpcCoverter` (#17792)
caa8c541e perf: use FuturesOrdered instead of join_all to yield results (#17638)
7ee085f39 feat(optimism): Add constructors to `FlashBlockService` and `FlashBlockWsStream` (#18064)
d14658dc5 perf(payload): do not clone full attributes for timestamp validation (#18054)
b50eb7e51 feat(optimism): Wrap incoming stream item in `Result` for compatibility of `FlashBlockService` with `FlashBlockWsStream` (#18063)
089629ba6 fix: use deterministic RNG in state_root_task benchmark (#18049)
f343b19c1 fix: add secp256k1 to dev-dependencies of dns crate (#18059)
138c9172b fix(node/builder): correct left_mut() method implementation and docs (#18053)
7703e6fb9 refactor(tree): move metered execution functions to tree module (#17912)
dd4aa7cd2 chore: relax EngineValidatorAddOn impl (#18052)
af5704765 perf: optimize canonical_hashes_range to O(n) complexity (#17975)
8bec55183 feat: remove the not used executor in sparse_trie (#17966)
23cfd1bb7 feat(optimism): Add `FlashBlockService` that builds blocks from `FlashBlock`s (#18009)
c97b322c5 feat: bump jsonrpsee to v0.26.0 (#17901)
d87280e79 chore: apply spelling and typo fixes (#18041)
c3d211c6f chore: remove msrv from clippy.toml (#18034)
f3c2a3dc2 Update README.md (#18021)
014e8dacc perf(pool): remove unused hash in tx insertion/validation (#18030)
01f667c22 feat(reth-bench): add --advance option for relative block ranges (#17996)
848370b31 chore(deps): weekly `cargo update` (#18023)
ce2ce23e3 feat: add accessor methods for RPC handle types (#18016)
13f7ae463 feat: add log.file.name cli arg (#17883)
304c9090e feat: added trace_transaction_storage_access (#16022)
28b085a35 feat: add CLI support for TransactionPropagationMode in NetworkArgs (#18012)
d5ade8504 fix: replace unwrap with proper error handling in ShardedKey decode (#17902)
fcb74930a feat: add helper for setting tx propagation mode (#18007)
530269e3a test(engine): add e2e tests for forkchoice update with finalized blocks (#18004)
42f44a3d7 fix: rlp encoding for sealedblock (#18003)
8193fcff9 chore(trie): fully reveal sparse tries prior to leaf updates/removals (#17643)
d8e8d67ff fix: remove unused base_fee_params_at_block function (#17992)
e9d402005 fix(revm-inspectors): update revm-inspectors to fix js tracer opcode gas calculation (#17986)
a4dd305ee feat(optimism): Add `FlashBlockWsStream` for streaming flashblocks from a websocket connection (#17987)
00ae7654e chore(cli): add log about state root computation for init-state (#17980)
9209d37e7 chore: remove not used block/receipt memory limiter constants (#17989)
b81bdc88f chore(db): remove empty TODO comment (#17981)
12abfd76d feat(optimism): Add `FlashBlock` payload schema (#17984)
e0b5203cb refactor: Fix incorrect length parameter in StorageTrieEntry::from_compact (#17748)
00dd9eccc feat(optimism): Add new `reth-optimism-flashblocks` crate (#17982)
aabeb06a1 feat(rpc): Use pool-based pending block for pending state over latest (#17924)
6264530a8 docs(net): add Rreceipts69 document (#17969)
7ea6daf7d fix(optimism): add debug_traceTransaction support for pre-bedrock blocks (#17971)
65907e3d8 feat(rpc): Add `local_pending_state` that creates a state provider out of a mem-pool built pending block (#17957)
e0ca0407b docs(sdk): Add guide for custom transaction envelope macro usage (#17879)
df3bf2c00 perf(trie): default ParallelSparseTrie to enabled (accounts only still) (#17956)
4fe6ae411 fix: ParallelSparseTrie::update_leaf edge-case, and not correctly clearing all fields for re-use (#17955)
a2751c316 fix(net): Receipts69 should respond with Receipts69 message (#17880)
7884c1e06 fix: use len() instead of iter().count() for trace logging (#17968)
2c4d90671 docs(trie): document MDBX ordering assumptions in TrieWalker and Trie… (#17906)
a89646fae chore(engine): rename block validation task (#17964)
1ed7450d5 feat(engine): set default_memory_block_buffer_target to zero (#17963)
843597656 feat(optimism): add supervisor_revalidation_duration_seconds metrics (#17897)
0110fbe0a refactor(evm): use execution payload getters (#17947)
db6ee6428 chore: rm redundant runtime (#17961)
441bad848 feat(rpc): Convert `state_at_block_id` into async function (#17954)
4bd788e74 fix: allow at most one in-flight tx (#17960)
81fe6ca05 chore: activate pool if node (#17950)
e110c9b8d chore: add helpers to added tx state (#17951)
754258017 refactor(era): add era types and file traits for shared behavior (#17873)
0fa93840e feat(rpc): Add `spawn_blocking_io_fut` that accepts a future (#17953)
93fcd8235 fix: replace todo!() with Ok(None) in NoopProvider transaction_block (#17949)
0f26562bb feat: Add transaction propagation kind 'None' (#17944)
a4c57de5e docs: multiple small textual defects (#17904)
d31e4ca83 fix(optimism): correct string formatting in error message (#17923)
d8ade5af3 chore(deps): bump amannn/action-semantic-pull-request from 5 to 6 (#17933)
a1a1b11e4 fix(trie): replace rayon with tokio for I/O operations in parallel trie (#17931)
41aa3bf7f fix: optimize empty directory check in is_database_empty (#17932)
97763ff7d chore: fix clippy in nix flake (#17918)
a3298ecfd test: remove misleading TODO comments in MockEthProvider  (#17926)
b9e09d06b chore: replace reference (#17899)
b81e133fb perf: reduce cycles on indexing (#17916)
91730cd32 docs: add paragraph about EIP-7702 transaction types (#17865)
1b9f9e2a2 chore(grafana): Add description to pruner panel (#17917)
56e641a87 chore(metrics): fix MeteredReceiver docs (#17913)
3f3e4fe7a fix: convert anchor() method from recursive to iterative (#17909)
29e4b2058 refactor: remove StateCommitment trait (#17812)
e617dd30c fix(ress/provider): return zero headers when request.limit == 0 (#17911)
48df70eaf chore(deps): weekly `cargo update` (#17907)
61662098a chore(pool): replace saturating_sub with unchecked_sub (#17890)
198ba18e8 chore: remove Beacon from type names (#17868)
7577ab81a test: add tests for fetching header,body ranges (#17893)
f180b0da9 feat: bubble up `revm` feature flags via `revm-reth` (#17896)
b3479f662 refactor(examples): Replace `CustomTransactionEnvelope` with `Signed<TxPayment>` as the variant type in the custom node example (#17894)
de157aa3a feat(rpc): add configurable pending block behaviour (#17677)
055331a66 fix(examples): Implement `Compact` using blanket implementation (#17878)
3f86efc3b fix: use map_pure_precompiles for precompile caching (#17886)
87c29027b fix(network): off by one error in getting next header (#17889)
0de24935c chore: clippy happy (#17892)
7744ee9e7 chore(tx-pool): Rm redundant async block (#17891)
6daf5fc77 chore: remove the deprecated ganache api (#17881)
d030ef8b7 feat(rpc): Add `RpcTxConverter` to allow for providing custom converters with extra context (#17827)
4651b9ae7 fix: critical error handling in ExEx launcher (#17627)
907448ff3 feat(rpc): Add support for custom Tokio runtime configuration in EthereumAddOns (#17693)
84992f750 chore(ci): migrate workflows to checkout v5 (#17813)
cd7a3c816 fix: replace unsafe unwrap with proper error handling (#17867)
b64eed99b feat: custom instance label and configurable datasource for mempool dash (#16634)
e12e6c0d0 feat(txpool): Batch insertions into the Tx Pool (#17670)
4e20417a8 fix: box some more futures (#17864)
544eed8b7 test(chain-state): opt unit test (#17770)
b5aa82412 chore: fix typos and improve documentation (#17862)
cb03cb7e1 feat: make MockEthProvider more generic (#17780)
ad9b528c1 docs(e2s_file): clarify automatic version insertion and entries behavior (#17789)
0fdc1ec28 chore: update crunchy to v0.2.4 (#17856)
f3b99cbf3 fix: remove unused import from execute.rs (#17811)
806522900 feat(rpc): Add `SimTxConverter` to allow for providing custom converters with extra context (#17821)
1cdc43d79 fix: typo initialise to initialize (#17851)
5dda39dd8 chore: use receipt.into_logs instead of log.to_vec to reduce the unnecessary clone (#17852)
ee8c893f5 chore: remove myself from codeowners (#17855)
94c93583a feat: introduced configurable version globals (#17711)
3fe6c0c3c fix(call): overwrite gas when exceed the RPC_DEFAULT_GAS_CAP (#17847)
f1da87e3e fix: clippy warnning manual_is_multiple_of (#17853)
f30016019 fix(db): make db get --raw work with DupSort tables (#17842)
28c711379 feat(examples): Add custom header extensions to payload attributes in `custom_node` example (#17797)
dfc58eac7 chore: remove s3 stage (#17831)
02eafd75f chore: update db-access example used method (#17815)
fa31b9edc chore(deps): bump revm 28.0.1, inspectors, alloy-evm (#17840)
79571315b perf: use unwrap and save 198 cycles  (#17836)
f49b3202d chore(cli): rename file import_op to import_core for clarity (#17826)
443d16f6f perf: iterate through nibbles (#17820)
810790c76 feat: allow external block recovery in `reth-stateless` (#17755)
6e691c0f3 chore: Remove `BlockMeta` variants and unused code (#17835)
3cfc01d09 feat(tx-pool): add `add_transactions_with_origins` helper (#17802)
82f1cc09f chore: fixed dead links in repo (#17694)
5733a32e2 test: modify discv5 startup test to use a random port (#17614)
772d92056 fix: storage lock race condition (#17823)
01c39f673 perf: optimize condition ordering in ParkedPool for better short-circuiting (#17816)
1077904f5 perf: remove some clones around `eth` tracing (#17822)
6a79d80ec chore(deps): bump actions/download-artifact from 4 to 5 (#17817)
e741fac68 chore(deps): bump actions/checkout from 4 to 5 (#17814)
74dcb8afd chore(test-vectors): remove TxDeposit compact TODO (#17800)
e208d380b chore: remove whitespace of the gas unit and threshold (#17808)
f0bd4c684 chore: rename gas to gas_used in the node logs (#17767)
bcbd2d64c chore: Expose payload builder handle and metrics (#17764)
3ba2370a5 chore: remove redundant words in comment (#17753)
0b1c94a15 feat: add op db access example (#17796)
3e0ceda9f feat: persist origin on pooled tx backup for propagation setting (#17756)
76c4c02ed chore: replace ~/.cargo with $CARGO_HOME (#17776)
69a1951f5 docs: add optimism Access-list spec (#17775)
1ba9e680b fix: reth dev node implement the `--block-max-transactions` arg (#17784)
42ae8beee fix(network): push header before next header check in `get_headers_response` (#17766)
6260c10c5 chore(deps): weekly `cargo update` (#17777)
31dd1334e docs: remove deprecated difficulty check comment (#17781)
5f0d33425 chore: msrv 1.88 (#17782)
d8f9f05e2 fix: add validation against parent header in `reth-stateless` (#17754)
a9cd3fc83 chore: Fix typo `tx_inf` -> `tx_info` (#17763)
c23e53377 refactor(witness): remove unnecessary curly braces in closure (#17752)
82bbed979 feat: nix flake (#17757)
9862481f1 fix(stages): use correct block number in error message (#17751)
59e4a5556 feat(grafana): add state root duration histogram graph (#17745)
b5e65926a fix: add missing semicolon in wallet generation loop (#17739)
baa03294c fix: enforce propagate on getpooledtx (#17720)
f5c2502f5 feat: delay block -> payload conversions (#17681)
a4e85841d feat(chain-state): add `IndexedTx` helper (#17737)
49f7543aa chore: remove redundant word in comment (#17728)
bf2700aa3 feat: add jovian to `OpChainSpec` (#17671)
62425b264 chore: feature gate async (#17734)
f3a42bce5 fix: typo in file deletion error message (#17729)
4f6f97d42 chore: rm trie dep (#17732)
f052c46b8 feat: Execute execution-apis-tests in e2e tests (#17708)
4d96ea034 test(generators): add topics_count parameter to random_receipt (#17718)
ac83c2753 fix(db-common): compute state root when initializing from genesis (#17731)
944a5fc19 fix: execution-apis eth_syncing should return false (#17730)
48941e6db fix(GPO): calculate `max_tx_gas_used` corner case (#17679)
1aee21313 deps: bump libmdbx to 0.13.7 (#17727)
4db6adfed chore: fix clippy docs (#17726)
6c37ef563 chore: add flag to disable txpool gossip (#17724)
d5f59070b test: add ordering test (#17703)
cf3ab02b2 chore(deps): weekly `cargo update` (#17716)
3a201c24b test(exex): add advance backfill range test (#17714)
6234f61c3 fix: forward unknown hashes pre bedrock (#17709)
f74efdb02 chore: fix clippy warnings (#17707)
8553bf9cd feat: add all_transaction_hashes (#17700)
db779ed9d fix: feature-gate std-only methods in sparse trie (#17706)
7d660b57b refactor: move BasicEngineValidator creation into EngineApiValidatorBuilder trait (#17664)
2170f1b97 test(op-chainspec): add isthmus checks (#17698)
54a4a23f6 fix: skip pending tx updates with higher prio value (#17699)
3a2bf263d fix(txpool): also emit promoted pending tx on pool drift (#17695)
ed5641723 feat(trie): add blinded node metrics in ProofTaskManager (#17685)
575a99fd2 chore: bump `alloy-op-hardforks` and `op-alloy` (#17697)
0f1ff2092 fix(config): default back gas limit to 45M on mainnet (#17690)
f0051e101 fix: use primitive header type for fetching header (#17691)
568a7e065 refactor: stream transactions while executing payload (#17661)
98e30d434 chore(sdk): Add example for building offline `TraceApi` with node builder (#17682)
6c7f7f7e5 fix(pool): optimize canonical state change benchmark (#17688)
dd3479ff6 chore: rm clone for witness (#17684)
6a587a23e perf(trie): reuse allocated trie input in payload processor (#17371)
26173f99b feat(trie): add ParallelSparseTrieMetrics (#17405)
377253522 fix: RPC: feeHistoryEntry should return 0.0 when blob_params.max_blob_count is zero (#17669)
7001f7a33 feat: convert BlockExecutionErrors (#17573)
dd4b2869d docs(example): extract full contract state from db (#17601)
dac5868a1 feat: tracked  State for local pending block (#17600)
938d589b5 feat(merkle): add IntermediateRootState for storage root progress (#17548)
a5f2d5865 perf: remove redundant metrics update (#17660)
32e27c04d fix: create`tx_env` after applying state overrides for `estimate_gas` (#17668)
056ae2abc feat: added max-readers flag for db (#17663)
6923e051e refactor(cli): replace From<Header> with CliHeader trait (#17656)
489f262d9 docs(trie): update ParallelSparseTrie documentation (#17538)
12fb91338 perf: add benchmark for on_canonical_state_change (#17645)
e38e247b4 perf: box larger futures (#17633)
60bbd6631 refactor: move invalid block hook creation from LaunchContext to AddOnsContext (#17655)
6487f0b90 feat: separate EngineValidator from PayloadValidator (#17641)
f517e0159 perf: only notify if we have listeners (#17651)
92020d9eb perf: can shortcircuit here if no peers (#17650)
9ebe4e565 chore: only cast basefee once (#17648)
6e148e6b5 perf(txpool): rm unused best bijection (#17649)
7ff8f3fff perf: avoid redundant notifications (#17647)
6430535dd fix(era-test): fix integration tests for era (#17646)
7f2bdbbdf perf(trie): Process multiproof reveals for storage tries in parallel (#17440)
b1f1e9d71 docs: fix doc comments: clarify downloaded bytes and builder return condition (#17566)
9d1af5a09 refactor: introduce Enginvalidator in tree (#17598)
d392c3fdf chore: relax `Cli::run_with_components` (#17630)
7ed3ab0ec chore(deps): weekly `cargo update` (#17628)
812dd04b8 fix: correct comment for is_latest_invalid method (#17621)
e63dafb3b docs: fix typos (#17624)
8796a77cf feat: support any network type in eth api builder (#17617)
5748cf92a fix: Benchmarking Link in database.md (#17553)
3f3ccc3aa chore: remove duplicate deps (#17618)
73091305a chore: make clippy happy (#17620)
0a416d33d docs: correct error comments in networking optimism modules (#17602)
c549188a9 feat(rpc): add method to configure custom tokio runtime for RPC server (#17611)
a7cbf81b6 test(sdk): Add test for using node builder with noop components (#17560)
de5cbfe4c test(era1): add more `Receipt` tests to verify decoding (#17592)
876e964cb chore: introduce engine module (#17591)
dc90eb2ff fix: typo in Cargo.toml (#17588)
e29707f0e feat: Add IPC socket permission configuration (#17497)
6b23818c7 refactor: small simplifications for tree types (#17589)
eaaf1ab4d fix: remove extra space in PostStateRootMismatch error message (#17590)
bf36f9521 docs: fix the parameters (#17586)
8bd6bf5dc feat(engine): add validate_payload and validate_block methods to EngineValidator trait (#17429)
a72fe7a2d chore: move validation to standalone fns (#17582)
9ff444ea9 fix(txpool): enforce encoded length check (#17581)
c986441d8 fix: correct prune mode assignments in HistoryIndexingStages (#17575)
ff76f66cd feat: abstraction for attributes -> NextBlockEnv conversion (#17570)
2c5a96789 feat(era): add era types (#17477)
ed8eacfc5 refactor: move EngineValidator trait to reth-engine-tree (#17559)
42c1947c8 chore(hive): update expected failures (#17580)
81e0cb038 feat(ci): add ignored tests management to hive workflow (#17577)
752637a5d feat: make CompactEnvelope trait public for external crate usage (#17576)
58235419b feat(reth-bench): add gas throughput chart to python script (#17572)
a1a4f2df7 refactor: use alloy `Log::collect_for_receipt` instead of macro to collect logs (#17569)
8ce656f83 feat: add TreePayloadValidator (#17451)
868c421c5 feat(pool): return state of an added tx (#17442)
c2098faea feat: make basic block builder pub (#17476)
c1bfa3144 chore: rm unused file (#17563)
2446c2fd4 perf: process chunks in par for get logs in block range `eth_getLogs` (#16675)
ca645b40e fix(exex): update batch threadshold calculate processed blocks (#17551)
d8451e54e chore: bump version v1.6.0 (#17556)
4fb1b8a61 ci: fix era sync test (#17561)
a0de7f875 fix: convert latency to milliseconds in reth-bench script (#17555)
53df3b803 feat: add `AddOns` for custom node example (#17544)
48617dc33 ci: mark system eest tests as passing (#17542)
3ab5bac40 chore: bump deps (#17554)
58e611358 feat: implement DatabaseProviderFactory for NoopProvider (#17134)
7b76a1e00 chore: relax EthereumEthApiBuilder bound (#17546)
39f1ee879 feat(reth-bench): auto-create output directory (#17541)
f532e49d2 chore(deps): bump inspectors 027 (#17543)
1eff10d87 docs: fix typo in OpReceiptBuilder comment (#17540)
566ff51d0 perf(trie): Re-use storage tries across payloads (#17488)
8c50d8418 docs: Fix broken fuzzing module link in database.md (#17523)
0a8cb95eb feat: `EthApiCtx::eth_api_builder`  (#17532)
94c1c3f07 feat: `ComponentsFor` type alias (#17533)
4bd2fd2da refactor: rename `AlloyRethProvider` to `RpcBlockchainProvider` and move to storage (#17524)
818e01773 feat: `HeaderConverter` (#17490)
8f26b9564 chore: bump alloy-evm 015 (#17528)
42f791924 fix: ensure required revm features are activated (#17526)
5bc858916 chore: extend exex ethapi example (#17481)
84387f7c9 chore: sanity secp256k1+rayon activations (#17527)
ac2974867 feat: make payload validation functions generic over block header type (#17520)
0b1f25e56 fix: `logIndex` in `getBlockReceipts` (#17519)
4639f9453 docs(trace): document trace format and response structure (#17517)
5b01ca773 docs: normalize dynamic CLI defaults in help generation (#17509)
52a627bf4 docs: fix error in RawCapabilityMessage comment (#17411)
a49fef80c fix: temporary file leak in atomic_write_file (#17505)
c1ff79c07 fix: Refine Transaction Abstraction Link (#17502)
c78f7e450 feat(alloy-provider): compatibility for non-reth nodes (#17511)
54855e179 docs: fix Sepolia URL description (#17495)
bec451026 chore: migrate from codespell to typos (#17501)
2c62cd8b4 ci: dont expect callenv to fail (#17516)
8f38b42e3 feat(alloy-provider): implement `receipts_by_block` and other methods (#17507)
1175f6c17 chore(deps): weekly `cargo update` (#17506)
03ceac7e7 fix: refactor trace log key and comment formatting (#17459)
627658bda fix: correct documentation for block_mut method in SealedBlock (#17489)
c1a33a2e6 docs: fix outdated file paths in database.md links (#17486)
f0572fc9d perf(tree): add metric for payload conversion + validation latency (#17499)
b0aed0dde fix: force set basefee to 0 if gasprice is 0 (#17496)
81b93ac58 chore: downgrade threadpool init error (#17483)
2ced40914 feat(alloy-provider): implement methods for BlockReaderIdExt (#17491)
623920c63 fix: set correct timestamp when calculating basefee (#17493)
537ffeaca feat: continue opchainspec support (#17422)
8fb0fbba7 chore: fix reth-engine-tree dev-dependencies import (#17487)
0aef0c35c feat(alloy-provider): implement `receipt_by_hash` method (#17456)
0f449f2b3 feat: add Middleware generic to AuthServerConfig (#17373)
1b6f72321 feat: enable CLI support for custom block headers (#17441)
ca116aa7b docs: add code example to extend_rpc_modules method (#17446)
3c9ff6e15 fix: change hyperlink to reth_codec (#17437)
e089d902c fix: edit link and config (#17453)
3add4b1e3 feat(alloy-provider): implement `transaction_by_hash` method (#17479)
87000e335 chore: expose chainspec getter (#17461)
6927afac1 fix(`docs`): rustdocs module and nested links  (#17478)
65a63e129 feat: add envelope conversion for op (#17469)
0fff798cb fix(`docs`): change sdk overview path to /sdk (#17467)
d4d3e22f7 fix: correct documentation for block_mut method in RecoveredBlock (#17472)
1912ac754 feat(alloy-provider): implement `bytecode_by_hash` method (#17471)
425541d5a fix: use primitives headers for pruner (#17458)
05fed6f99 feat: add helper for building pending block env (#17464)
61a19c1bc feat(alloy-provider): implement `sealed_header` method (#17455)
0b1d950f6 feat(tx-pool): add submit methods to `TransactionPool` (#17431)
237e97ab8 docs: fix typo from `optstack` to `opstack` (#17454)
7ccb37ebe refactor: move receipt conversions to `RpcConverter` (#17450)
2afd10981 chore: correct spelling errors (#17462)
824e09905 feat: make engine API metered methods and utilities public (#17460)
1e2087104 docs: fix typo in NetworkManager diagram (#17448)
802be64ef perf(trie): parallelize ParallelSparseTrie::reveal_nodes (#17372)
825222f3b fix: Update JWT Secret Flag in Benchmark Documentation (#17447)
f86959f4c docs: enhance direct database access documentation (#17445)
2d1f8cdea fix: rename `highest_static_fileted_block` to `highest_static_file_block` (#17427)
fdefed3d7 fix: Update Docker Compose Docs Link in etc/README.md (#17414)
8cbd11994 fix: Rename WitnessBlindedProvider to WitnessTrieNodeProvider (#17426)
c01f230ff chore(bin): missing `--jwt-secret` message in reth-bench (#17443)
1179da222 chore: simplify blob count extraction using new blob_count() method (#17439)
8e5efb36c feat: make revm_spec generic over header type (#17436)
264332466 chore: bump revm 273 (#17412)
b0d05b69e refactor: remove unused sparse trie methods (#17433)
76b19f37a chore(consensus): refactor fork and ommers check into standalone fn (#17406)
5d72088ec chore: add txpool submit examples (#17420)
cd737052c test(engine): enable parallel sparse trie in e2e tests (#17423)
4364cd09b refactor: use DefaultTrieNodeProviderFactory in state root calculation (#17425)
55fa57bb1 chore: box import future (#17424)
fe1d2d242 refactor: `BlindedPovider` rename (#17208)
fb9f3cce9 feat: Add support for ethstats (#16396)
c667bc972 chore(txpool): use alloy-primitives HashMap for SenderIdentifiers (#17408)
00d259dbe feat(sdk): make engine API (auth server) optional for custom consensus integrations (#17376)
13c59dc1c feat(alloy-provider): implement header methods (#17402)
13d3d9b57 fix(`docs`): rustdoc search functionality  (#17410)
253721d22 feat: add generic database support for Receipt<T> (#17409)
73f2edb90 feat(rpc): Use generic transaction request as input (#17092)
52bd07b8f refactor(rpc): change receipt to `Cow<R>` for `build_receipt` (#17382)
f83e29cdd docs(guides): add export era in history section (#17391)
61bbe5ee2 perf: release listner lock early (#17400)
44cc67be0 perf: optimize txpool_status RPC by avoiding full transaction collection (#17392)
b9c63f6a1 fix(txpool): Propagate promoted transactions on account updates (#17396)
4edd55aac chore: make clippy happy (#17399)
b19b1b079 chore(deps): weekly `cargo update` (#17386)
332c65661 perf(blob): optimize blob store gets (#17388)
e5e42e79f fix: broken link to system requirements in troubleshooting guide (#17384)
b08586946 chore: consolidate typo fixes from multiple PRs (#17387)
e010ec290 docs: typos (#17283)
ac5d33579 feat: add `into_logs()` to `TxReceipt` for `Receipt`/`OpReceipt` (#17383)
4767e1c25 docs: typos (#17335)
e9389dc64 docs: fix link to installation (#17375)
1d6a83080 feat: make `Receipt` generic over `TxType` (#17237)
80767f1f3 perf(engine): clear accounts trie in background to not block state root (#17369)
f6839ac35 fix(`docs`): rustdocs search functionality (#17367)
99baeeb41 chore(ci): unpin hive (#17370)
96f8faf8f feat(trie): wire parallel trie config to PayloadProcessor (#17355)
2060813af docs:fix spelling error in flowchart (#17346)
bcc9ed461 chore(trie): impl HashedPostState::drain_into_sorted (#17362)
00d117dd3 chore(trie): impl TrieUpdates::drain_into_sorted (#17361)
88ce599f6 fix(`docs`): update-book-cli job (#17365)
cbf2ceb34 chore(consensus): remove outdated comment from validate_block_pre_execution (#17360)
ea35ebfda feat: make ethereum Cli generic over node and remove debug commands (#17363)
98c68c1f8 perf(trie): reuse update action buffers in parallel sparse trie processing (#17352)
f148cb319 feat(rpc): specialise contiguous receipt queries for logs (#16441)
06a7d0564 feat(cli): add enable-parallel-sparse-trie flag (#17357)
4560ac4fe feat: support isthmus in reth-bench (#17351)
a1dd69ee0 feat(trie): add TrieUpdates::clear (#17359)
2b142fb19 feat(trie): add HashedPostState::clear (#17358)
e263daebc chore: broadcast raw tx for opethapi (#17342)
5479e115f chore: add helper to access invalid tx error (#17353)
ee11b424f chore: add helper convert into error object (#17354)
2bf4646e2 chore(trie): add Either type for SparseTrieInterface (#17267)
4668614f4 fix: Typographical Errors in Comments (#17333)
ccc149384 chore: make `OpAddonsBuilder` generic over middleware (#17347)
2813776d4 chore: add helpers for disabling read-tx timeout (#17339)
6561e8ff4 chore(trie): Implement ParallelSparseTrie::find_leaf (#17326)
d7aa75137 feat: add graph selection option to newpayload latency comparison script (#17097)
c274422bb feat(trie): add generics to SparseTrieTask (#17269)
60c86aeca feat(era1): add subcommand `export-era` (#17132)
da2ab711d refactor: rename `RevealedSparseTrie` to `SerialSparseTrie` (#17345)
26b7258d5 feat(ci): reorganize e2e tests with dedicated nextest filter and CI workflow (#17290)
1a7c335a6 feat: `re-execute` command (#17330)
ea944fa75 fix(`docs`): broken rustdocs link (#17341)
0f49e35fb fix(trie): reset hashes of nodes along the path of removed leaf (#17331)
0326dab81 chore: replace CacheDb with trait bounds (#17315)
b3d722f1f chore: simplify receipt envelope conversion (#17337)
e3d2632be chore: remove type hints (#17336)
b317431b7 chore: make tracer match non-exhaustive (#17338)
4cd0c0d61 test: allow empty response (#17332)
959323fa6 feat(sync): track time spent in stages (#17321)
73f820af4 feat(sdk): add `local_payload_attributes_builder` to `DebugNodeLauncher` (#17297)
9ec522d91 fix(trie): move masks to `ParallelSparseTrie` level (#17322)
7195eca1c fix(trie): ParallelSparseTrie::update_leaf: add moved leaves to the prefix set (#17317)
0cbb4823c perf(txpool): reduce one BTree lookup operation in `add_transaction` (#17313)
b0cf23af4 fix(trie): duplicate hash mask check in sparse trie implementations (#17316)
7e3eb0393 docs: add section for enabling pre-merge history expiry (#17320)
700b1fd31 feat: make build_receipt infallable (#17287)
e15be6584 chore: bump vdocs version (#17318)
162568b29 chore: relax era export bounds (#17312)
9d8248528 fix: correct typos  (#17296)
9a2c66a50 fix(docs): correct duplicated function reference in documentation (#17301)
e238fc482 feat: add --prune.receipts.premerge setting (#17295)
818712124 docs: myrpc_ext.rs: fix namespace inconsistency in myrpcExt comments (#17300)
cb42ac94b refactor(examples): Use `TransactionEnvelope` macro from `alloy` for `CustomPooledTransaction` in the `custom-node` example (#17302)
15c656263 chore(trie): remove Default bound from SparseTrieInterface  (#17268)
3ba16128a feat(test): add rpc e2e tests (#17284)
038ddd661 perf: remove block cloning from `is_descendant` check (#17286)
34f1a606b chore(trie): move from_root out of SparseTrieInterface (#17266)
34b1d3d5c ci: add https:// to image URLs in release.yml (#17280)
eaf2e50f0 test(trie): add sparse trie tests to parallel sparse trie (#17258)
bb1e44e8a fix(trie): ParallelSparseTrie: remove leaves from upper subtrie when update in a lower (#17278)
dbe7ee9c2 chore: bump 1.5.1 (#17277)
9fe0f25e7 docs: fix correction in storage reverts iterator test comment (#17276)
62c5a5730 docs(guides): Add history expiry (#17274)
7017627a9 chore(trie): add Send and Sync to SparseTrieInterface (#17270)
11db28e9b feat(trie): add parallel sparse trie to TreeConfig (#17265)
68309cac2 docs: update snapshot URL from downloads.merkle.io to snapshots.merkle.io (#17248)
38f02bb46 feat: include chain-id query param for etherscan v2 API (#17167)
e9a4222c8 fix(trie): correctly handle path field on cleared ParallelSparseTrie lower subtries (#17259)
557836b93 feat(test): add apply_with_import method to e2e Setup (#17263)
5645659d5 chore: bump alloy (#17275)
7c69ab1c8 docs: fix typo basfee → basefee in txpool.mmd (#17252)
af004c0c0 chore: fix typos (#17251)
36d568a40 chore: Fix typo in block number reader comment (#17250)
1eccb5b7f fix: dead link (#17200)
78bad3409 chore: check blob fee (#17272)
e4574326e chore: update size metrics once (#17242)
09b4c5e98 fix(trie): add lower subtrie root paths to upper subtrie prefix set (#17262)
e66caca5e feat(test): spin up e2e test nodes with imported data (#17261)
dddde9eff feat(test): allow to create testing nodes with specific datadir (#17260)
468e92507 fix(trie): track branch node updates only in ParallelSparseTrie, not subtries (#17223)
927e9c466 docs: typos (#17246)
1f557b399 docs: fix typo `fileted` to `filtered` (#17257)
e70f6871b refactor: extract import functionality to separate module (#17253)
a64dafdb5 fix(trie): `ParallelSparseTrie::default` should have an empty root node (#17256)
44b361a4e fix: correct comment in static file writer (#17254)
651f1b97e chore(deps): weekly `cargo update` (#17247)
8e800d6f7 docs: deleted extra duplicate environment.rs (#17249)
3277333df docs: correction comments  (#17244)
1e9866c85 refactor(rpc): Arc PendingBlock internals (#17240)
0592bd06a docs: Consistent Spelling for "Reuse" in Documentation (#17232)
30a9690a4 fix: correct typo in ValidationApi comment (#17241)
beb8fac91 feat: add v5 flashbots relay block validation api for Fusaka (#17179)
593477c67 refactor(txpool): Remove txhash from PoolUpdate (#17239)
29c1a35e8 docs: fix typo mod.rs (#17233)
e948ab12f fix: logical error in pruning test for storage_history PruneMode::Full (#17235)
ca36316f3 chore: add capabilities to NetworkStatus (#17236)
dcf3469d5 chore(doc): update exclude list for doc/cli (#17234)
89d0e6a91 feat(p2p): separate args for (header, body) (#17184)
47d2ed55d docs: fix typo in documentation comments (#17207)
a46d0c027 chore: use alloy traits for build receipt (#17211)
19d4d4f4f docs: fix typos across documentation (#17212)
6bf87384c Fix typo in EVM component documentation (#17227)
d101fb7b9 Update metrics documentation link to new official Reth docs (#17220)
250f2104c fix: Returns Arc<RecoveredBlock> in BlockAndReceiptsResult (#17213)
9a58ef18a chore: load kzg settings in background (#17224)
cc46a27eb chore: make receipt root mismatch log more useful (#17225)
62b1d574e docs: improve NodeAddOns trait documentation (#17178)
2962f2ea3 chore: fix typo in documentation comment in environment.rs (#17218)
342bab5e8 deps: Upgrade `alloy` version `1.0.16` => `1.0.17` and all other deps minor versions (#17217)
5c47be25c feat(txpool): add minimal priority fee configuration for transaction pool (#17183)
3b92a2359 chore(trie): make SparseStateTrie generic with respect to trie implementation (#17205)
345735888 chore: make clippy happy (#17219)
e49bbe416 chore: bump evm 0.14 (#17206)
3b1b2a022 fix: dont double serialize resp (#17204)
037be8d7a chore(test): don't use `EvmInternals::new` (#17188)
d02663074 perf(trie): implement `SparseTrieInterface` for `ParallelSparseTrie` (#17192)
7a8a0da1a perf(trie): implement `SparseTrieInterface` for `RevealedSparseTrie` (#17191)
a550025a8 docs: fix typo in trie test comment (#17199)
8c38c8b33 perf(trie): sparse trie trait (#17181)
d949061fc chore: bump inspectors (#17198)
c2a2d7d44 feat(trie): ParallelSparseTrie: Compute lower subtrie hashes in parallel (#17173)
c6e6a54d5 docs: typos (#17168)
c2737957d docs: update snapshot URL from downloads.merkle.io to snapshots.merkle.io (#17190)
f86445e09 feat(trie): add ParallelSparseTrie::update_leaf (#16956)
60940dd24 Add bootnode cmd to cli runner (#17180)
b286a61db chore: relax rpc middleware generic (#17174)
f54cef5e2 docs: update Grafana repository URL in monitoring documentation (#17175)
40fd91a06 feat: expose chain_spec field in LocalPayloadAttributesBuilder (#17151)
3a3bc5f79 feat: trait impl for dbmock (#17124)
9c045810a docs: update metrics link in ethereum.mdx (#17170)
b1f9f716a chore(trie): factor out SparseTrieState (#17166)
a37917dd7 chore: removed link for book `repo/layout.md` (#17164)
4199dd467 feat: eth addons' middleware setter (#17159)
1c169257b chore: add debug for forkid mismatch (#17157)
7350c0151 fix(trie): correct ParallelSparseTrie lower subtrie path management (#17143)
1bd5761b3 chore: bump revm (#17153)
06b542c55 docs: fix broken links and typos (#17149)
fcf58cb5a fix: use safe math for withdrawals check (#17150)
7276dae4e feat: introduce max_tx_gas_limit feature to enforce per-transaction gas limits (#17028)
22d271a71 chore: fixed dead link in docs/.../sync-op-mainnet.mdx (#17146)
c9f20728f chore: pass provider into SparseTrie and SparseStateTrie via impl argument in update/remove_leaf (#17099)
2819ab2c0 chore: promote trace to debug (#17144)
bdb3debdf feat: remove redundant generic from `EthereumEngineValidatorBuilder` (#17108)
c63459884 refactor: Replace reth `recover_singer_with_buf` with `alloy` (#17107)
678b5cd1f chore: rm unused either type (#17126)
42eb67247 feat(optimism): add debug namespace endpoints to historical RPC forwarding (#17133)
5409d3146 chore: fixed broken links in opstack.mdx (#17135)
515e2077b docs: fix spelling errors (#17139)
bf260bfcb docs:  update Engine API link in ethereum.mdx (#17137)
772c65eab docs: add comprehensive documentation for LaunchContext type system (#17120)
f67629fe9 docs: fix installation source URL in ARM devices guide (#17128)
c08d41a2f docs: remove reference to ContextStatefulPrecompile in precompile cache example (#17130)
63f684515 chore(deps): weekly `cargo update` (#17131)
a072de32d docs: fix broken tutorial link (#17127)
a8fa75148 Replace Book with Docs references (#17125)
6f1497cc1 feat(alloy-provider): implement fetch block (#16934)
0a8a4ac2c docs: fix typo in section of node-components.mdx (#17105)
31d0bb1d5 refactor: move consensus layer events to launch context (#17117)
bfd745117 refactor: move ERA import source creation to LaunchContext (#17115)
8fa928ec5 refactor: make get_healthy_node_client async (#17119)
2c52fc3f9 chore: tell claude to run fmt before opening a pr (#17118)
5c8281207 refactor: move ExEx launching to LaunchContext method (#17114)
898094499 docs: fix error in `config.rs` (#17113)
fae433319 refactor: simplify handling of `NetworkPrimitives` in CLI (#17112)
34d95414d fix: track earliest available block correctly (#17095)
40e8fb6d4 docs: fix typos across documentation (#17102)
e89ea409e feat: relax EthereumNode ChainSpec bounds (#17106)
b2000155d feat: use Header AT in `EthChainSpec::next_block_base_fee` (#17101)
5f8aa53c6 deps: Upgrade `alloy` and `op-alloy` versions `1.0.13` => `0.18.7` and `0.18.9` (#17103)
43b091b0e docs: debug clarify healtyh node rpc url setting (#17100)
1d9a255f1 chore: rm redundant bounds (#17104)
384e64ed0 feat: Add StatelessTrie trait for `reth-stateless` (#17098)
0ae423878 feat: add per-address metrics for precompile cache (#17058)
a33be2e02 chore(`docs`): move to docs from book (#17096)
806677147 fix: use safe conversions for number and timestamps (#17093)
cfdd173af perf(trie): implement remove_leaf for ParallelSparseTrie (#17035)
0e832c2c3 chore: replace revm_utils with alloy_evm helpers (#17046)
8aeaa4ef3 docs: error fixes for clarity  (#17091)
07b19553a feat: centralize EIP-1559 base fee calculation in EthChainSpec (#16927)
d635035be feat: punish malicious  peers (#16818)
3c2ef0e28 chore: bump version in docs (#17085)
a7e19963f feat(`docs`): serve rustdocs  (#17084)
61e38f9af chore: bump version 1.5.0 (#17083)
9b3f2576d feat: add blanket impl for Receipt trait (#17082)
777ee2de2 fix(`docs/sdk`): heading hierarchy  (#17079)
2e799062f feat: convert reth-bench scripts to use uv script format (#17078)
55840bb32 docs: error fixes for clarity (#17062)
471f6a375 fix(`docs`): redo system reqs, fix links, rebrand to docs (#17071)
f9e6b1073 chore: bump alloy 1.0.13 (#17072)
4e4937ffd feat: include eth_sendRawTransactionSync in eth namesapce (#17070)
988c0f0c5 docs: typo in comment for `get_pending_transactions_by_origin` (#17065)
142c6342e fix(cli): propagate max-tx-input-bytes setting (#17066)
bde35a329 docs: add libmdbx restriction to CLAUDE.md (#17060)
7349abd12 refactor(examples): Use `TransactionEnvelope` macro from `alloy` for `CustomTransaction` in the `custom-node` example (#17057)
79d737e6c chore: bump alloy patches (#17067)
f6278a198 feat(trie): add assert_eq_parallel_sparse_trie_proof_nodes (#17052)
30110bca0 docs: fix typo "takes effect" (#17053)
7267734d5 chore: delete reth-performance dashboard (#16635)
eef134521 chore: Add precompile cache hit rate graph to grafana overview (#17055)
56f6da5ed feat: make jwt-secret argument consistent across reth-bench commands (#17050)
51bda0dcb chore: use earliest block number (#17044)
14c6b5f5e chore: use payload_builder target (#17049)
d2b4dd561 perf(trie): implement `ParallelSparseTrie::root` method (#17030)
5221b6d28 chore: fix typo execution.rs (#17004)
4afe7906d feat: introduce reth era export (#15909)
a78be9c13 fix(`docs`): banner on landing (#17048)
5f688bb83 docs: fix errors and correction (#17047)
48743963f fix(`docs`): broken links for images on landing (#17043)
eb5e36715 chore(`ci`): rm concurrency from book workflow (#17038)
df13c6e58 docs: fix typo in transaction expiration comment (#17037)
6d04e66d3 chore: fix spelling errors (#17029)
05d44bba9 refactor(rpc): replace `ExtendedTxEnvelopeRepr` with `ExtendedRepr` in `serde_bincode_compat` (#17033)
8485d99df feat: add --rollup.historicalrpc CLI argument for op-reth (#16941)
599de19fb chore(`book`): migrate to vocs (#16605)
f7b26ade3 fix: correct typo “reseipt” → “receipt” in serde_bincode_compat tests (#17034)
f5680e74d feat: prune pre merge transaction files (#16702)
b8e3f673d chore(trie): rephrase the log about storage proof task result sending (#17032)
e4281b345 refactor(trie): introduce `SparseSubtrieInner::rlp_node` method (#17031)
b011ad0d8 feat(rpc): Propagate the RPC transaction request from `Network` and `RpcTypes` (#17025)
265700cf2 feat: add configurable RPC middleware to RpcAddOns (#17024)
71b33f12c chore: enable state root task in engine tree unit tests (#17023)
3f5486d9c feat(tx-pool): add getter methods for `EthTransactionValidator` internal fields (#17022)
b719bb7d5 docs: update outdated validtor docs (#17027)
faa9d3756 chore: remove unused for<'a> (#17026)
cf8ff9829 feat: add codec re-exports to reth-op and reth-ethereum (#17020)
2563a168e chore: re-export op hardforks from op chainspec (#17018)
474096146 perf(trie): `SparseSubtrie::update_hashes` (#16943)
eefbc953a feat: allow access to db via NodeBuilder (#17021)
dd5501336 perf(trie): Place the root nodes of the lower SparseSubtries in those tries (#17011)
2462eb2f6 refactor(rpc): rename crate reth_rpc_types_compat → reth_rpc_convert (#17019)
3916c8571 revert: test: special case for nibbles implementations of `Compact` (#17006) (#17012)
5eed5c6d7 feat(rpc): Add `TransactionRequest` into `RpcTypes` (#17017)
fd101ea95 refactor(rpc): Rename crate `reth_rpc_types_compat` => `reth_rpc_convert` (#17013)
34fe4c7c5 perf: `U256` nybbles (#16727)
3f3c2914a docs(rpc): Add documentation for `RpcConverter` (#17010)
dc67f0237 chore: rm standalone fn (#17007)
ff5787da8 refactor(rpc): Rename `TransactionCompat` => `RpcConvert` (#17009)
e95797180 docs: rephrase RpcNodeCore docs (#17005)
0d5edc240 chore: add size field in the new_header_stream method (#17008)
93a407b56 test: special case for nibbles implementations of `Compact` (#17006)
9d61cf813 chore: simplify `RpcConverter` (#17002)
023c5d7d9 chore: rm unused eof variant (#17001)
974692d7d docs: improve ConfigureEvm trait documentation (#16937)
8ce99797a refactor: introduce OpFullNodeTypes helper trait to reduce bound duplication (#16431)
88edd5264 feat: bump revm v26 (#16969)
4f5ad1868 docs: improve payload primitives documentation (#16986)
2ba3d134a feat(test): rewrite test_engine_tree_live_sync_transition_eventually_canonical using e2e framework (#16972)
9f710adee chore: fix typo bootnode.rs (#16995)
55fdebdc0 chore: changed example command (#16993)
18cd06f30 docs: add `reth_fs_util` suggestion instead of `std::fs` to claude doc helper (#16992)
0c862caa9 chore(deps): weekly `cargo update` (#16987)
45a63c615 docs: fix error in HARDFORK-CHECKLIST.md (#16989)
09f740d93 chore: use from conversion for txkind (#16990)
a0c3bbf92 feat: add rpc header compat (#16988)
0131267e3 feat(rpc): Replace associated type `Transaction` with `Network` in `TransactionCompat` (#16973)
7e9f14160 chore: simplify test HttpClient implementations (#16985)
02bbcc836 fix: use empty withdrawals if parent has withdrawals root (#16980)
6ee5006ac chore: relax localpending block bounds (#16979)
9ce49a981 chore(era): complete doc for `ClientWithFakeIndex` (#16984)
ba1680447 feat: add From impl for RecoveredBlock from blocks with recovered transactions (#16983)
9cf910ce2 refactor: remove CallFees re-export and relocate tests (#16981)
9939164d0 chore: remove unused features (#16963)
10f834486 chore(sdk): Add default for noop component (#16570)
83802249e fix: Improve comment in historical RPC tests (#16971)
b78671081 feat(transaction-pool): enforce EIP-2681 (#16967)
f917cf0eb perf(rpc): optimize EVM reuse in `eth_estimateGas` (#16958)
1339e8770 feat(era): Attach file name and path to checksum error (#16974)
9961d46bb fix: add missing historical RPC endpoints for Optimism pre-bedrock (#16976)
85e6e979c chore(merkle): add debug log inside incremental loop (#16977)
8f16e2199 chore: resolve unused import warning in reth RPC API subscription attribute (#16975)
0ce46431f chore: propagate inner error in ef tests (#16970)
15529e792 revert: "ci: pin nextest version" (#16890)
b45f84d78 fix: check if dir exists before removing (#16968)
f9b4eba3b chore(trie): Replace magic numbers in ParallelSparseTrie code (#16960)
343983d0a chore: feature gate all op rpc types compat impl (#16964)
24f036534 chore: use revm tx trait directly (#16961)
5a5b58c6c chore: update codeowners (#16957)
f318fc26a chore: remove duplicate callfees (#16955)
110cb84bd feat(test): rewrite test_engine_tree_live_sync_fcu_extends_canon_chain using e2e framework (#16949)
ea5ffa51f bench: disable sparse trie update bench as it's flaky (#16953)
9231652c6 perf(trie): `ParallelSparseTrie::update_subtrie_hashes` boilerplate (#16948)
f59a82e4c chore: add node synced helper (#16928)
ad6817750 chore: move parallel sparse trie to its own crate (#16950)
54cd8b34a perf: Reduce unnecessary MDBX transaction creation when constructing StateProvider (#16884)
0288a2d14 bench(trie): prepare trie outside of routine, use large input size (#16945)
4be222623 perf: Reuse CachedPrecompileMetrics across block executions (#16944)
6aa73f148 feat: require only account & bytecode reader for tx validation (#16930)
ebd57f77b perf(trie): `ParallelSparseTrie::reveal_node` (#16894)
aa725dd0c feat: add Historical RPC Forwarder Service (#16724)
2f9c5ace3 test: flaky connection test (#16939)
55dd16ac2 perf(trie): box subtries in parallel sparse trie (#16938)
2ebb51928 chore: Expose payload_id (#16931)
53cd4b239 chore: add type alias for PayloadAttributes (#16933)
20800be46 docs: Fix Typo in DebugNode Trait Documentation (#16932)
cdb5b69d2 chore(tx-validation): remove redundant validate methods (#16929)
67e3c1113 perf(trie): `ParallelSparseTrie::get_changed_subtries` method (#16908)
57281834e feat(test): rewrite test_engine_tree_buffered_blocks_are_eventually_connected using e2e framework (#16830)
c0c2eeaa3 chore: remove unused approx_capacity_get_pooled_transactions_req (#16907)
b5f5a3a06 chore(net): document test_trusted_peer_only, fix incoming local_addr (#16925)
fea711e7d deps: update alloy dependencies to latest patch versions (#16922)
8bcf1906f chore(engine): add log showing which root algorithm is being used (#16924)
dbe828546 chore(trie): add more stubs for ParallelSparseTrie (#16918)
5cbb1f650 fix: typos in documentation and source code (#16916)
de56409a5 chore: add missing receipts69 handling (#16913)
d9512e2ca docs: improve transaction-related trait documentation (#16920)
9d7f0b2e2 feat(alloy-provider): stub out required trait implementations (#16919)
5f45e3002 docs(trie): mention that SparseSubtrie path is a full path (#16917)
2fa02b793 fix: allow eth69 block propagation (#16915)
e3a78c01e feat: load KZG settings on EthTransactionValidator startup (#16889)
da42c0c58 fix: prevent invalid range in fee_history when newest_block is pending (#16910)
f6ad01de4 refactor(rpc): Delegate `FromConsensusTx` conversion for `EthereumTxEnvelope` to `alloy` (#16909)
a86e18fa1 chore: added all version const (#16880)
96c738193 feat(trie): Embed a SparseSubtrie into the ParallelSparseTrie as its upper trie (#16905)
8d8d19746 feat: sparse trie update benchmarks (#16748)
e81747371 docs: improve reth-primitives-traits documentation (#16870)
9002d3a20 feat(trie): sparse subtrie type (#16903)
d25b11fd7 chore: add @mediocregopher to trie codeowners (#16904)
9bb555861 feat: add from_root for ParallelSparseTrie (#16865)
d29f83e56 feat: add newPayload throughput and total gas charts to Grafana (#16901)
8758d8245 feat: add abstractions for permit in metered channel (#16882)
21cf573d9 fix: move `bytecode_by_hash` from `StateProvider` to a dedicated `BytecodeReader` (#16886)
04f09f920 chore(tx-pool): use max_blobs_per_tx in validating eip4844 txs (#16888)
95cd15e59 perf(era): Skip download if ERA file with verified checksum exists (#16804)
7c0e95bd3 feat: added experimental eth_sendrawtransaction endpoint (wip) (#16683)
5437d2614 test: add walk_dup test with not existing key (#16562)
239aa0892 ci: pin nextest version (#16887)
619c8917c docs: enhance DebugNode trait documentation (#16872)
5dc47e149 fix(op-reth, rpc): eth_getBlockReceipts err for genesis block in op-reth (#16879)
8dbbe7bda fix(test): handle getting the last base_fee_per_gas (#16881)
55134742d chore: add block gas limit to block added log (#16875)
671f0fe56 feat: introduced loop with range of chunks in the incremental root stage (#16178)
a808533f3 fix(pipeline): prevent unwind beyond history limits (#16593)
cb11ab047 feat(engine): Compare sorted trie updates in witness invalid block hook#15689 (#16481)
1d01f2a46 feat(trie): Decode storage proofs in parallel tasks (#16400)
243a52314 feat: add CLAUDE.md (#16864)
5c6f236e9 feat: use configurable instance label for overview dashboard (#16633)
759101d35 feat: introduce script to compare reth-bench latency CSVs (#16862)
e8d305bcc refactor: used new fn earliest_block_number for ::Earliest tag (#16859)
051cef53b chore: add rpc-compat feature in reth primitives-traits (#16608)
58cfd2e02 fix(provider): fix doc comments errors (#16749)
7f815bbd8 fix: dead link in tracking-state.md (#16857)
8857c5da0 fix: handle forced propagations (#16845)
d6eb78910 test(chainspec): Test conversion from blob params in genesis config (#16854)
dd1d42655 perf: avoid duplicate peer lookup (#16846)
bcb4fd371 feat(rpc): Replace manual `IntoRpcTx` implementation with `FromConsensusTx` using an additional generic (#16855)
576cef4b1 feat(rpc): Implement `FromConsensusTx` for generic `OpTransaction` (#16832)
71a057bcb perf: Reduce unnecessary memory copies in `compare_storage_trie_updates` (#16841)
a38428eb0 docs: update comment for is_eip7702() method (#16852)
41c93a113 chore: bump alloy 1.0.11 (#16853)
34ef2a27e feat: add RlpBincode helper (#16849)
7bc6939d5 chore: use earliest block number from provider (#16848)
5d754195a chore: bump alloy (#16828)
820c334a4 feat(era): Delete files outside the range before counting them (#16805)
3096e9520 chore(ci): pin kurtosis-op optimism package (#16842)
8477d652f refactor: replaced update_status with update_block_range (#16840)
46780aec2 feat: introduced fn earliest_block_number for BlockNumReader (#16831)
ee2e60c14 chore(deps): bump dawidd6/action-homebrew-bump-formula from 4 to 5 (#16838)
ecb92f307 chore(deps): bump dprint/check from 2.2 to 2.3 (#16839)
5efd3c0c5 deps: Upgrade `op-alloy` version `0.18.2` => `0.18.3` and all other deps minor versions (#16835)
f22c8bded feat: add parallel sparse trie skeleton (#16837)
519cd3e30 perf: reuse accounts trie in payload processing (#16836)
b4a082306 docs: clarify txpool docs (#16833)
c4da80aba revert: "perf: reuse accounts trie in payload processing (#16181)" (#16834)
d12a9788d feat(rpc): Add `FromConsensusTx` and implement `IntoRpcTx` for generic RPC transaction (#16784)
a1a1c0c6b chore: update op-alloy deps to 0.18.2 (#16827)
3e0960cb1 perf: reuse accounts trie in payload processing (#16181)
a8522e6a2 fix: validate BlockRangeUpdate message per devp2p spec (#16826)
259a443ba feat(network):  Added Option for dispatching range updates to remote peer (#16776)
5f1353c41 feat: add alloy-provider crate for RPC-based state access (#16809)
fcc935e21 fix: make `EthPubSub` pub to allow composition and fallback overrides (#16823)
68efe4f02 chore(op/cli): Rm unused cli arg `rollup.enable-genesis-walkback` (#16824)
31300e4fd feat: integrate tracing helpers (#16466)
a1d216040 perf(cli): Start from next block based on imported headers in `import-era` command (#16803)
ad86321af feat: relax EthereumAddons trait bounds to support generic validators (#16816)
c3caea204 refactor(era): Remove `start_from` from `EraClient` and use it instead of last file index (#16801)
9d391a8b9 feat(test): rewrite test_engine_tree_reorg_with_missing_ancestor_expecting_valid using e2e framework (#16761)
11df5a1d3 feat: re-export MerklePatriciaTrie from reth-ethereum and reth-op (#16814)
b8e4cd3ac fix: change some rpc response codes to eth invalid input (#16745)
e2e54d813 fix(era): Commit all writers and save stages checkpoint per file in `import` (#16810)
0b2336ddb feat(stateless): simplify `Database` implementation for `WitnessDatabase` (#16820)
fb477d8c2 feat(examples): Add `extension` into `engine_getPayload` RPC method response in `custom_node` example (#16772)
e0acdb102 chore(deps): weekly `cargo update` (#16719)
746e80c81 feat(op): export OpEthApiBuilder from reth-optimism-rpc (#16815)
9dcea7c3f chore: removed legacy.rs (#16817)
bb4bf298e feat(gas_oracle): implement median-based priority fee suggestion for Optimism (#16794)
82e998804 docs: document transaction flow into the pool (#16777)
4e97f4818 feat: make `EthereumEngineValidator` generic over `ChainSpec` (#16812)
f057ad5c1 feat: add to_message convenience method to BlockRangeInfo (#16778)
4a401e180 fix: typo in test comment (#16811)
381811406 feat(era): Accept anything that converts into `Box<Path>` as `folder` of `EraClient` (#16802)
1f37bddd8 test: add eth69 request/response tests (#16806)
7272b217a feat(rpc): Implement `IntoRpcTx` with Ethereum RPC transaction response for `Extended` (#16783)
8d691ab2c feat(examples): Add `CustomEngineValidator` and its builder to the `custom_node` example (#16774)
4bc77c729 feat(cli): Create `folder` and all its parents before `import` in `import-era` command (#16800)
71d842042 chore: bump inspectors 0.24 (#16797)
6f1a32bd0 feat(cli): Create `folder` in chain specific data directory for `import-era` command (#16799)
93e2e5876 feat: make EthereumConsensusBuilder generic over chainSpec (#16793)
f01f31a40 chore: re-export network types (#16789)
217289af6 chore: re-export more op types (#16788)
65b824aef chore: pin hive and add test to expected failures (#16790)
91977c9d3 feat: introduce 10s timeout when resolving external ips (#16787)
9f98728de feat(net): make bloom filter optional on receipts request (#16718)
e7cbecb0d chore(deps): Upgrade proptest to 1.7 (#16786)
a9bbc9be6 fix: resolve external ip on launch (#16768)
6ddc75648 feat: introduce RPC error for pruned history (#16780)
64fc747bf fix(era): Rollback state of `StartingStream` if fetching file list fails (#16775)
4ade65a57 chore: fix hive unexpected test filter (#16782)
1e40b36af feat: make EthEvmConfig generic over chainSpec (#16758)
af912c41f feat: ensure ETL data directory is cleared on launch (#16770)
57e4b919a test(trie): fix stored nibbles tests (#16769)
bdd0d4384 fix: set parent beacon block to zero hash if parent's beacon block is Some (#16767)
b433561cb test: improve ETH69 protocol test coverage (#16759)
663b44a35 chore: update hive expected failures (#16764)
d66bc9a50 feat: add shared local block range info between SessionManager and ActiveSession (#16763)
628f212de feat(rpc): Add `TxEnv` conversion function into `RpcConverter` (#16750)
a410b599f ci(sync): Change schedule to run once every 6 hours (#16754)
7e1b80b3b ci: Add `sync-era` workflow that syncs with ERA stage enabled (#16751)
1bef0092e fix: small networking fixes (#16742)
895b0e9f8 feat: reintroduce generic executors (#16741)
41ed7e0b7 feat: Add info logs for beginning of newPayload requests  (#16463)
a20167699 chore: relax eth network builder (#16714)
48deef708 chore: make ethpool alias generic over tx (#16713)
e08a56a56 chore: keep .git folder in docker (#16733)
889004bb6 chore(ci): update hive expected failures (#16737)
19cac3383 feat: remove preemptive excess blob gas check (#16729)
03fcb332b feat(rpc): Implement `TransactionCompat` for generic RPC response builder (#16694)
4760b3286 test: multi-node support in e2e testsuite (#16725)
e1a5ecd3b feat: added closure and relaxed setup_without_evm function (#16720)
b767ffbda perf: remove redundant clones (#16716)
084873971 feat: fn that replaces and merges network module's endpoints (#16619)
f6dec71dc feat: added Body::contains_transaction(&TxHash) (#16715)
448ec7da5 chore: re-export cli-util crate (#16711)
f209048be chore: re-export all types in node mod (#16710)
ae0d6e90d chore: depreacte ethexecutorbuilder (#16709)
01a3b0319 chore: remove accidentally commited files (#16708)
1e277921c feat(test): rewrite test_engine_tree_valid_and_invalid_forks_with_older_canonical_head_e2e using e2e framework (#16705)
2fccd0884 feat: add block range hint to BlockBodies download request (#16703)
3218b3c63 feat(stages): Add ERA pre-merge history import stage (#16008)
a04bd716a feat(test): rewrite test_engine_tree_valid_forks_with_older_canonical_head using e2e framework (#16699)
e869762ca chore: revert docker compose volume renames (#16688)
c1b7eb78d feat: introduce supported range to Peer info (#16687)
95c68ae58 feat: add always-process-payload-attributes-on-canonical-head config (#16676)
8e54c4b2a feat(test): rewrite test_engine_tree_fcu_reorg_with_all_blocks using e2e framework (#16692)
2b283ae83 fix: correctly set sync gap (#16695)
faf6741a6 perf(pipeline): speed up fork unwinding with exponential backoff (#16622)
09632905e fix: ensure that downloader sync gap is only set once (#16693)
c68e657b6 chore: remove noisy log (#16691)
81461a8cf feat: introduced  NoopPayloadServiceBuilder (#16667)
73a8efca6 perf(engine): enable precompile cache by default (#16685)
285c1acb8 fix: use correct sender_id_or_create as intended (#16684)
961a7e593 refactor: replace unbounded HashMap with LruMap in precompile cache (#16326)
199af6eb7 feat(test): rewrite test_engine_tree_fcu_canon_chain_insertion using e2e framework (#16678)
a09f05818 chore: add remaining snap request trait functions (#16682)
81dbfdadd ci: do not check version for release dry runs (#16679)
a69d30c67 feat: cross-compile to RISC-V (#16426)
5e8bcdfe5 docs: Fix typos in documentation and README (#16677)
306d1c3ae chore: extract engine tests to separate file (#16671)
ee8acd13e chore: Add metrics for supervisor RPC error (#16111)
bad715f28 chore(ci): unpin teku image for kurtosis-op ethereum-package (#16670)
63cc4ecca feat(era): Implement retry policy for HTTP client downloader (#16664)
cd521ce79 perf: remove some clones around `eth_call` (#16665)
717449b07 feat(GasOracle): new function to compute median (#16645)
73b407336 refactor(txns): inline validation logic and remove validation.rs (#16668)
1efc666a1 chore: relax primtives types bound (#16663)
cf80ef4d8 refactor: simplify `--dev` setup (#16662)
6d5b0ef74 feat: Added Socket Address to the network discovery error (#16659)
19caec3dd feat: make RpcAddOns::launch_add_ons_with composable (#16646)
a5c09cf4a ci: remove build-release-binaries.yml workflow (#16658)
0705df525 ci: check Cargo version against Git tag in release.yml (#16657)
ad8c2c523 feat(txns): Implement flexible TxType filtering policy in TransactionManager (#16495)
bcd363b4b chore: bump version 1.4.8 (#16655)
0a4c21527 chore: used Opstorage impl for optimism (#16594)
89b235040 refactor: unify pending_block fn (#16596)
5eb07896b chore: downgrade warn log (#16649)
ff404c80e feat: trigger resolution task when multiple connection failures occur for a trusted peer (#16652)
2fdae16d5 chore: add Hoodi to docker compose files, fix checkpoint sync URLs (#16653)
c5114b676 chore: bump default gas limit 60M mainnet (#16650)
0201c831d perf: use already recovered signer (#16640)
78837f932 ci: use different names for latest and RC Docker jobs (#16654)
249fa3643 feat: configure interval for trusted peer DNS resolution (#16647)
74bde8ade perf(engine): do not use state root task for non-empty revert state (#16631)
90d98f330 feat(txpool): EIP-7825 max gas limit check (#16648)
1254438bd feat: json ChainNotification subscription endpoint (#16644)
5106f64f7 fix(engine): recompute trie updates for forked blocks (#16568)
fe5c6d80d fix: check additional settings when enabling discv5 (#16643)
f7db031f5 chore: make `BuildOutcome::map_payload` pub (#16636)
b6e66a5e9 chore: add minSuggestedPriorityFee check to OpEthapi (#16637)
40ebef457 feat(`OpEngineValidator`): `pub` `chain_spec` (#16638)
66692a7e4 feat: make `NewBlock` message generic (#16627)
441210eb7 chore: removed alloy_consensus::Header constraint in setup_without_db  (#16623)
780ed8e8e chore: include target and latest in error message (#16630)
10caf93f9 refactor: extract common pool setup logic for Eth and Op nodes (#16607)
6532de4f4 chore: update Grafana dashboard (#16575)
e2f162038 feat(rpc): Add `Primitives` associated type to `TransactionCompat` trait (#16626)
ea7eaf61c feat: enable external `EngineApi` access (#16248)
5f745ede4 feat(`OpAddOns`): relax trait bounds for generic engine validators (#16615)
3fc463c8a feat: impl compress decompress for customheader (#16617)
b5c01d653 refactor(e2e): split actions.rs into submodule (#16609)
2726b797b fix: wrap forkid entry for eth key (#16616)
fee128da6 feat: :bug: fix using latest header (#16614)
1e69bf4f4 chore: Remove OmmersProvider (#16539)
4686778cb chore: make clippy happy (#16611)
5f7fe6b9e feat: fixed  missing blocktimestamp in logs subscription (#16598)
f2d186348 feat: fix tx da scaling  (#16558)
ca9f94cc7 refactor: relax `OpAddOns` trait bounds (#16582)
aab4d2278 docs(net): replace 404 link message.rs (#16597)
7ac3be5c9 fix(era): Use the `url` as the index page for HTTP hosts (#16555)
de59ccff9 ci: special treatment for release candidate tags (#16603)
e19271b9d test(e2e): set test_state_root_fallback for deep reorg test (#16573)
c8f01de87 refactor: replace generics with Node types for `OpExecutorBuilder` (#16601)
dc7cb6e66 chore: bump version to 1.4.7 (#16606)
2d8803a6e deps: revm `24.0.1` (#16604)
cf4760705 feat(optimism): Remove bounds on `EthChainSpec` and `Hardforks` for `ChainSpec` in the `evm` crate (#16576)
b5864e0bd chore: simplify `NetworkPrimitives` (#16556)
256a1eb2e chore: rm some clones (#16588)
2382b650d chore(deps): weekly `cargo update` (#16587)
4764e3538 chore: put dev name last (#16585)
202ad6c00 chore: make clippy happy (#16581)
95558cb45 chore: Remove Withdrawals Provider (#16538)
aecf5e321 feat(engine): allow configuring tree to always use state root fallback (#16569)
6b5a4b2a6 test: set TreeConfig for nodes in e2e tests (#16572)
91f3b9e19 revert: ci: deduplicate changelog in release notes (#16294) (#16563)
5ea2c1b5a feat(optimism): Remove bounds on `EthChainSpec` and `Hardforks` for `OpEngineValidator` (#16574)
d1c293c8f feat(e2e): add helper functions for FCU status checks (#16548)
62f9e12a2 chore: added map helper fns for OpAddOns (#16541)
7a59e135f feat: bump to 1.4.6 (#16566)
04144c5a4 feat(examples): Replace `CustomConsensusBuilder` using `OpConsensusBuilder` with custom generics in `custom_node` example (#16560)
6c8559775 revert: fix(engine): recompute trie updates for forked blocks (#16500) (#16565)
91d8ee287 feat: bump to 1.4.5 (#16561)
cec8e5162 chore: add serde support for CanonStateNotification (#16557)
c715dd261 feat(Makefile): add reth-bench and install-reth-bench makefile targets (#16553)
586976f12 feat(examples): Replace redundant type definitions with a `CustomPooledTransaction` alias in the `custom_node` example (#16554)
493bbe1a3 feat: configure multiple fallback ubuntu mirrors for win cross-build (#16550)
a3013c6e6 feat(examples): Replace `CustomPoolBuilder` using `OpPoolBuilder` with custom generics in `custom_node` example (#16552)
672d97307 feat(examples): Replace `CustomNetworkBuilder` using `OpNetworkBuilder` with custom generics (#16551)
676dc0df3 feat(examples): Replace `()` with appropriate component builders in `custom_node` example (#16445)
e95d2b463 feat: bump to 1.4.4 (#16549)
fd138e848 ci: use HTTPS and increase timeouts for APT in Dockerfiles (#16546)
20607a563 chore: added EthStateCache::maybe_block_and_receipts (#16540)
68862425a feat(rpc): Export Validation Blocklist Hash (#16513)
aedb6b41e test: add deep reorg e2e test (#16531)
f9f340ac7 chore: add missing receipt type conversion (#16534)
b29884e40 docs: improve documentation clarity in pool.rs (#16533)
85f3324fa feat: add helper for obtaining the engineapi launcher (#16517)
b57c9d4f9 chore: relax OpBlock bound (#16522)
47d623ca2 chore: removed otterscan_api_truncate_input function (#16530)
c10a9e092 feat(optimism): Add generic `Header` into `OpPayloadPrimitives` (#16529)
1bb34a91a chore: bumped alloy to 1.0.9 (#16527)
3796807a7 test: add ReorgTo e2e action (#16526)
7d024ec2c ci: use Wine OpenSUSE repository in Dockerfile for Windows (#16528)
1cfe50998 fix(engine): recompute trie updates for forked blocks (#16500)
726f5d81e test: add CreateFork e2e action (#16520)
a4a9bcaa7 feat(optimism): add metrics to miner to track max DA size throttle values (#16514)
485642433 feat(rpc): add debug_stateRootWithUpdates method (#16353)
63187a5ed test: include remaining actions in e2e ProduceBlocks (#16516)
f52b27fca chore: include addr in error message (#16515)
908967283 chore: relax payloadtypes impl (#16507)
01befb241 feat(optimism): Remove fixed `alloy_consensus::Header` type from `OpPayloadPrimitives` (#16505)
2765bdc19 refactor: refactored the fill fn to use Transaction::from_transaction() (#16504)
f7fd3d957 chore: support tagged block numbers for all ots endpoints (#16501)
e7d785663 docs: Replace GitFlic URL with official GitHub repository for libmdbx (#16496)
f466fa1bb fix: support tags for ots_getheaderbynumber (#16497)
2afc80f5a chore: add debug trace for on_new_head (#16471)
02ace302b chore: simplify rpc ro primitive block impls (#16487)
c36b5433e chore: Change getBlockDetails arg to BlockNumberOrTag (#16378)
11c59f1e4 feat(rpc): add EthStateCache::get_receipts_and_maybe_block_exact (#16484)
04e81de27 test: add receipt support to MockEthProvider (#16494)
4cdaac491 feat(optimism): Replace `OpEthApi` requirement of `OpReceipt` with a `DepositReceipt` trait bound (#16490)
1f7c3dfff feat(optimism): Replace `OpChainSpec` inside `OpEngineValidator` with a generic (#16489)
27f109893 feat(optimism): Replace `OpTransactionSigned` bound on the `Block` associated to `OpEngineValidator` with a generic (#16486)
081cc907d chore: bump op-alloy to  0.17.2 (#16492)
19b748951 feat(examples): Add `CustomExecutorBuilder` and implement `ExecutorBuilder` for it in `custom_node` example (#16444)
42bf391c8 revert: "fix: check encoded size" (#16488)
4addc94ae chore: relax executiondata bound (#16478)
5c5da0b99 fix: propagate `--sequencer-headers` to `SequencerClient` (#16474)
19306aec6 chore: add manual clone impl (#16475)
52be0031e fix: check encoded size (#16473)
7b49b75a6 feat: add exex feature to op-reth (#16459)
7a7b2819b chore: run hive every 6h (#16472)
9ddb8f6d7 refactor: unify versioned_hashes for BlobTransactionSidecarVarient (#16461)
29e4e20f2 feat: add receipts_by_block_range to ReceiptsProvider (#16449)
0c7bd1e5d fix(db): correct ClientVersion serialization size tracking (#16427)
4df1425fc chore(deps): weekly `cargo update` (#16460)
2d3f5aa9f ci: remove concurrency from bench (#16458)
290ae8265 feat: add HistoricalRpcClient for forwarding legacy RPC requests (#16447)
9e667da3e chore: bump alloy 1.0.7 (#16456)
ba880f992 chore: rm outdated unreachable patterns (#16457)
7ca286110 refactor: remove reth dependencies and instead use reth_ethereum (#16416)
f1db19980 chore: add clone impl for engine api types (#16454)
10900147d docs: added parent_beacon_block_root requirement and corrected build-block (#16453)
ddcd30f40 chore: make clippy happy (#16455)
26f84bfce chore: rm OpPrimitives bound (#16450)
034b3b8c5 chore: simplify deposit check (#16452)
2b33b59ed refactor(examples): Rename `CustomTxEnv` => `PaymentTxEnv` and `CustomEvmTransaction` => `CustomTxEnv` (#16443)
24cbfb494 feat!: Add `StatelessTrie` abstraction (#16419)
920391690 feat(optimism): Remove all bounds on `BlockAssemblerInput` for header (#16442)
badbe3d81 feat(examples): Implement `BlockAssembler` and `BlockExecutor` for custom blocks in `custom_node` example (#16435)
4e6cba332 feat: add get_recovered_transaction helper (#16436)
ecbdf4565 chore: bump revm and op-alloy (#16429)
b76d4f661 perf: spawn range query on blocking (#16434)
22a69277b ci: run kurtosis every 6h (#16433)
8328faf05 ci: run op-kurtosis every 6hrs (#16432)
641f99ffd feat: make max EthMessageID dependent on the EthVersion (#16405)
29eeb78ad feat: relax OpExecutorBuilder type constraints (#16423)
a7080ac1c feat(net): Add update_block_range to NetworkSyncUpdater (#16422)
d01658e51 ci: fix system icons width in release.yml (#16420)
42c3b1a4c fix: rewrite estimate loop condition (#16413)
5483a8ed9 refactor(examples): Use `OpEvm` from `op-alloy-evm` instead of `op-revm` for `CustomEvm` in `custom_node` example (#16417)
b347d9d97 feat(examples): Make `CustomEvmTransaction` local and implement `FromRecoveredTx` and `FromTxWithEncoded` in `custom_node` example (#16415)
50ab155b8 chore: Implementing get_by_versioned_hashes_v2 for InMemoryBlobStre a… (#16390)
e41d5ff4e refactor: use `impl IntoIterator` for transaction batches and streamline validation calls (#16408)
6389242a5 fix: grammar in multiple files (#16403)
70dab9f70 feat: fix tasks metrics (#16406)
9060b6eb9 chore: Add `ClientInput` struct to `reth-stateless` (#16320)
877c16aa8 feat: relax OpEthApiBuilder type constraints (#16410)
9a1e4ffd7 feat(tasks): enable graceful shutdown request via TaskExecutor (#16386)
6cf363ba8 fix(RPC): Ensure `eth_getTransactionCount` returns correct nonce for 'pending' tag (#16407)
6c6bfb52b feat(examples): Implement `EvmFactory` for `CustomEvm` in `custom_node` example (#16404)
e4212a402 chore: eth69 status message support (#16099)
f18273fb5 feat: configure tracing layers (#16126)
27609ceda fix: forward sequencer error (#16401)
6772ed8c1 feat: relax OpEthApi type constraints (#16398)
3bf111040 feat: Genericise `stateless_validation` API so that it is not fixed to `Eth` types (#16328)
73fd14626 chore(book): Bump `alloy-hardforks` and `alloy-op-harfroks` (#16300)
1b2883a82 feat(examples): Add `CustomEvm` for the execution of `CustomTransaction` in the `custom_node` example (#16394)
49f6d1e87 fix: `InvalidTimestamp` display (#16395)
2629b4971 chore: Refactoring manual clone for opPoolBuilder (#16392)
d6ad30d5f chore: fixed broken link (#16365)
c5fc1db88 fix(ipc): Improve server code correctness, logging, and doc comments (#16372)
608ed5938 feat: relax OpNetworkBuilder type constraints (#16387)
452ee50d0 chore: Move subscription_task_spawner into EthPubSubInner (#16383)
0b30387ee chore(deps): bump alloy-evm (#16385)
6e88d7fb3 feat(trie): decode proofs in multiproof task (#16098)
a62bde37c feat(node): bump Hoodi gas limit to 60M (#16379)
f0c1bf5d3 feat(examples): Add `CustomTxEnv` for EVM that supports conversions from the extended transaction envelope in the `custom_node` example (#16381)
d7a808873 refactor(examples): Split `evm` module into submodules in the `custom_node` example (#16380)
3f8b3f8a1 feat(txpool): activate osaka in tx validator (#16371)
5c03c1e71 feat(txpool): properly validate sidecar according to the active fork (#16370)
72ab1d6ee refactor(examples): Replace redundant type definitions with a `CustomTransaction` alias in the `custom_node` example (#16367)
9919b7a35 feat: Implement conversion from built-in transaction envelopes into `Extended` (#16366)
0de50d3b7 feat(txpool): use `BlobTransactionSidecarVariant` (#16356)
2db8ccf62 chore: re-export node-builder as builder (#16363)
d849731aa feat(stages): reduce index history progress logging frequency (#16290)
3e47b7255 feat: add BlockRangeUpdate message for eth/69 (#16346)
703f679c6 ci: do not trigger release workflow on `dry_run*` branches (#16361)
fe3653ffe chore: bump version 1.4.3 (#16359)
7d7fc19dc ci: check `dry_run` against `true` in release workflow (#16360)
5154d5e47 chore: Add configuration option to enable/disable HTTP response compression (#16348)
5e7024f79 ci: do not dry run by default in `release.yml` (#16358)
4bae5aa3b chore: bump version 1.4.2 (#16357)
74cd6eb2b chore: bump alloy (#16355)
132b2b84a chore: `RecoveredBlock` -> `Block` (#16321)
db7610d08 chore: add `clippy-op-dev` make script (#16352)
3f9268e2d feat(ethereum-primitives): `PooledTransactionVariant` alias (#16351)
056b5973f chore: bump inspectors (#16342)
c2350f02e feat(primitive-traits): relax mem size implementations for 4844 txs with sidecars (#16349)
9e8ef8f4f chore: bump alloy 1.0.4 (#16345)
bc7d8c6bc feat(perp): optimize OpTxpool 2718 bytes encoding (#16336)
fcee4811a chore(hive): disable eth suite of devp2p sim (#16341)
2aea84743 feat: introduce Receipt69 variant (#15827)
f9cc241ff feat: include SpecId in PrecompileCache keys (#16241)
22e9a17a6 chore: Replace reth-provider with reth-storage-api in reth-rpc-api (#16322)
27bcf647d docs: add some docs about TaskExecutor (#16327)
916ada90c feat: implement IsTyped2781 for reth types (#16325)
8987bce75 chore: fix make-pr lint-codespell errors (#16324)
4d61d663f chore(deps): weekly `cargo update` (#16323)
b4f9bec85 chore: flatten deps (#16315)
b551dc305 chore: make clippy happy (#16316)
85775b5a7 chore: rm jsonrpsee features (#16314)
ca39e18f5 chore: add 7702 to announced (#16312)
814d8bfe3 refactor(mempool): Refactor transaction validation to use batch interface (#16189)
8afbc1908 chore: Mark into_recovered_unchecked as deprecated (#16283)
34591d30a chore: bump inspectors 0.22.2 (#16311)
fff5ab0e4 feat: introduce PoolTransaction::into_consensus_with2718 (#16303)
91e77de80 ci: add OP Reth binaries to release notes (#16298)
789351e3c ci: bump base image for reproducible builds (#16307)
6f4087e14 refactor: Remove `to_subscription_message` and update calls (#16305)
4f4986cec ci: use `GITHUB_REF_NAME` env var in release.yml (#16302)
401b88c86 feat: added TransactionValidator::validate_transactions_with_origin (#16238)
585a1cca9 ci: release dry run (#16287)
51596bee0 refactor(trie): pass rlp_buf as a mutable argument to rlp_node (#16243)
9f408b29a ci: separate workflow for reproducible release (#16299)
4fb36fb24 refactor(rpc-builder): Use Box<dyn TaskSpawner> for RPC task handling (#16297)
e8bc21613 ci: deduplicate changelog in release notes (#16294)
710a78346 chore: bump inspectors 0.22.1 (#16291)
40cc996db test: stale txs could be evicted when maintaining txpool (#16269)
e6ce41ebb chore: release 1.4.1 (#16286)
74cbe6144 ci: fix Windows build in `release.yml` (#16280)
9027af716 chore: Construct a SubscriptionMessage with the sink's properties (#16285)
46fbdf0e2 chore: upstream tx_type derive to alloy::TransactionRequest (#16284)
4d56c9b24 chore: change TxCustom to TxPayment (#16281)
a816c8f02 chore: bump version 1.4.0 (#16261)
52a7a3bf8 feat(engine): implement `engine_getBlobsV2` (#16279)
9fd70b649 chore: bump default gas limit for holesky (#16278)
8e1580603 docs: add note about superchain registry (#16275)
bcb893a64 chore: bump alloy 1.0.3 (#16277)
788a626f8 Rkrasiuk/implement get payload v5 (#16274)
cf4aebcd6 feat(engine): add osaka engine methods to capabilities (#16272)
8c98c1ce0 feat(txpool): add methods for retrieving `BlobsAndProofsV2` (#16271)
b3a2d70fe docs: Fix typos in `static-file` crate README (#16266)
ad766c00b feat(engine): add `engine_getPayloadV5` skeleton (#16270)
4cbe87f66 feat(engine): respond unsupported for payload v5 pre-osaka (#16268)
e57992ad1 chore: rename extendedtx to just extended (#16265)
7b8c0b4df refactor: Migrate InvalidInboxEntry to op-alloy (#16260)
1737b8df1 fix: receipts logs arg parsing (#16240)
6195c7030 chore(lint): Bumps dep `tempfile` (#16253)
0ca619755 chore: rm jsonrpsee patch (#16251)
359d73dcc feat: add from intoiter impls (#16252)
3a5f75a30 perf: replace collect with count (#16246)
8b4db1ffa docs: clarify note on &mut self usage (#16237)
b9e218343 refactor: relax `OpAddOns`  (#16180)
ffbdd9759 feat(engine): add conversions for `ExecutionPayloadEnvelopeV5` (#16218)
ccaf7fe7c chore: de duplicate mainnet deposit contract (#16074)
836a17de6 feat: Introduce with_signer_ref helper (#16235)
3c82dfa49 chore: Replace `try_clone_into_recovered` with `try_into_recovered` to avoid unnecessary clone (#16230)
3ac3e6ff1 test(e2e): add CheckPayloadAccepted action (#16220)
6c188475f fix(trie): do not panic when logging the current hash of `TrieWalker` (#16222)
eec77e2cd feat: add check for osaka activation (#16223)
e1435350a feat: simplify choosing txtype for tx request using .has methods (#16227)
a67202d7e docs: clarify unit of txfeecap (#16225)
1990286cb chore: Replacing filter id with subscription (#16224)
4df06466a docs: fix JWT token link (#16221)
0b3f01817 feat: Integrate Osaka in blob_max_and_target_count_by_hardfork (#16219)
7722f192c fix: handle ForkChoiceUpdate errors with proper rpc error mapping (#16215)
412268083 feat: impl of bad_blocks handler (#16209)
4e84e42f1 chore(deps): migrate to jsonrpsee 0.25 (#15956)
288ce76b5 feat: add func gas_limit_for PayloadConfig (#16210)
805fb1012 feat: add PrecompileCacheMap::cache_for_address and test (#16197)
71f009dbc feat(trie): add `clear` method to PrefixSetMut, RevealedSparseTrie, SparseTrieUpdates (#16179)
b15c1c8fe chore: bump log GetPayload events to debug level (#16196)
2c57babea docs: fix typos in observability.md (#16186)
76ae22d72 fix: use different cache instance per precompile (#16191)
197d564c3 chore: interop maintain touchups (#16187)
dfbbc2e0e chore: add error when unwind failed on launch (#16188)
a2c164610 chore(txpool): update comments about prague activation (#16185)
5ac2957d7 refactor(optimism_txpool): Move interop revalidation logic to SupervisorClient stream (#16148)
e5d59bad7 feat: Adding cronjob for superchain (#16141)
7ea80f740 feat(txpool): track osaka activation (#16184)
882988113 refactor: add alloy_consensus::SignerRecoverable to SingedTransaction supertrait (#16174)
1af6ed538 chore(txpool): activate prague by default (#16183)
d5e61c71d fix: correctly set txtype if `blobVersionedHashes` is present (#16182)
d485b9ab6 feat: add fns to map engine builders (#16171)
1f23f088d fix(tree): add colon to sparse trie task logs (#16175)
ffd76458a chore: extract TreeState to separate submodule (#16172)
0dee91f6b deps: bump libmdbx to 0.13.6 (#15412)
3d48dcc8e feat(trie): instrument `TrieNodeIter::try_next` (#16127)
55f4b0b9f chore: update hive expected failures (#16167)
82f458081 test: handle reorg event properly by pool maintaining (#16155)
b90b8d4ea perf(trie): optimize TrieNodeIter by skipping redundant seek (#15841)
bc9722d9e feat(engine): set keep alive for Tokio threads (#16162)
eb6e7f03c fix: prevent memory bloat during extended finalization periods (#16157)
96e959ca2 chore: replace filteredParams with Filterset (#16077)
838bf73ac refactor: make gas_limit optional (#16161)
a12a296eb perf: batch create sender ids (#16134)
6250f6512 perf: dont alloc on delegation limit check (#16135)
e5ce98014 chore: bump alloy 0.15.11 (#16163)
a411d9334 chore: remove redundant NodeTypes bounds (#16160)
96bc7b345 perf: use estimated_compressed_size for DA limiter (#16153)
029fa5914 refactor(mempool): Optimize validation task lock duration by moving async fut creation outside lock (#16159)
3338c5a31 revert: "revert: 2054a37" (#16139)
bda7f4a6d feat(`OpReceipt`): add `into_receipt` (#16156)
b1a1da106 chore(deps): weekly `cargo update` (#16150)
2767ffd3b chore: phase out reth-primitives (#16151)
4f00ed7be chore: put op conversions in mod op (#16147)
7982caa05 chore: remove_auths doc (#16137)
203398007 perf: perform contains check without alloc (#16136)
bcefb0008 chore: moved  OkValidator into txpool behind test-utils feature gate (#16144)
5cb481c69 chore: replace executionwitness with alloy (#16142)
74e7e5f1c chore: use signedtx trait (#16143)
db885ccae test: handle commit event properly by pool maintaining (#16125)
c830d8c85 revert: 2054a37 (#16138)
b36201bf0 feat: Introducing handler for eth_getAccountInfo (#16115)
8e7684d49 chore: bump op-revm (#16133)
448e909c5 feat: Add EIP7702 tx handle logic for txpool (#15312)
2054a37b0 feat: add precompile cache for execution (#15928)
a3c067c2b chore: add link to SHA256 article (#16129)
124bd3940 refactor: move ExtendedTxEnvelope to reth-primitives-traits (#16102)
c7436a6f3 fix: complete logic of `best_transactions_with_attributes` (#16024)
a33da3fc5 chore: skip inserting older blocks (#16101)
70299510a chore: bump superchain registry (#16122)
da95e5745 feat: use custom tx in custom-node (#16054)
1dcb3dcfc feat(era): Fetch file list inside `EraStream` (#16119)
eaaa22cf3 refactor: added input_mut for otterscan_api_truncate_input  (#16114)
9a9cd830f chore: bump alloy 0.15.10 (#16117)
5c07c0e85 chore: pin revm deps (#16118)
e05df0d31 fix: skip nonce check in simulate v1 if no validation (#16109)
ff5028c48 feat: add AuthHandle::noop (#16082)
0af20a3b9 feat: add noop engine Api builder (#16084)
240d1b57d chore(op-sdk): Move `OpPayloadTypes` to `reth-optimism-payload-builder` (#16105)
adb8bdc70 ci: enable arbitrary check (#15500)
f1dc68422 feat(trie): walker branch node seeks metric (#16106)
2eec34d7d perf: check receiver count before clone (#16100)
3a49e4e53 chore: bump docker lighthouse version for electra (#16103)
178b0c1cb feat: add command `download` to download public node snapshots  (#13598)
5c64d5915 feat: add with_disabled_rpc_cache to NodeConfig (#16097)
623950bb7 chore(sdk): allow `NoopNetwork` in `NodeAdapater` (#16037)
fac562b67 chore: relaxed insp in trace rpc-eth-api (#16094)
41a2d0f00 chore: add more docs to SparseTrie (#15750)
39305dda1 chore(meta): restrict mdbx vendored attribute (#16092)
af1e93a18 feat: add executor fn (#16090)
3e5c230f4 feat: add stateless crate to expose stateless validation (#15591)
1e33d4cfe fix: check scheduled blob activations (#16088)
c32e8acd2 chore: rm reth-provider from rpc-builder (#16087)
b5c9984fd docs: add cross-platform Prometheus & Grafana installation guidance (#15703)
699b3fde1 chore: remove BlockExecutorProvider trait (#15989)
cbdb81069 chore: replace istyped2718 (#16085)
8939d781c chore: bump op-alloy (#16081)
c74209747 chore(op): Clean up `SupervisorClient` (#16079)
5a80efb06 chore: parse supervisor rpc error (#16078)
caa4f133a chore: silence warnings (#16076)
1c7d8a643 fix: eth cache memory usage (#16075)
7d2ac8472 chore: bump alloy to 0.15.9, replace reth types with alloy's (#16069)
c848848f3 chore: update hive expected failures (#16071)
fdcc4c078 feat(txpool): add authorization list setter to mock transaction (#16068)
f24570844 refactor(optimism): introduce OpNodeTypes trait to reduce generic repitition (#16048)
094a9fe69 feat: add RpcStateCacheArgs::set_zero_lengths (#16066)
6b0c01e07 fix(op): canyon check skipped unless cancun active (#16063)
d66d1caed fix: update metrics for download_block_range (#16064)
bdbefd000 fix(op-rpc): l2 withdrawals root not included in debug exec witness (#16062)
698e9f05d fix: invalid queued ord (#16061)
53b2cdafe chore: Remove `ForkSpec::Unknown` and Add `ForkSpec::Prague` (#16055)
1ba12aeea chore: remove `NoopBlockExecutorProvider` (#16060)
e0eaa7605 docs: fix typos and improve comment formatting (#16058)
3a68d53b0 chore(deps): weekly `cargo update` (#16057)
3089ad9d6 refactor: move FullRpcProvider trait to storage-api crate (#16056)
98132bdd1 chore: touchups (#16053)
77fab5412 feat: Add ExEx example with sanity checks  (#15448)
3b3b54132 feat: added support for CustomTx in custom node example  (#16021)
1d55c5caf feat(stage): add helpers for `StageSetBuilder` (#16042)
4a6b2837e refactor(era): Replace known host URL for ERA files with Ithaca (#16040)
36ef0a80d chore: made `Envelope: FromTxCompact` public (#16038)
be724f92f feat(cli): no empty diffs, sort entries, and pretty print in `db diff` (#16035)
fef37ae8f fix: for the priority of tx, Value has a higher priority than None (#16034)
4cd714e8d chore(op-sdk): Relax trait bounds on `TraceApi` methods not accessing mempool (#15752)
c91d2cae7 docs: Fix typos and grammar in documentation comments (#16033)
0933d51de feat(engine): add instrumented state provider (#15891)
1d17787a3 chore(trie): do not panic in trie cursor subnode `Debug` impl (#16013)
37741fdcb refactor: execute through `EvmConfig` in engine + `MockEvmConfig` (#16025)
03913ca83 chore: update broken link (#16023)
61a0345ff chore: added links (#15475)
0144a8353 chore: extended touchups (#16020)
c49b31bb1 chore(sdk): impl `FullNetwork` for `NoopNetwork` (#15959)
324c3b5ad chore: replace crypto (#16019)
a7eacb139 chore: bumped core to 1.1.0 and alloy to 0.15.7 (#16015)
8515cdc10 fix: Remove redundant article and add missing apostrophe (#16017)
cc1fb9f88 chore: used IsTyped2718 in ExtendedTxEnvelope (#16016)
d7b15ce1d feat: Introducing support for configuring sequencer client headers (#15991)
3358c762f chore(ci): update EEST version (#16006)
b2b1a3c68 perf(engine): drop sparse trie after task returned result (#16000)
b93f4c608 fix(tree): save caches only after prewarm tasks finish  (#16011)
82c276212 feat: added gas used metric (#16012)
46e123f3a docs: correction and fix error (#16010)
ff04aee21 chore: integrate alloy-evm simplifications (#16009)
412dab238 feat: added IsTyped2718 trait for Envelope (#16004)
4d46962a6 chore: Adding metric feature gate (#15971)
b5149d0e1 fix: ipc provider building ws instead (#16005)
7049b1b47 docs: clarify blocks for pipeline run (#16002)
86c552c01 docs: update docs (#15997)
ca78d6662 feat: parse supervisor RPC errors (#15944)
d960b4b31 chore: relaxed ExtendedTxEnvelope impls (#15993)
6a9f4c28e fix: typos in comments (#15938)
9ab57f70e feat(era): Implement SHA-256 checksum validation for local directory (#15987)
762880e49 docs: add engine API builder docs (#15988)
e8e3aed73 chore: made extended Tx Envelope more flexible (#15970)
9e2043091 docs: add more docs for RpcAddsOns (#15986)
1a548e6b9 perf(op-tx-pool): Split up tx validation to stateless and stateful checks (#15843)
d69c42402 chore: Relaxing ChainSpecParser bound in Commands impl (#15976)
1773e3050 feat(cli): Add command for importing era files from URL (#15978)
22696a1c1 refactor: move statereader to storage-api (#15969)
91defb2f9 refactor: move ethereum-forks crate into ethereum folder (#15983)
c19dfe953 chore: rename crate `era-import` to `era-utils` (#15980)
86adfac16 fix: avoid cloning receipts on verification for op (#15979)
2dd811cc6 chore: relax some eth component bounds (#15977)
6c94e9090 feat(era): Implement SHA-256 checksum validation  (#15962)
2f85dcc4e chore: use default init (#15975)
eda2b0913 feat: added eth api exex (#15949)
babe65c19 chore: use `TransactionGenerator` uniformly and remove `rng_transaction` (#15965)
223ebddb8 fix(observability): Delegate `DatabaseMetrics` call to wrapped type `T` in `Arc<T>` impl (#15963)
8c2277b2d feat: added an example of using an RPC with an ExEx (WIP) (#15853)
3c0ff9c86 refactor: Remove redundant consensus call (#15946)
b6aa8e78f feat: Replace CacheServiceUnavailable variant with a dedicated error variant (#15950)
a58f09c00 docs: always use nextest (#15957)
58ec4b115 feat: Removing `geth-tests` and `serial_test` (#15960)
cae744898 chore(deps): weekly `cargo update` (#15951)
85f39827f chore: rm storagelock variant (#15948)
4f59aee87 chore: removed reth-optimism-chain-registry crate (#15943)
70e2fd5fb chore: dedup `prune_from_subpool` (#15945)
0a401d9cb feat: created BroadcastLatestForkchoice action (#15784)
264334640 docs: update docs (#15851)
23c146bef fix: park descendant when delete a pending tx (#15931)
091d84eed chore: single typo in 'hash_fetching' (#15937)
dd997e070 feat: Introduce Block::into_ethereum_block to Block trait (#15940)
1775cc426 refactor: remove outdated chain::split function (#15935)
59b717e8f chore: use spare capacity (#15932)
8bba80e56 perf(rpc): clone less when building block response (#15624)
27f8584ad feat: support engine_newPayloadV4 in benchmarker (#15924)
82d650594 refactor: remove validate_header_with_total_difficulty (#15903)
0253bad65 chore: Adding warning log for empty MPT root as withdrawals_root post-Isthmus (#15925)
987a94ed3 chore: bump sse (#15926)
cef7febf0 feat: Introducing ValidationApiError into structured JSON-RPC error responses (#15901)
5810f31b6 chore(transaction-pool): make NoopTransactionPool generic over EthPoolTransaction (#15923)
fab0d81a9 feat(cli): Add `import-era` CLI command (#15882)
f3b2e4fcd chore: moving header sync gap provider to storage api crate (#15921)
e0a300ea0 perf: opt EngineApiTreeHandler::insert_block_inner rm clone (#15385)
220441c12 feat: Introduces sequencer metrics for transaction forwarding (#15910)
7a4a30f49 chore: fix misleading name (#15920)
c86781279 feat: exposed EvmConfig to PayloadServiceBuilder (#15887)
79898f175 feat: add split_ref method to SealedHeader (#15917) (#15918)
a7435bede chore(deps): 2024 edition syntax fixes (#14731)
a3fff5cf6 feat(era): Add era stream from local directory  (#15914)
cefac14a2 chore: fix typo and remove redundant article in comments (#15915)
26e467442 chore: simplified cli imports in examples (#15904)
70c5d12b4 test(era): finalize reth era testing tour. (#15595)
dd4aa1a85 test: complete `local_senders_tracking` (#15912)
0c7518205 chore: bump alloy 0.15.5 (#15913)
bf59f5816 docs: add docs about CachedReads (#15905)
4d77608be feat!: replace TransactionSigned with alloy's (#15768)
cfa49f86e chore: move HeaderSyncGap type  (#15892)
b757a7bf8 chore: Remove unused `write_to_db` method in `ef-tests` (#15902)
c00c09f4c chore: use sender_ref (#15898)
1a53b3b63 perf: simplify generated superchain code (#15897)
35f5dac9b test: change sender balance when apply update accounts to pool (#15896)
8e8ec019d refactor(storage-api): move statewriter trait to storage-api crate (#15894)
ddba222c0 chore: make clippy happy (#15895)
94723cacb chore: simplify op chainspec parser (#15888)
9526849c1 chore: add update_db_with_and_check (#15885)
0a4a88392 chore(metrics): summable reth_info value (#15884)
d4c04f682 feat: added support for --debug.rpc-consensus-ws (#15858)
5197a72c5 chore: relax more default (#15880)
f466e24bc fix(ci): install cargo-cache in reproducible build action (#15873)
a94348d7d chore: relax default constraints (#15879)
fe3011ffc fix: correctly set `extra_data` for eth payload builder (#15875)
f5eca3955 chore: bump alloy 0.15 (#15874)
40f0edfc2 chore: Make `SparseTrie` crate `no_std` compatible (#15786)
ae3ffb90e chore: bump MSRV to 1.86 (#15863)
9d3509c8a chore: Explicitly check for failure on expected blocks in ef-tests (#15803)
57f77ac43 fix: fail send_raw_transaction if forwarding fails (#15867)
67e34b59e refactor: move reth-evm crate code into its own crate folder (#15870)
7b483b4f8 fix(cli): drop ExEx WAL only if it exists (#15871)
9d9987590 refactor(reth): Extract `Cli` into `ethereum-cli` crate (#15857)
211ecb6d9 chore: add superchain enum macro for chainspec (#15861)
a135c4b72 chore: add empty line to display hardforks (#15845)
a1bbce8a4 feat: add reproducible build github action (#15569)
81942e41b chore: add a method on SparseTrie to check whether a leaf exists (#15758)
e911208e6 chore: pin crunchy by including it in one of the member crates (#15854)
98ae92473 feat(engine): enable prewarming & caching by default (#15764)
6d45d5297 chore: rename `send_rpc_call` into `request` with `pub` (#15849)
23cc8f7f5 chore: re-pin crunchy to 0.2.2 after weekly `cargo update` (#15846)
76633a541 feat(era): Add history import (#15737)
ee8d7d00c feat(engine): Compare sorted bundle states in witness invalid block hook (#15689)
2ab24fe90 feat(optimism): Add support for all Superchain configs and enable their usage (#14562)
f3715e8a5 chore(ci): Add a usage comment on `revert` (#15844)
3b879a1d8 feat: task executor accessible globally (#15360)
81a8c270d test(crates): add comprehensive tests for mock transaction factory and modifications (#15842)
cf3240f6e docs: correct indentation in rpc.rs (#15824)
701af23fa refactor: Simplify HeaderSyncGapProvider trait (#15819)
97a1977ce docs: Update witness.rs (#15836)
e238946de feat: add state override support to eth_createAccessList (#15840)
e21da953a fix: kurtosis-op job (#15839)
a64ced455 chore: Add `reth-primitives` to `no-std` CI checks (#15823)
49b0ca035 chore(deps): weekly `cargo update` (#15826)
322fb1e63 fix: always return value for `mint` field (#15835)
18337504d fix: ignore engine-auth failures (#15838)
f158f295b chore: Make `reth-ethereum-consensus` no_std compatible (#15821)
3cd753ee0 test(e2e): add `BroadcastNextNewPayload` action (#15828)
664efb944 fix: Make `reth-evm-ethereum` turn off default-features in top level Cargo.toml (#15825)
3f9562170 chore(all): remove duplicate words (#15799)
05e1ae207 chore: Add `reth-revm` to `no_std` CI checks (#15822)
69fdf7656 docs: remove duplicate words (#15820)
7552ad46c fix(exex): Remove unneeded `mut` from exex manager variable (#15830)
f650349a8 chore: add `reth-errors` to no-std checks (#15815)
1a93f044f docs: Fix missing escaped newline (#15816)
a1b8ceea4 docs: some docs on sync gap channel (#15817)
c148da8bc feat(storage-api): move BlockExecutionWriter trait from provider to storage-api (#15798)
6ef19f403 fix: Check for the maximum allowed gas limit in the block (#15800)
15dfb13a2 fix: added a dedicated test to confirm that serde_json correctly handles JSON strings with leading and trailing whitespace (#15789)
87d12ed78 chore: Update execution spec tests to v17.0 (#15809)
54b2b63f5 fix: use correct params for kurtosis-op (#15813)
2ad858c6e chore: improve etherscan debug error reporting (#15811)
1e4480a7b fix: pin teku image (#15805)
b328249ef chore: removed TransitionConfigurationExchanged event variant  (#15808)
5cf99b3a8 feat: add support for Eth69 receipts representation (#15619)
b312799e0 fix(evm): custom blob params (#15598)
b131b0d5d feat(witness): `always_include_root_node` flag (#15679)
fdfca3421 chore(trie): `trie_type` behind flag (#15690)
b117760f3 chore: removed deprecated endpoint (#15804)
792eeae8c feat(cli): add bootnode command (#15347)
eb8102c7c feat(transaction-pool): check on disk store in case of blob cache misses (#15225)
5f8d21dc9 docs: remove consecutive duplicate words (#15795)
6f8e7258f chore: release 1.3.12 (#15797)
aee484ba8 refactor(block): Inline `from_block_with_transaction` fn (#15788)
94ee82180 fix: skip isthmus root validation if we dont have the parent state (#15796)
58c72b708 chore: Make `reth-errors` crate `no_std` compatible (#15790)
84fa016c6 feat: Introducing reth_engine_rpc_new_payload_v4 to grafana (#15794)
3dc17777c fix: Revert "feat: add precompile cache for execution" (#15791)
4c17f1a88 feat: MockEthProvider generic over NodePrimitives (#15694)
308250ef2 chore: enable `invalid_blocks` tests in EF (#15564)
12e55d0ab test: setup once for `benchmark_fetch_pending_hashes` to avoid excessive losses (#15783)
58a20dc97 feat: Add `--rollup.sequencer-ws` to support WebSocket (#15499)
b4cb1f4a4 chore: Relax the bounds on `DBProvider` (#15781)
44a695f7a chore: bump inspectors 0.19.1 (#15780)
e0e85aa10 chore: bump version 1.3.11 (#15776)
bd9a24aa0 chore: bump op alloy 0.14 (#15779)
ddc101f86 chore: set clippy check for const fn to warn (#15777)
3bddd3cc8 fix(discv5): `ForkId` set to head block (#15769)
56015ce0d fix: relax body against validation for isthmus (#15773)
ba6720d55 chore(transaction-pool): make `price_bump` fn public (#15772)
12c2dba82 feat: add `EthSnapStream` (#15684)
e6278730d feat(op-isthmus): Add isthmus mainnet timestamps to op hardforks (#15766)
8572989ab feat!: replace OpTransactionSigned with alloys (#15733)
df8acc534 feat: add precompile cache for execution (#15536)
b1d1199d1 refactor: simplify announcement filter (#15761)
a11d12755 feat: disable EIP-3607 for `eth_createAccessList` (#15763)
b36fc954d chore: bump version 1.3.10 (#15756)
4850bd5eb feat: adding cli --rpc.txfeecap flag (#15654)
a21769686 fix: use a lower backoff duration for trusted or static peers (#15740)
cdac901b3 fix: activate Prague in custom-evm example (#15741)
0772f9a98 chore: add serde_as support for TransactionSigned (#15755)
c79b63876 feat: add config for reserved CPU cores Resolves paradigmxyz/reth#15633 (#15710)
0c4a4185f chore: exempt static peers from removal (#15732)
51cb1046d fix(rpc): set code hash in code override (#15738)
ad2ee48a8 fix: to_compact for CompactEnvelope (#15736)
4f5876875 chore: bump revm (#15735)
6f2f78b4e fix: make CompactEnvelope equivalent (#15731)
20dcf82af Revert "feat!: replace OpTransactionSigned with alloys" (#15730)
b3ad85a0a refactor(rpc): eliminate unnecessary cloning in `RpcService::call` (#15728)
a415f08bb deps: bump libmdbx to 0.12.13 (#15413)
89b209b92 chore(rpc): warn on unimplemented flashbots rpc methods (#15727)
2bfdef73b feat!: replace OpTransactionSigned with alloys (#15634)
1e0b43396 feat(era): Add `EraStream` that downloads all era files (#15613)
00e5b6e01 chore: bump version 1.3.9 (#15716)
60e117a3a chore: rm lifetime (#15723)
8be89080b Add metric for supervisor RPC latency (#15570)
a3b749676 chore: Replace remaining uses of `reth_primitives` with `reth_primitives_traits` (#15704)
fe1af7131 chore: unify proof task concurrency consts (#15715)
e792efbb2 fix(engine): update cached bytecodes with bundle state (#15676)
69437d5a8 chore(op-consensus): Remove redundant module (#15718)
2d0ad3043 chore: bump op-revm (#15714)
74843dcf1 chore: bump alloy-trie (#15717)
0dbd8052d chore: periodically resolve trusted nodes dns (#15678)
52c3e3cc0 fix(op-interop): incorrect parsing of `supervisor_checkAccessList` error (#15670)
70db898fb feat: use L2 timestamps for mapped L1 (#15683)
df6d5dd1d test: benchmark for fetch pending hashes (#15574)
9f6082982 chore: bump ssz (#15713)
8e4c33e44 chore(deps): weekly `cargo update` (#15708)
c73a40ff2 feat: added getter functions for PeerMetadata  (#15709)
5a1cdfd75 chore: Remove TODO (#15706)
f0f32b4a1 refactor: better encapsulation of `tx_fetcher` for easier testing and refactoring (#15688)
54b0d357f chore: rm outdated unreachable (#15700)
4121fce5e feat(net): add transaction gossip policy (#15341)
7f11a6f14 fix(book): Web3 JsonRPC incorrect keccak example (#15696)
5f33c9684 perf(discv5): Relax peer filter, fallback on source socket for enr missing tcp port (#15267)
0ab297a0e feat: add bincode compat to ethereum tx envelope (#15686)
1580c690c docs: add op-reth to hardfork checklist (#15687)
e8c4c623b chore(trie): make `RevealedNode` usable externally (#15691)
3ef965c93 fix: op isthmus activation timestamps (#15685)
c34bdf37f feat: add CLI args for concurrency settings (#15657)
33ddc2861 chore!:  Populate the `headers` field in the `ExecutionWitness` when calling `debug_executionWitness` (#15608)
58fe204ff chore: alloy 0.14 (#15635)
2563e93d9 perf(trie): reserve space for new proof nodes ahead of time (#15637)
c688c845b feat(engine): add bytecodes to invalid block hook witness (#15649)
ca5a76f6a chore: changed import for custom-node(examples) (#15662)
3346f5b7f chore: double check blob gas in header standalone (#15672)
e597c3d8b ci: add `revert` to allowed PR titles (#15667)
04c61e215 Revert "feat(engine): enable prewarming & caching by default (#15630)" (#15666)
3fec4fa5b chore: bump crossbeam channel (#15665)
652359220 chore: changed import for manual-p2p (#15664)
d67f4ae60 chore: changed import of polygon-p2p (examples) (#15663)
9a151fab5 chore: remove unused evm_config field in EngineApiTreeHandler (#15660)
aa001ef08 chore: changed import of rpc-db (examples) (#15661)
3cf0d0d75 feat: add no-local-exemptions settings to MaintainPoolConfig (#15651)
f217ec5e9 fix(era1): use framed snap encoding/decoding instead of raw one (#15652)
558737aa2 chore: changed import for txpool-tracing(examples) (#15650)
00d4ca9fa chore: changed import for precompile-cache(examples) (#15647)
1894ca8ab chore: changed imports for node-custom-rpc (example) (#15646)
3c1a063ee chore: changed import for node-event-hooks(example) (#15645)
37d1014cd chore: changed imports in network-proxy (examples) (#15644)
5182fe59c chore: changed import for network(examples) (#15642)
f16354be8 chore: changed import for custom-payload-builder (examples) (#15641)
e0a6e05cf chore: changed import for custom-rlpx-subprotocol(examples) (#15639)
d68dd400a chore: make build eth api async (#15636)
ab85300ac chore: changed import for network-txpool(examples) (#15643)
e261a2e20 feat(engine): enable prewarming & caching by default (#15630)
73b929407 chore(lint): Remove redundant lint attributes (#15531)
923918809 chore: prep alloy TxEnvelope transition (#15628)
c6ba7c620 chore: add serdebincodecompat to optxenvelope (#15629)
b5de89ba3 test: activate holocene and isthmus in kurtosis-op (#15611)
be5553d71 chore: bump op-alloy (#15626)
add12f9a9 fix!(rpc): wrap call many response in vec (#15622)
491413f3e chore: rm bundlestateprovider (#15607)
a5755f72e fix: use `--http.corsdomain` for http rpc server (#15620)
460f8400a feat: add ability to handle dedicated storage proof result (#15252)
520d7545c chore: changed import for custom-inspector (example) (#15610)
8b52b1e14 chore: changed import for  custom-node-components(examples) (#15609)
44ab19289 chore: release 1.3.8 (#15529)
0063aa20b fix: pick 1559 fees correctly for dynamic fee (#15605)
dc367ad78 fix: eth_callMany uses vec bundle (#15596)
a0c7d1cd7 fix: check for missing prio fee in eth simulate (#15601)
897223d30 fix: typo (#15578)
aea8b06d3 fix: apply default values for transactions (#15488)
16027eace feat(era): add `Era1Writer` (#15577)
fad870e35 feat(evm): Accept executable transaction as the input for block builder (#15524)
b52ef3c17 feat: add eth cache helper function (#15589)
6ae48f8d9 fix: :bug: Fix gas_limit handle in eth_simulate (#15562)
435b8ad98 complete docs of metric crates (#15581)
4dc1b5c90 perf: spawn prewarming transactions in chunks (#15155)
abd898131 fix: `latest_state` returning `last_valid` instead of latest received (#15565)
8653a471e chore: Add pull request title lint (#15357)
c3471bf7b chore: fix doc comment on `get_storage` (#15503)
c605eef1c feat(era-e2s): add `E2StoreWriter` (#15560)
6b8f5c5a6 feat: `Prague` mainnet timestamp (#15582)
7b60a3582 chore: bump lighthouse and do minor fixes in docker compose (#15587)
5b8e40bce chore: set prewarm concurrency to 64 (#15521)
70a105e20 chore:changed import for custom-engine-types (#15573)
f5510619b update tokio version to 1.44.2 to fix sec issue (#15583)
dfd838cce chore:changed import for custom-evm (#15572)
888f0247c fix(era): some fix for const + more tests (#15576)
7b43c5ee9 chore: add status enum for handshake to support status69 decoding (#15543)
1e1f0f8e6 chore: update advisories (#15580)
1126ecc8e fix: config defaults for eth components (#15552)
08e4e9b73 chore(benches): remove pprof support (#15575)
7c5d2cf4f chore: correct typo of `set_interop_deadline` method in transaction handling (#15563)
5184d15df chore:added transaction-pool and reth-node-core for reth-ethereum and reth-op (#15559)
fcc40f3a4 feat(era- e2store): add `read_next_entry` + improve tests (#15556)
f1dda7cf3 chore:added revm re-export for reth-ethereum and reth-op (#15561)
ca80ea187 chore: clean unused deps (#15557)
b9ebf8367 chore: changed import for custom-beacon-withdrawals (#15554)
59525452e chore: changed imports for custom-dev-node (#15555)
3904bdff7 docs: Update installation.md hardware requirements (#15553)
52b6edb2d Remove redundant EngineNodeTypes trait (#15548)
1b8517988 chore: changed import for beacon-api-sidecar-fetcher (#15546)
b8b75da06 Simplify examples imports for beacon-api-sse (#15549)
19f807056 Test Cases cut down on reth_ethereum_primitives::Transaction usage (#15397)
5ff46e8e1 chore: generalize inmemorysize impl (#15539)
b7ce701a4 chore: silence warnings (#15538)
344e2e439 feat:  introduce `reth-era` crate with `era1` file types (#15396)
415ff4a57 refactor(tests): consolidate state tests into a single test function (#15491)
bc80e5641 chore: add test for CachedState and ProviderCaches storage values (#15487)
0a32035cd feat(examples): add ConfigureEvm impl for custom-node example (#15520)
3810c58d8 Add PubSub subscribe to custom node rpc example (#15522)
3a26a2814 fix: blob params parsing and configuring (#15535)
0c4928b9d Added txpool cli args for local txs backup (#15533)
e5c6de595 chore(lint): Replace allow with expect for `dead_code` and rm unfullfilled lints (#15530)
1a9562f89 chore: return invalid reward percentiles as invalid params (#15532)
a07064da9 fix: add fcu v1 for op engine (#15526)
6c6fe0371 Trigger kurtosis workflows on tag (#15511)
f82b20903 refactor(net): add ` EthStreamInner` for `EthStream` (#15519)
1ba40f3d4 fix: send_rpc_call deserialization (#15523)
da261094a fix: remove global instance (#15504)
b8b65b324 fix: incorrect `derive_more` import (#15514)
76f6ea23b chore: add conversion helper for eth69 (#15512)
6eb25e4bc feat: handle unknown eth message (#15450)
604cc0923 ensured trace_filter has a valid block range (#15473)
48e0ec67d perf(trie): cache last hashed entry seek in trie node iter (#15471)
ef18f950d refactor(trie): introduce `SubNodePosition` enum (#15420)
a755f6bc8 feat(engine): parallel state root fallback metric (#15352)
ed7da87da chore: release 1.3.7 (#15485)
3521c7ae9 fix: set None storage lookup to NotCached (#15484)
60ff71b1f chore: release 1.3.6 (#15483)
f60f55858 fix: actually override simulated (#15482)
5658b7849 benchmark for blob tx pool truncate (#15461)
db269f3e5 docs: Document double option for `get_storage` method using enum (#15443)
6b06fdfe1 chore: rm unused warning (#15474)
60867680f feat(examples): add custom NetworkPrimitives and Networkbuilder to custom-node example (#15468)
98692cf1f refactor: simplify hardfork determination (#15451)
b6146e32b chore: bump version 1.3.5 (#15469)
add505dc3 feat: support simulation in blockbuilder (#15470)
500405aa0 feat(trie): node iter metrics (#15438)
4109b26f2 fix(op-interop): don't down score peers for invalid interop txns (#15467)
93b904472 feat(tx): Implement `FromTxWithEncoded<TransactionSigned>` for `TxEnv` (#15466)
caf3a21d2 chore(op-txpool): Update `ExecutingDescriptor` serialization (#15465)
d3ec6abd0 feat(examples): route engine messages from custom engine api in custom-node example (#15458)
7305c9ee0 feat(tree): set multiproof task concurrency independent of Rayon thread pool (#15456)
cdbb07c8e fix: op-reth chain arg (#15457)
f11e2eafa chore: fix PoS total difficulty calculation (#15452)
6f8082af3 feat(examples): add custom engine API to custom-node example (#15436)
69df27e9b feat: add Client trait for snap sync downloader client (#15449)
40015a821 perf(trie): reduce hashed seeks in `TrieNodeIter` (#15336)
ca862ab98 chore: add more logs to init-state, improve errors (#15446)
e76e8bf02 chore: removed outdated comment in init-state (#15445)
0c9dd9a27 fix: always set empty request hash after isthmus (#15444)
831ad19da Removed reth-ethereum-cli from dependencies to dev-dependencies and made necessary changes (#15439)
83fc1069c feat(trie): add metric for time since updates finished (#15442)
40bc94dec refactor(optimism/rpc): Use alloy RpcClient in SequencerClient (#15346)
be04b45b2 chore: remove unused deps (#15429)
0a5669430 perf(discv5): enhance peer lookup defaults (#15421)
33198a8cd Add detailed documentation for admin_peerEvents and admin_peerEvents_… (#15390)
001249dec chore: add alias for ws.origins (#15403)
942200bff fix: mark chain as global and update usage (#15409)
c4dad3926 fix(engine): fetch account proof on wiped storage (#15415)
6d3f3b510 chore: remove unused deps (#15416)
94ff338ef docs(trie): trie node iterat walker check flag (#15418)
5ddb704bf feat(op-evm-config): Clear technical debt from #15307. (#15417)
1d1bfac59 chore: rm incorrect debug_assert (#15402)
d3e6db7c9 feat: impl SerdeBincodeCompat for ExtendedOpTxEnvelope (#15414)
64d3d30aa Extend eth state cache with get receipts maybe block (#15391)
3dd681bbb Update expected hive failures (#15405)
bbc7dd913 fix(op-interop): cross chain tx `SafetyLevel` utils (#15354)
9f7560201 more interop metrics (#15388)
eebda8e10 Add extended op tx envelope transaction type #15328 (#15334)
948832d06 integration test: txpool listener could handle queued and invalid event (#15399)
409e1db7f fix(doc): `NodeTypesWithEngine` to `NodeTypes` (#15393)
86cc7a807 replace interop with an AtomicU64 (#15367)
53ec8fdc7 added chain condition and imports (#15386)
46b208ea9 chore: phase out reth-primitives from reth-provider tests (#15384)
5514dfef3 feat: make instance argument optional (#14389)
e523bc252 chore: add blob validation histogram metric to tsx pool validation (#15369)
502161199 chore: move cross validation into SupervisorClient (#15374)
e75b207a4 fn signature removed from signedtransaction (#15331)
f7c264d2e chore: make state root fallback WARN (#15343)
b400426f7 chore: Iterate each test case in ef-tests in parallel (#15368)
9be2d5875 export `LowestAvailableBlocks` in `reth_provider::providers` (#15366)
ebeb8b71c chore: silence warning in optimized build (#15378)
509b859c7 Removes `pin-project` from `ConnectionListener` (#15376)
2c6380c7e fix: rm unsound transmute (#15373)
0e2a4c4a8 ci: make nightly dispatch (#15375)
e2e297d77 feat: remove NodeTypesWithEngine trait layer (#15351)
9718e9444 Simplified input truncating (#15364)
faedf98db chore(optimism): Remove interop L1 info transaction variant (#15361)
57dda5e95 chore: bump deps (#15359)
6260fe94b fix(grafana): fix trie input calculation duration panel (#15277)
3ea3b68f6 deps: bump alloy-chains (#15356)
57549cb9b chore: fixed dead link `lighthouse-book` (#15355)
0436a2e86 Feat: add validate_one_with_state implemenation for op and eth validator (#15342)
d1ed669a1 POC of interop filtering during block building (#15348)
ceaf96870 Fixes #15321 feat(txpool): properly parse supervisor RPC errors into interop variants  (#15323)
81254a2cf feat(txpool): monitor pending interop txs (#15313)
1105535eb chore: add warning unused deps (#15340)
56df19673 chore: replace reth-provider with reth-storage-api (#15344)
dd76b4291 feat(op-rpc): finalize `signal_superchain_v1` 's endpoint (#15338)
30c457843 chore: change default for op cli args (#15333)
9b74831de Extend exex example with optimism node (#15308)
db7e740fa feat: add custom transaction type to custom-node example (#15296)
963d8b95a integration test: txpool listener could get replaced event (#15318)
9bcd37f2a Implement txpool interop support for optimism (#15105)
0df7e0bc2 Refactor Optimism Transaction Validator: Extract OP-Specific Checks & Enable Batch Processing (#14929)
f96f42644 chore: complete optimism mainnet forkid tests (#8114)
157b77bb5 Function for retrieving Methods for TransportModules by name (#15061)
25216da48 feat: add blob Hit count panel (#15300)
90d50903b chore: replace reth-provider with reth-storage-api in optimism-rpc-crate (#15310)
ea001235c feat(full-provider): Add Debug trait to FullProvider. (#15307)
c13d02589 Made --rpc.gascap support "max"  (#15272)
bc9b90ce6 chore: fix typos (#15303)
e6156e467 chore(storage_api): use map_or_else (#15302)
4030adbe4 docs: added a link to the bench workflow (#15196)
d41e38f31 chore: refactor boot_nodes usage to eliminate redundancy (#15258)
b0d55f665 chore: add SignedTransaction trait for OpTxEnvelope (#15250)
4d7806c75 feat(node-type): Make NodeType & impls Clone. (#14997)
e36d0d65f chore: rm unused file (#15293)
261eaf052 Add MaybeInterop trait to the pooled transaction (#15256)
2471c3e74 Remove support for loading custom trusted setup (#15290)
28fea042c feat(reth-optimism-rpc): init endpoint `engine_signalSuperchainV1` (#15249)
abd447097 add remove logic in integration test of txpool listener (#15285)
790b49e00 feat: add opstack specific display_hardforks implementation (#15233)
0a6b54610 ci: bump ubuntu for windows (#15280)
fb5a6e755 chore: include err in error return (#15279)
29104ecea Cleanup dependencies before running new nighly build (#15276)
0c27c3d9c added generate next payload (#15268)
ef5ee49fe ci: exit early if any of the Hive images fail to save (#15273)
ec74401a1 chore(ci): bump eest release and pin eest simulator versions (#15274)
7ab39dce3 refactor: use MAX_CODE_BYTE_SIZE and MAX_INIT_CODE_BYTE_SIZE in revm (#15269)
79cd086a5 Fix: check canonical head first (#15101)
06453c955 Generalize SignedTransaction for EthereumTxEnvelope (#15247)
6772939bc Polishing up any minor spelling errors (#15223)
985a926be feat: relax NodeTypesWithEngine bounds on EngineTypes to PayloadTypes (#15257)
c0c29862b test(trie): more complex trie node iter test (#15244)
d456af044 Created GeneratePayloadAttributes e2e Action (#15234)
914fc51f2 remove reth-primitives dep from reth-provider (#15203)
5a7cd15e9 test(trie): fix cursor mocks (#15242)
0200ad6ee feat(storage): Implement `Compact` for `OpTxEnvelope` from `op_alloy` using blanket impl (#15230)
c3b7c1e44 chore: relax bounds from EngineTypes to PayloadTypes (#15239)
15d12234d integration test for blob sidecar listener (#15210)
ee4270a0f feat: add other constructor for err (#15236)
d6031a2b2 test(op): add Op e2e testsuite example (#15039)
90513dfe3 replaced TransactionSigned::new (#15222)
0f348898c chore(deps): weekly `cargo update` (#15231)
20d1d6ac5 test: remove redundant clone (#15232)
fafa63c31 Remove default serde feature from reth-network-api (#15226)
95d5b3ad5 reth-node-types: Add derive(Default) avoid manual implementations (#15228)
849276844 Allow `blob_cache_size` to be configured via CLI (#15213)
c0e1788d0 added engine_getBlobsV2 endpoint (#15217)
64f2e01f2 chore: remove usused file (#15215)
d271da612 Remove ethereum-fork-dependency (#15216)
3a99c7514 Derive blobstore cache size from configured blobtargets (#15189)
f4f205f80 changed possible #[allow()] -> #[expect()] (#15168)
35a5d050e feat: feature gate serde in ethereum-primitives (#15041)
88f8be48b feat(storage): Implement `Compact` for `EthereumTxEnvelope` from `alloy` (#15122)
a34f45641 chore: make clippy happy (#15208)
0eb893e0e chore: change default for await_payload_on_missing (#15178)
fc1bb8419 feat: add dedicated storage proof method to ParallelProof (#15183)
da8f13715 Push nightly image with profiling profile (#15206)
90c514ca8 chore: release 1.3.4 (#15205)
e3a67762b chore: bump revm alpha7 (#15202)
20a6a8514 refactor(trie): initialize sparse trie with the provider (#15199)
664250946 chore: remove serde default (#15186)
59ed4c025 test(trie): fix the trie node iterator test and use hash builder for correctness (#15195)
65b7b3379 chore: remove serde from reth-provider (#15194)
3d0705621 docs: edited by badge lint (#15072)
b7d834d1c Use of payload type instead of EngineTypes (#15187)
c88e2b6f1 chore: bump version 1.3.3 (#15193)
ef5b9590b chore: remove serde default (#15188)
5b06daa26 chore: remove reth-provider dep (#15191)
3ca590d60 chore: remove reth-provider dep (#15184)
53a9c234a test(trie): trie node iter (#15176)
b0d9a6b14 Created ProduceBlocks  (#15179)
8a36cbb3a chore(ci): update hive eest limits (#15172)
a1c618205 chore: bump alloy-evm alpha2 (#15177)
032d5de7d feat: make MissingPayloadBehaviour configurable in EthereumPayloadBuilder (#15161)
87111a6dd Fix: Enable BSC Pascal Hardfork for fixing bsc handshake (#15175)
5a6d95723 test(trie): mock hashed cursor factory (#15174)
8df04421e test(trie): mock trie cursor factory (#15173)
c9675fdf1 move tx pool events and listener code into its own file (#15162)
10048e0f4 chore(op): remove unused DepositTransaction impl (#15169)
393c49852 perf(engine): use proof task as blinded node provider for sparse trie (#15152)
feb38c35f feat: add inverse conversion for rpc proof types (#15158)
22f5fd316 feat: add new `NewBlockEvent` enum for different types of block announcement events (#15133)
6145005c0 refactor: Update BlockImport type to use BlockImportEvent to support announcements (#15153)
9f6fec213 feature gate serde in config (#15071)
d66e89952 feat: use configured `max_new_pending_txs_notifications` channel for channel size (#15132)
ffc4cceb0 chore(trie): make rlp_node take external rlp_buf (#15137)
00d216335 chore(trie): refactor each trie reveal into separate fn (#15143)
0a702ac48 Exempt auth server from query limits (#15074)
18056cf9a converted EngineTypes to PayloadTypes (#15148)
01e549213 chore: simplify revm imports (#15090)
9cb7177df Added custom headers to NodePrimitives (#13995)
0b9ffe8c1 chore: Move block_to_payload to PayloadTypes trait (#15138)
88a4d1b3f chore: turn multiproof from state into pure fn (#15139)
22ff50aa4 chore(trie): rename from_provider_and_root to from_root_node (#15141)
bbbc1c143 chore: fix hickory_resolver breakage (#15134)
ebbb25da5 feat: add hoodi genesis (#15118)
876ad3192 feat(rpc): accept requests hash in engine_newPayloadV4 (#15123)
d61f64e28 feat(reth-bench): support engine_newPayloadV4 (#15127)
2a81add75 chore: bump alloy 0.12.6 (#15130)
2942fe8f5 chore: add evm_for_ctx in prewarming ctx (#15121)
c99a963d1 refactor(trie): pass blinded provider factory to sparse trie methods (#15120)
79b19847e Created PickNextBlockProducer e2e Action (#15119)
7c70df193 refactor(trie): invert provider access in sparse trie (#14662)
d11980812 chore(trie): do not take self by mutable ref for blinded provider (#15116)
03c5abba8 Re-exports serde bincode compat (#15112)
3eb05a4ad Refactor generic type to use `PayloadTypes` (#15113)
214a5ac27 ExecutionData moved to PayloadTypes (#15060)
ccf27eaa3 fix windows msvc build (#15082)
920796387 chore: remove layer of blocking task calls (#15102)
5cfa9c7df Build and push images in parallel (#15042)
772418f04 feat(op-interop): Uncomment interop activation checks (#14980)
3742a045d Bsc block import (#14784)
8e02f5f89 chore: elide lifetime in PayloadOrAtt impl (#15095)
95bf853ea chore: fix dead link in `example/README.md` (#15065)
59ef9d930 perf(tree): do not wait for the sparse trie to drop (#15092)
9cdfcf57b feat: use fixed number of db transactions for storage proofs (#14860)
32cd12bc0 chore: make execution and state root logs debug (#15077)
ce76bb46d fix: bring back the missing trace! logs (rpc::engine) (#15096)
802a1c7bd chore: release 1.3.2 (#15097)
b761dac93 feat: add hoodi bootnodes (#15085)
e334f7ad3 bump: revm v20.0.0-alpha.6 (#15087)
e5bf12692 fix: use branch for jsonrpsee (#15094)
ed9be7624 respect gas limit for test_best_transactions_prioritized_senders() (#15076)
286a88dee chore: rm reth-primitives from trie (#15070)
cd852879b feat: add wait_time optional argument to reth-bench (#15045)
f55d8405c chore: rm reth-primitives from node crates (#15069)
04f5a2aaf chore: rm reth-primitives from exex crates (#15066)
68249bd6e chore: rm reth-primitives from network (#15063)
6193729e7 chore: rm reth-primitives from optimism (#15064)
023aad93f chore: rm reth-primitives from eth wire (#15062)
24f1972a5 chore: rm reth-provider dep (#15058)
a71fb7971 chore: rm reth-primitives from downloaders (#15059)
73885a762 chore: rm reth-primitives from payload basic (#15056)
3812ad229 chore: rm reth-primitives from payload crates (#15055)
d3be2e530 test for handling incoming_transactions_hashes (#14960)
16ce387a5 Replace None with RecoveryError in transaction signature recovery (#15050)
d758cdc07 chore: add serde feature to db-models (#15051)
9ab24977c fix: increment in_progress when we spawn a prewarm transaction (#15052)
288299117 fix: add debug namespace to auth module in op-reth (#15048)
8d43d6d77 fix: handling of on-disk reorgs (#15046)
492425d14 chore: rm redundant error map (#15044)
b8f7a345d feat: add total multiproof task duration grafana (#15034)
95dcb36f8 fix(l2-withdrawals-root): conversion of block to `OpExecutionPayloadEnvelopeV4` (#15038)
613e4e55f chore: invoke invalid block hook for new invalid blocks (#14776)
89e3e5529 feat: make trace_filter block range configurable (#14939)
5f5544894 feat(test, e2e): mutable environment for actions (#15021)
1db3b55c7 chore: rename stateful-precompile to precompile-cache (#15033)
069fb0d24 fix(ci): update limit to match fixture types in hive eest tests (#15037)
850ab5c3c Fix: Update commet about Eip7702 transaction type (#15024)
752acea87 remove no need map_err (#15036)
b21d14c9b remove no need map_err (#15035)
1a1f4dbc8 feat:added peer-kind to SessionInfo (#15022)
f2d3b7f2b feat: track time since first state update in metrics (#15031)
d00992e81 chore: add profiling-op target to Makefile (#15032)
62e13dbe6 feat: Impl TryFrom<Recovered<TxEnvelope for MockTransaction (#15005)
0bfba0134 chore: use Histogram for trie input duration (#15028)
a3a2bbf3d feat: add redundant / total multiproof node graphs (#15027)
8142c6c32 release: v1.3.1 (#15030)
c10b0dd7f feat(ress): max witness window (#15029)
eeaa65a66 chore(trie): simplify hashed post state partitioning (#14892)
217f595c6 optimize txpool component doc comment (#15006)
526073cb0 chore(ress-provider): replace `reth-primitives` (#15020)
cd55468cb check not only 1559 but also 4844 and 7702 for min_priority_fee checking in txpool validation (#15009)
18b1c7c81 Fix: help merging `CachedReads` across blocks (#14993)
8393e52ee feat:added EthApiCtx struct for converting build_eth_api args to container type (#15013)
4880760bc fix: add bincode compat for eth receipt (#15017)
e017967dd chore(cli): fix clap deprecated warnings (#15016)
757f39f1a chore: rm reth-primitives from reth-rpc-eth-types (#15004)
2a36f6958 feat: remove deprecated #[clap] attribute  (#15015)
8501a7492 chore(test, e2e): remove empty and unused actions (#15008)
c0e848a29 fix(ress): do not terminate on dropped commands sender (#15007)
37f8a5282 chore: rm reth-primitives from engine crates (#15003)
3bebb0a19 chore: add metrics on redundant proof nodes (#14969)
a38c991c3 fix: use clang v10 (#15000)
972d8b2d4 chore: add workflow for building binaries (#14999)
aef442740 Revert "meta: downgrade ubuntu for windows" (#14998)
ccc932b37 deps: downgrade cc to 1.2.15 (#14996)
2818a1641 meta: downgrade ubuntu for windows (#14995)
490bd154c meta: bump ubuntu for release (#14994)
cd31c32b8 meta: bump rust version for reproducible build (#14991)
93e180cb8 meta: install cross from main for release (#14992)
20bbdd70b Chore: move tree config from engine-tree to engine-primitives (#14890)
f5dddffc7 chore: bump version 1.3.0 (#14986)
f3a9ba6f0 chore: blanket implementation for `OpPooledTx` (#14990)
e9a9a3f7b chore: bump revm (#14988)
1b5fe7060 docs(ress): fix witness format (#14984)
080f92e76 chore: add ress code owner (#14985)
3ac87fd09 chore: bump alloy-trie (#14983)
78a9bc6a6 use cross main in docker-git and docker instead of taiki-e action (#14978)
4cd46f8ae Bump vergen to 9.0 #14904 (#14940)
1d7028bc3 feat(optimism): enable state root task by default (#14977)
523dcfd80 chore: bump alloy 0.12.5 (#14976)
b968fa04a feat: integrate ress (#14959)
aac3a6eb4 chore: add` From<BlockExecutionError> for PayloadBuilderError` (#14973)
d3b299754 chore: rm reth-prmitives from ethereum crates (#14972)
0e38286ea chore: rm reth-prmitives from stages (#14970)
88f433655 chore: rm reth-prmitives from e2eutils (#14971)
cabe7b4d1 chore: add sparse trie logs with time elapsed (#14967)
a4fa9e671 chore: remove reth-primitives dep db crates (#14968)
98f51f4b7 chore: rm reth-prmitives from rpc compat (#14965)
a0934626d chore: rm reth-prmitives from rpc builder (#14966)
73fdf8951 chore: bump revm (#14954)
5fba223ba Update metrics.md (#14813)
e5615d0d9 chore: rm reth-prmitives from rpc (#14957)
707c621ca chore: remove reth-primitives dep from eth api (#14958)
4920ad6db chore: Use cargo-chef to build the hivetests docker image (#14884)
cdc613699 chore: reorder trait impl fns (#14956)
e536fbce9 fix: call validate_execution_requests from validate_version_specific_fields for ethereum engine validator (#14932)
eaa45abb9 test: complete mine block test in e2e testsuite (#14849)
4ed233730 chore: feature propagation (#14951)
aaae30930 chore: bump revm (#14947)
1740903a7 fix(docker-nightly) use cross main (#14948)
750326320 chore: remove commented SparseTrieEvent (#14946)
8b391b981 ci: allow unmaintained humantime (#14950)
536b1626a chore(`SessionManager`): send message without `&mut self` requirement (#14949)
f9d2e10f6 chore: rm rpc conversion types (#14942)
e5a801699 chore: bump alloy-chains (#14944)
f880626c7 chore: use B256 Display for state root test assertion (#14943)
f91e8cad6 Parse L1 block values in Interop fork (#14869)
0ddb4ede2 chore: enable revm portable by default for op-reth (#14937)
4c6dce388 chore: simplify rpc tx conversion (#14736)
bd81f69cc Add other variant on Block import err (#14938)
d616096fd chore: simplify `NodePrimitives` bounds (#14936)
c0a4c3b21 feat(ress): limit active connections (#14928)
38fc49fb2 add nightly builds (#14934)
3c12ec36a chore: enable revm portable feature by default for binaries (#14931)
60a9b2739 fix: exex head ahead of host (#14001)
730087269 feat: implement compact for alloy ethereum transaction (#14908)
d9a00b847 feat/emit better payload events (#14923)
4bdbb3ce3 fix: disable not only if requested (#14927)
b7c824580 feat(op, txpool): introduce OpPooledTx trait (#14926)
7c52e6c9d fix: clear tree state on unwind (#14866)
4ecbe1919 feat: add bincode support to opreceipt (#14872)
bda285290 chore: remove reth-primitives dep from commands (#14919)
141b84599 chore: remove reth-primitives dep from chain-state (#14914)
91eb292e3 refactor: unify EVM traits (#14920)
a1ca2dec4 feat: implement InMemorySize for TxEnvelope and OpTxEnvelope #14913 (#14922)
857b069d1 chore: remove reth-primitives dep from op rpc (#14915)
d1f625f6b chore: bump alloy-evm (#14917)
a870ac4a0 chore: remove reth-primitives dep from consensus-common (#14912)
a9fee96f0 chore: remove reth-primitives dep from evm (#14911)
31697e550 chore: Add 0x prefix and use macro if possible (#14907)
dcddbe477 docs: correct activation note (#14910)
c6c787050 chore: add FactoryTx<F> for getting tx associated types (#14909)
c1a255a83 chore: replace withencoded with alloy's (#14905)
e05574f9f chore(ci): Remove redundant licenses from allow list (#14903)
c3c152f62 replace reth-primitives deps in txpool with reth-primitives-traits (#14306)
fb0cd62ae fix: generate-jwt.sh dir with whitespace (#14896)
493011ed0 changed block_with_senders() to recovered_block() (#14894)
771cd3ce5 chore: impl encodable for tx (#14893)
4f4db67bc feat(trie): update sparse trie storage roots independently (#14874)
7b9470ef3 chore: bump alloy 0.12 (#14891)
3536be516 chore: update advisories (#14889)
333d1a7c9 feat: don't include operator fee params in receipts when both zero (#14880)
a765af9e6 perf(tree): chunk multiproofs (#14800)
17d33c04c chore(deps): Bump op-alloy (#14882)
53e72c8e8 changed sealed_block_with_senders_range() into recovered_block_range() (#14876)
30eab29f4 fix(l2-withdrawals-root): isthmus header custom genesis (#14875)
5d237fcc9 feat: add helper for eth body conversion (#14864)
5ce2716b7 chore: add 0x prefix to `b256!` and `address!` calls (#14871)
e212a253a modified get_sealed_block_with_senders() to get_recovered_block_with_senders() (#14865)
42c8706f8 chore(primitives-traits): remove duplicate IntoIterator bounds in generics (#14861)
b8fa08f45 chore: remove StateRoot variant from BlockValidationError (#14858)
e5720e6d0 chore: bump alloy-evm and revm (#14855)
6e125ce61 refactor: prepare BlockExecutionError for move to alloy-evm (#14857)
5c7ba5c2f Added 0x prefix to transaction hash test values (#14854)
56342a23c chore: auto_impl TrieCursorFactory for reference (#14856)
749130718 feat: add validate known account to optimism rpc (#14851)
5576a7de4 feat: integrate alloy-hardforks (#14853)
a30803289 feat: configuration of the tokio runtime (#14837)
df18ded17 fix(mev_simBundle): log at trace rather than info level (#14852)
3f277291b test: partially tx response for tx fetcher (#14817)
b67bd2d33 invoke on_unsupported_by_peer of ConnectionHandler (#14411)
afb071aca fix(rpc) enforce limit on reward percentiles (#14847)
fa70827ba fix(l2-withdrawals-root): Fix genesis hash for custom op chain (#14845)
82b1676b1 chore: bump version 1.2.2 (#14846)
d58573034 fix(eth_callBundle): Fix ethSentToCoinbase calculation (#14816)
cb917c5f8 refactor: use tokio to fetch storage proofs (#14838)
29e5c7567 Added 0x prefix (#14843)
fa41b8617 fix(l2-withdrawals-root): Compute op devnet genesis hash from genesis header (#14839)
80e86aa0d fix: filter by deposit signature hash (#14841)
18b71d9a9 refactor: prepare EthereumHardforks for move to alloy-evm (#14835)
303605319 feat(tree): multiproof manager metrics (#14819)
0441f3a8d Fix: Increase gas limit in chain config (#14830)
8ddd8d6f0 refactor: remove `Primitives` AT from `BlockExecutionStrategy` (#14833)
fb24454af fix: apply eip2935 for op (#14832)
7b2f889dc fix: correctly configure `extraData` for Ethereum blocks (#14831)
2eab45869 feat: `BlockAssember` + `BlockBuilder` (#14808)
6368a303a chore(hive): run devp2p/eth tests (#14826)
916b24153 fix: filter for more events when watching `StaticFileProvider` directory (#14827)
e7fd14668 feat: e2e testsuite actions (#14773)
060f0b1bb fix: use txpool.lifetime in pool maintainer correctly (#14823)
08a7c52c2 fix: only check for best block number (#14822)
4b6c7d0ac feat(net): `ress` subprotocol (#14687)
6bd864763 chore: ignore ethereum-tests in local codespell check (#14815)
c0d624ceb chore: ignore flaky bsc p2p test (#14818)
6b602f433 Added engine_getBlobV1 metrics in grafana dashboard (#14732)
54485df18 refactor: move isthmus helpers to reth-optimism-consensus (#14811)
8ac42a086 fix: correctly prune `HeaderNumbers` (#14812)
2e347e76e fix: no-std for storage-api (#14810)
7ba701a7a docs: typos (#14806)
7413f11aa feat: `ConfigureEvm::NextBlockEnvCtx` (#14801)
6a4a1e1f6 Feat: add a `discv4` test to verify the bootnode event behaviour (#14787)
e0518e1f8 fix(tree): use only in-memory blocks when constructing trie input (#14729)
e61483724 feat(reth-ipc): add request_timeout to client builder (#14788)
18de3eb40 chore: misc tree (#14797)
3c139a480 Fixed grammatical errors, typos, and spelling mistakes (#14796)
b36088da9 chore: allow result too large (#14795)
c701bba7e refactor LaunchContext::with function. (#14792)
fa22b2657 chore: use interop timestamp (#14782)
ce6bf9ac6 chore(deps): weekly `cargo update` (#14785)
0389c8766 feat: Feature gate traits inside storage-api that still depend on db-api (#14647)
889aebea8 chore(ci): unpin op-geth for kurtosis-op (#14781)
5f05d52de chore(sdk): Use `EthApiBuilder` instead of `FnOnce` trait (#14442)
64cc11ebb Add dedicated Optimism Storage impl (#14654)
62821fbb1 Add pools evicted transactions metrics (#13946)
10bad4c86 fix broken link (#14768)
ba2797c8b refactor(tree): remove `root.rs` (#14778)
bffdda431 Stateful overridable handshake (#14567)
675861249 chore(sdk): clean up op engine caps (#14775)
6ce459aec chore(payload): Move `ExecutionPayloadValidator` into `reth-ethereum-payload-builder` (#14751)
732e3debe feat: add rlp support for snap message types (#14718)
ffabf7ebf feat(isthmus): Integrate `OpExecutionPayloadValidator` (#14207)
6abe4407f test(tree): move state root task test to payload processor (#14772)
a1ca8d46d remove Option on is_paris_activated call (#14771)
9f3041c35 User receipt Serdebincodecompat for chain type serde (#14669)
8f803147e fix incorrect async func LaunchContextWith::with_resolved_peers; (#14769)
dad7d802f fix: sepolia paris block (#14766)
9ca3bc22d chore: use block fn directly (#14765)
bdb35ae30 fix(tree): state root task duration (#14763)
ca4a6181a Modified op-reth to always use all OP bootnodes when none are explicitly provided #14603 (#14619)
72d21c126 fix: no-std for op crates (#14762)
feab73a00 feat(trie): utility methods for getting difference for `MultiProofTargets` (#14761)
b61fa5251 chore(deps): Use async closure in `bin` crates (#14725)
1cb5628f8 chore: fix examples lint not running in ci (#14760)
70e31f1ed chore(tree): remove old `insert_block_inner` method (#14754)
2e542152f chore(deps): Bump msrv (#14724)
7d3da7f32 chore(tree): report prewarm metrics (#14759)
3ec3eb241 chore: small `NodeBuilder` simplification (#14755)
0dab1668f chore: simplify provider builder setup (#14756)
bdc3b1b9e feat: `DebugNodeLauncher` (#14738)
e92a6a347 refactor: introduce payload processor (#14589)
08aee6014 feat: add helper conversion from revm Account (#14750)
90f3502e4 fix(grafana): use correct datasource in variables (#14752)
b2ead06d1 feat: pending block support in `BlockExecutionStrategyFactory` (#14730)
cbf31556a chore(trie): convert `MultiProofTargets` into unit struct (#14748)
e50287b02 refactor: extract api trait methods into metered methods (#14740)
b4d1c8539 feat(trie): `HashedPostState::multi_proof_targets` (#14747)
921624788 feat(grafana): human-readable job variable selector (#14719)
80250f028 refactor(e2e): do not use `EngineApiClient` (#14739)
4565cda59 chore(deps): avoid duplicate crates (#14681)
d291d5295 feat(op): add builder methods for tx conditional and pool overrides (#14741)
1e48668bf feat: allow to transfer Executor accross threads (#14728)
5072bd760 feat(reth-bench): generic transactions for send-payload commands (#14721)
60c79a932 chore(storage): cleanup consistent view revert state checks (#14734)
97bc3611d feat(engine): Op engine capabilities  (#14733)
009b09256 feat: Avoid propagating transactions with conditionals, closes #14706 (#14722)
f94f37eb4 fix: correctly set txtype for `eth_call` (#14727)
256351d4e feat: allow applying overrides for non-`CacheDB` databases (#14713)
4ab2254d0 feat(tree): state root task multiproof metrics (#14534)
0c96a23f8 fix: fix log key format for target_block_number argument (#14699)
bb13be482 chore: always set mint in deposit tx receipt (#14716)
5b19846ba feat: extract insert_state to ProviderCaches (#14714)
1809ee533 Add Clonable Error Handling to ProviderError Enum (#14712)
c7a1356a1 Added 0x prefix to all hex, macros and b256 (#14711)
77aa17fb5 refactor: introduce `BasicPayloadServiceBuilder` (#14700)
75ca54b79 Refactor Session Management and Improve Documentation (#14707)
26ad9625d refactor(engine-api): change payload fn arg with `ExecutionPayload` (#14673)
e35d9bada correction / fix comments  (#14573)
0174d9396 chore: fixed duplicate phrase issue in block description (#14698)
cf73f6eed feat(l2-withdrawals): Verify l2 withdrawals root in `PayloadValidator` (#14636)
84ef51f9c remove needlessness async block and await op (#14694)
7267395b1 chore: use `rx` over `tx` for receiver name (#14693)
4204b993f feat: add helper for RecoveredBlock::clone_transactions_recovered (#14689)
ee7e3fea2 feat: re-introduce `debug.reorg` logic (#14676)
c40d059dd refactor: implement `BlockExecutionStrategyFactory` directly on `EvmConfig` (#14675)
a18b0fce7 Implement ExecutionPayload for OpExecutionData (#14682)
38808e174 Disable default features for tracing #14526 (#14530)
6074d8d92 chore(sdk): Complete adapters for `NodePrimitives` ATs (#14672)
64f639ae6 feat(storage): log revert state outcome in consistent view (#14684)
434ee6bc0 chore(ci): remove batcher extra param from kurtosis op network config (#14679)
340d7ba00 refactor: merge signed tx traits (#14622)
480c33f93 chore(hive): fix eest limit filtering (#14671)
8223a0dfd fix: dead link txn_manager.rs (#14670)
426f14442 Add RLP encoding/decoding for RawCapabilityMessage (#14638) (#14661)
33443de09 Make PayloadOrAttributes generic over ExecutionData (#14666)
c72731e91 feat(op-pool-tx): add new field to store encoded 2718 bytes (#14665)
4ada1535e chore(deps): weekly `cargo update` (#14663)
f0c9ca68d Removed unused BlockBatchRecord type (#14659)
d39e24d9f feat(trie): parallel proof metrics (#14633)
107ab4fb7 feat: Add withdrawals support to debug build-block command (#14493)
fa761f3e8  Correcting Verb Form in Headers Downloader and Stage Documentation (#14641)
ea680785b chore: rm clone for bincodecompat receipt (#14628)
40364d532 Relax EngineApi ExecutionData bounds (#14648)
5c8a0a1dc chore: allow new advisory (#14650)
9cb2a1e55 Extracted TransactionsManagerConfig creation as a standalone function (#14645)
25db3b12e chore: add required rand feature for test (#14644)
2101ae891 Feat: Introduce db_models crate into storage-api crate and update imports (#14640)
ae96ee963 feat(trie): add sparse trie Display impl (#14544)
d77c6061d Changed "match" to "if let some" to fix build errors (#14637)
74a1151c0 feat: integrate `TxEnv` conversions (#14630)
b3bd69b22 feat(root): metrics and logs for state root config (#14631)
478f4e520 feat(engine): allow to override has_enough_parallelism (#14608)
a60503525 Remove unused Senderrecovery variant (#14629)
86e8a2a24 Return RecoveredBlock in ensure_well_formed_payload (#14625)
faa55d96b perf(trie): optimize in memory cursor (#14600)
81cff4a90 add metrics for engine_getBlobsV1 (#14621)
066482d81 feat(l2-withdrawals): Define `OpExecutionPayloadValidator` (#14591)
c4066b041 fix: conditional check (#14616)
72210736a feat: re-use `BlockExecutionStrategy` in payload building (#14609)
09cf07d52 chore: pre alloc on send raw (#14611)
8d51c608c fix: handle `Deposit` in `TryFrom<AnyRpcTransaction>` (#14614)
050006977 chore(tree): replace LRU with FIFO for block tracking (#14587)
2a8f5b883 feat(l2-withdrawals): Move l2 withdrawals root computation into `reth-optimism-storage` (#14610)
816565920 chore: remove outdated log (#14612)
f03e7e02f chore(payload): Custom `PayloadError` variant (#14607)
246a9ffb2 test(db): complete DatabaseProviderFactory impl for MockEthProvider (#14605)
2c069230a chore: remove `'static` bound from `ConfigureEvmEnv` (#14606)
7ee8461ba feat: expose `InvalidTxError` in `BlockExecutionError` (#14597)
d07599520 chore(docs): Fix docs (#14602)
c5df8fbaa perf(tree): insert account cache only when not present (#14599)
1bf46848a refactor: use `BlockExecutorProvider` in `InvalidBlockWitnessHook` (#14594)
465af6e0f feat(tree): increase state root task thread pool size (#14455)
36851cc8d chore: fix codspeed build (#14588)
737f7833e peers.add_and_connect(): try to connect even if the peer has been added (#14581)
f1f353edc integration test of network state change (#14575)
b9c81e4d9 feat: `BlockExecutionStrategy::execute_transaction` API (#14586)
e51e10972 chore(deps): Bump `op-alloy` (#14585)
4f454c91d refactor: `BlockExecutionStrategy` API (#14480)
1ae733a7d Add interop hardfork in all relevant places. (#14582)
c9a348dd2 chore(deps): bump breaking deps (#14570)
1e40e2dca chore(deps): Bump `op-alloy` (#14579)
e92cf35ac refactor: simplify `SystemCaller` API (#14578)
849c04cb3 feat(l2-withdrawals): Decompose `ExecutionPayloadValidator::ensure_well_formed_payload` (#14566)
974cfa192 chore(hive): rename expected eest failures (#14577)
dde5269b7 chore: bump revm (#14568)
cec1c11ec chore: handle all revm errors (#14574)
3570f6b2f feat(reth-bench): substract block fetch waiting time from benchmark duration (#14299)
534b02820 chore: make return for debug_codeByHash optional (#14572)
545d5bdf1 chore(chainspec): use `MAINNET_PRUNE_DELETE_LIMIT` in `MAINNET` (#14569)
3485ce45b chore(chainspec): remove `MAINNET` usage from `ChainSpec::default` (#14565)
c0a30f051 feat(op): isthmus genesis header (#14560)
31b281906 fix: add clear tx l1 cost back (#14564)
29f4ca2a6 feat: `no_std` for `reth-evm` (#14561)
67a98860e chore: bump alloy-evm (#14559)
42f822305 fix(root): spawn state root task only if host has enough parallelism (#14555)
5fe28fdf2 chore: phase out reth-primitives from optimism consensus (#14548)
ffd0f1125 chore: remove needless clippy lint (#14550)
dde5cd8d9 Add Alias and update usage for emvenv (#14547)
1804bbea6 chore: remove `optimism` feature (#14545)
482f4557e chore(db): move `mod tables` to db-api (#14540)
336c3d1fa feat: `alloy-evm` and new revm integration (#14021)
bb6dec7ce chore(db): remove generic from iter_static_files (#14542)
f69ca72dc feat(op, txpool, metrics): add metric for removed conditional txs (#14541)
ea0a96a92 chore(storage-api): reduce dependence on reth-db (#14539)
f17e70136 chore: fix warning in examples (#14537)
e8286593e fix: make genesis header for op (#14538)
f6e8443b5 feat(debug-client): improve RPC BlockProvider implementation (#14536)
41f0f0198 chore: allow missing total difficulty when loading node head (#14533)
7fbeccca5 extending engine capabilities (#14528)
d6738c504 feat: use `PROMETHEUS_URL` env var for Grafana in Docker Compose (#14531)
51e2f91b2 chore(hive): update name of expected failure `eip7702_set_code_tx` (#14532)
344537a3a feat(rpc): Implement debug_codeByHash. (#14524)
f2752756d chore(optimism/chainspec): Remove redundant crate prefixes. (#14525)
fbceb2b3b docs: update broken link run-a-node.md (#14521)
c341ee343 chore: relax bounds on RPC types (#14529)
25579ce8a chore(docs): add book/cli to workspace exclusions (#14527)
a96bc6110 chore(deps): weekly `cargo update` (#14522)
07e8360c4 Removed weird ProviderError variants (#14518)
b7f173fd8 fix: use correct table types on drop (#14519)
22badc815 feat: Extend Maybeconditional with helper fn (#14511)
cb615cf5e refactor: replace into bound with standalone function (#14512)
0f4914a94 feat: use `SealedHeader` in `ChainSpec` (#14514)
8123d6bd3 feat: reexport reth-trie with trie feature (#14513)
e4c8e479c feat(op, txpool): add additional update routine for conditionals (#14497)
9c1988b5c feat(l2-withdrawals): consensus rules (#14308)
0e087ae1c chore: add Uniswap Labs bootnodes (#14507)
113a87b4f Add serde-bincode-compat for receipt (#14399)
16c3c5b73 fix(mev): Fix issues in mev_simBundle. (#14502)
cacaad1bc chore(deps): Replace `derive_more::Error` with `thiserror::Error`  (#14501)
b6198b1f1 feat(evm, root): pass state change source to state hook (#14494)
ab4b1764a perf: do not fetch proofs for selfdestructed accounts (#14486)
fe745ea63 chore(trie): small cleanups (#14496)
9579ea93e chore(root): state root task and sparse trie task logs (#14495)
713182d53 feat(trie): add DecodedAccountProof and DecodedMultiProof (#14425)
8c2bcf11d refactor(trie): struct for passing hash and tree masks in sparse trie (#14468)
1c09351a9 fix(isthmus): include storage updates in l2 withdrawals root computation (#14307)
72fdb7f9e feat: Make db-models no-std (#14459)
735ff493a chore: rm reth_primitives from rpc_testing_util (#14488)
817ad5c4a feat(grafana): add proof panels to trie dashboard (#14484)
270aefe90 chore: disable storage-api default features (#14474)
b71934237 chore: add elided lifetime to impl Iterator (#14481)
95b14f851 fix: handle tree event on new payload (#14475)
431df62a4 feat(reth-bench): send-payload CLI (#14472)
08011a829 Disable default features for optimism crates in workspace manifest (#14467)
d64fece1c test(stages): download 15MB test file instead of 500MB (#14476)
fd0e9dc3d fix static file derive (#14473)
b45478c08 Revert "Disable default features for `reth-storage-api` in workspace manifest" (#14471)
58275b893 Disable default features for `reth-storage-api` in workspace manifest (#14466)
282744795 feat: drop ExEx WAL on `reth db drop` (#11855)
9dd90b599 Simplified the sequencer forwarding RPC calls (#14386)
84a375698 [Feature]: Add Opstack superchain registry support for genesis files (#14260)
46462ae0a refactor: remove `PostExecutionInput` (#14464)
f425a4dbc chore: phase out reth-primitives from storage-api (#14462)
cfb91e94d chore: no_std for reth-execution-types (#14465)
a699ee540 Upstream ExecutionData to alloy (#14188)
dc88fa572 chore: rm comment about hardfork (#14463)
aa1aa8708 fix typo (#14461)
7e1896c41 chore: fix  (#14456)
c6b757ed9 fix: add lifetime (#14460)
15dff0f6a feat(mev): Enable mev_ namespace. (#14457)
1e965caf5 fix(ci): docker release (#14458)
f56f6332d chore(ci): update hive expected failures (#14454)
1e0b0d897 chore: release v1.2.0 (#14438)
f0530a76b feat: add Block::seal (#14451)
4f73e1a47 chore: remove `BatchExecutor` (#14453)
1970a4425 fix(trie): reveal blinded sparse trie when calculating root (#14449)
172369afd feat: add Consensus to `ExecutionStage` (#14447)
3e07d6575 feat(grafana): add block validation overhead graph (#14431)
bb67c0e2e fix(grafana): use correct datasource for all metrics (#14432)
71b9f1225 feat(op, cli): add cli option to enable tx conditional (#14421)
82903d9fe chore: export cli from reth ethereum (#14444)
ac7b5959f docs(tree): state root task (#14400)
11eac03f0 feat(optimism): disable state root task by default (#14446)
fc7a3e5bc chore: use shorter map names (#14445)
9090125f0 Increase default gas limit from 30M to 36M (#13318)
9f1602c03 chore: export exex (#14443)
48bffd418 refactor: Add more low-level methods to `Executor` (#14440)
9a805b06d chore: bump alloy 0.11.1 (#14439)
17712fe4e feat: add MaybeSerdeBincodeCompat to SignedTx (#14433)
faa6b9c12 feat: Return root result without blocking due to sparse trie Drop (#14333)
e9b99b061 chore: use reth-ethereum in example (#14409)
ea40f78e5 feat(l2-withdrawals): Define `OpEngineApiBuilder` (#14426)
771a99be5 chore: phase out reth-primitives from op-evm (#14428)
77bd2115f Fix branch (#14416)
fa2a571f8 chore: rm unused err variant (#14427)
302aa0b90 fix: use alloc::vec::Vec (#14423)
b7dfd5447 feat: impl serde for OpPrimitives (#14422)
fab686ac0 feat: append tx conditional to pooled tx (#14403)
5f15d1e2a feat(l2-withdrawals): Define `OpEngineApi` (#14414)
974b197d3 feat: add alloy-compat for op prims (#14406)
3f680fd6c docs: Complete missing stage descriptions in stages.md (#14415)
155eced2e chore(tree): expect message on state root handle unwrap (#14419)
85fccde70 fix(tree): state root task finished log (#14418)
5383f4b08 perf: only fetch parent if not latest (#14412)
d727701a7 feat: add DecodedStorageProof and DecodedStorageMultiProof (#14391)
bae79ec53 fix: use generic table types (#14413)
f13158deb fix(ci): changes in kurtosis-op network config latest optimism package (#14402)
8e479f36d chore: add root_with_updates method to sparse trie (#14393)
1cd72206a chore: bump revm 19.5 (#14408)
3d1883d03 fix(validation-rpc): validate against parent, not latest (#14405)
0f5d60150 feat(bin, engine): make state root task default (#14371)
c4cb3f048 feat(engine): use Hash Builder as a fallback to the Sparse Trie on newPayload (#14387)
09a6aab9f feat: add reth-op crate (#14401)
2ba54bf1c Decode raw conditional correctly (#14397)
c9ea4231f Add helper trait (#14394)
0d64c40ed chore: remove unused arbitrary dep from optimism-primitives (#14392)
63bec101b chore: rm unused dependencies from optimism crates (#14396)
ba8cec355 fix: bytecode override (#14390)
85f66ff7a feat: Add cli arg for pool lifetime (#14273)
ecabf7575 Introduce StatusEth69 for `eth/69` status messages (#14292)
d9e660bd5 feat: add cross-block cache size cli arg (#14305)
731b771fa chore: correct the comments (#14339)
fe322379f feat(op, txpool): impl send_raw_tx_cond endpoint (#14311)
2e8bc7d4b chore: re-export rpc types (#14381)
4d9a98780 chore: abstract `OpPayloadBuilder` over `ChainSpec` (#14374)
477b747ef feat(l2-withdrawals): Use `OpExecutionPayloadV4` for new payload v4 (#14379)
cdb7c63d5 Added from<alloy_rpc_types_eth::Transaction> for TransactionSigned (#14350)
30488a129 fix(trie): do not reveal same node twice in sparse trie (#14370)
d4e37ce4b feat: add operator fee params on RPC L1BlockInfo (#14269)
b9b519344 feat: add reth-eth meta crate (#14361)
c6ac747a7 feat(l2-withdrawals): Declare `OpEngineApiServer` and `OpEngineApiClient` (#14359)
db375d230 chore: remove code snippets from stages.md (#14367)
b495038fd feat(engine): invalid block event (#14365)
a7f895e72 feat(tree): enter tracing span for each storage trie in state root task (#14363)
37adaf2d2 feat: avoid zstd dependency in reth-evm, reth-evm-ethereum and reth-optimism-evm (#14356)
47bc55b06 chore: rm reth-primitives from eth payload (#14357)
61728726d Fix: Correct functionality of `get_queued_transactions_by_sender` and `get_pending_transactions_by_sender`  (#14353)
7e3b13580 feat: `EngineApiBuilder` (#14354)
f84d497f3 prague: testnet timestamps (#14270)
46d63e805 add debug_chainConfig endpoint (#14346)
d57535caa added BeaconConsensusEngineHandle to RpcHandle (#14348)
21370c391 added helper error enums for L1BlockInfoError (#14326)
104bd6e03 refactor: move `ValidationApi` setup to `EthereumAddOns` (#14342)
b48426efd added EventSender to FullNode type (#14268)
197d6edee chore(ci): pin op-node image for kurtosis-op (#14343)
570fcd318 chore(deps): weekly `cargo update` (#14340)
a21525607 feat(engine): emit events with executed blocks (#14341)
46d3b6a32 test: add a test for devnet failure (#14288)
7d0f5b757 chore: make stages types no-std (#14334)
2b16b06a3 fix: update --rpc-cache.headers name (#14336)
b2011353f feat: add other helpers for ProviderError (#14325)
d56985a29 chore: add codec and serde features to prune types (#14327)
d84eab125 chore: typos (#14330)
1c3547cd0 chore: add serde feature to stages types (#14329)
1a4f5441f chore: silence unused warnings (#14328)
5c231898a feat: Add `is_vx` helpers for EngineApiMessageVersion (#14323)
dbf4e23e6 chore: rm reth-primitives from engine api crate (#14324)
7603b7489 feat: add providerfactory builder to OpNode (#14322)
44985c327 chore: rm reth_primitives from reth_revm (#14317)
d99f0fa5a fix: use custom generator in custom builder example (#14320)
ea8621163 chore: bump alloy-trie to 0.7.9 (#14318)
6710f037e chore: bump apache license year to 2025 (#14319)
905fd37bd chore: misc eth strategy cleanup (#14315)
d374e7366 feat: add standalone DockerfileOp for local building (#14309)
e4e5cb04d integration test for capability version mismatch (#14304)
54c464697 feat: add granular prewarm metrics (#14282)
da86ff39b feat: record save_cache duration metrics (#14281)
b955551f8 docs(tree): state root task lifecycle (#14302)
d147a2093 fix(provider): fix pending block retrieval in `find_block_by_hash` (#14303)
5a714cda7 chore(engine): make block buffer pub (#14298)
6dfcb7a85 fix: increment pending out on manually triggered connect (#14257)
b8a4468c6 Introduce AnyError (#14294)
8f0195189 chore(engine): make invalid headers cache pub (#14297)
d6a642429 perf(tree): short-circuit multiproof computation on empty targets (#14265)
69050721e chore: rm unused cli args (#14295)
d07db4bbe chore(txpool): explicity drift txpool on first event (#14290)
dc0488cf7 feat: remove from fspath conversion for storagelockerr (#14291)
2933ec729 perf(tree): state provider builder (#14279)
be2a09e73 chore: rm todo (#14289)
68952b306 feat: abstract op executor over chainspec (#14285)
4066ad4cc feat: add newPayload latency gauge metric (#14287)
1f1eabc42 feat: simplify PayloadBuilder setup (#14276)
63d5feab3 refactor: extract OP txpool types to a separate crate (#14280)
c9169705e perf(tree): add cross-block caching (#13769)
98266f87d chore: use recovered api for prewarm (#14272)
2ee774845 Avoiding infinite recursion in trait implementation (#14261)
ad7dec3b6 feat(op, txpool): add conditionals to op pooled tx (#14264)
8c4c8c90c Moved HashedPostState to trie-common crate (#14230)
fd3fe8d6a feat(tree): more logs for proofs prefetching (#14263)
823d06507 feat: abstract `OpPooledTransaction` and `OpPool` over consensus tx (#14256)
566250814 [Feature]: added max lifetime setting for queued transactions (#14242)
97ad6dfe1 feat: handle Isthmus operator fee params (#14243)
41d51a109 chore: rm reth_primitives from reth_net_p2p (#14258)
14a51b529 feat: expose pool transaction in `PayloadTransactions` (#14249)
c1a305ca5 feat: relax `BasicPayloadJobGenerator` bounds (#14254)
05d2a36b8 fix: use correct default for get_local_pending_transactions (#14253)
d5277d5f2 chore: remove usages of reth_primitives from reth bin (#14252)
3309484a3 chore: rm redundant Send,Sync bounds on ParallelProof (#14248)
62a8e62c3 chore: simplify `PayloadBuilder` trait (#14246)
f80d8f25f chore: use u64 for blobcount (#14250)
06132f509 perf(trie): deduplicate already fetched prefetch targets (#14223)
2c3faf9b2 chore: remove redundant bounds on StateRootTask (#14245)
9ac96e939 feat: track max blobcount in forktracker (#14231)
42a191222 feat: add exceeds allowance error message (#14232)
8f59efb96 chore: move `Transaction lock acquired` mdbx log to trace (#14218)
af00d882d fix: use proofs from prefetch and updates for root completion (#14222)
7789d9300 refactor: Adds type downcasting helpers for `InvalidPoolTransactionError` (#14046)
29e6e5cd5 feat: enable prewarm spawn metrics (#14229)
49b6ae0dc chore(ci): update hive expected failures (#14239)
ab804d465 fix: use blob params in payload building (#14217)
8d35f26db chore: enable rand in test utils (#14234)
2d4ccf10f chore: simplify rpc block compat (#14225)
a63f92e01 chore: use alloy traits for `PoolTransaction` (#14228)
6d5607dc2 docs: add docs for instantiating EthFilter (#14224)
a9ae06045 fix: use different cancel wrapper for prewarm tasks (#14221)
ad503a08f feat(isthmus): withdrawals root in block building (#14209)
f43cf9c18 fix: rm redundant revert in error message (#14215)
97ffdfa56 ci(hive): add `ethereum/eest` simulator (#14009)
d85c9001e Remove blocktime handling from maintain pool future (#14210)
1303bb5dc chore: update authmodule new with new engine trait (#14206)
b6ce1d90f perf: warm transactions in parallel (#13759)
6fecdac4e fix(reth-bench): return error on invalid range (#14198)
17dfad582 feat: expose blob_store fn on top level pool type (#14205)
7fb74066b feat: type erase concrete engine server trait (#14204)
07090b315 feat: abstract `OpBeaconConsensus` over primitives and chainspec (#14171)
740bf0435 fix: return correct `prune_target_block` when syncing (#14181)
b479b3439 feat(no_std): Add `no_std` support for `reth-storage-api` (#14187)
e468d4d7c feat: add `ExecutionData` AT (#14179)
754cd58b3 ci: ensure consensus crates remain riscv compatible (#14186)
42dfc1c24 chore: rm unused prune error variant (#14185)
e80d6f22f ci: enable getreceipts hive test again (#14184)
68e51af29 chore: rm unused rpc_types_compat import from reth-bench (#14182)
9bda55301 feat: add helpers for handling other errors (#14180)
af3eb83c9 chore: rm unused error variants (#14183)
556c79f78 chore: convert_to_payload_body_v1 (#14168)
d3373b3cf feat: add dedicated blobpool args to cli (#14173)
04c1d7120 refactor: couple ExecutionPayload and ExecutionPayloadSidecar (#14172)
e3106889a feat: abstract `EthTransactionValidator` over `ChainSpec` (#14162)
440e6695b chore(ci): unpin clippy (#14167)
65c3bd7ed feat: abstract OP payload builder over transaction (#14153)
7243aaf55 docs: add example docs (#14164)
6f9aa3804 feat(grafana): add Datasource variable to dashboard (#14158)
0ad7de48b fix: rename variables and fix typos in tables.rs, execution.rs, and mdbx code (#14148)
b06682e9a perf: add more granular newPayload metrics (#14134)
4167610fa feat(grafana): add cache hitrate panel (#14135)
2c58d451a chore: use rlp_length_for (#14144)
0c3ccccba chore: simplify `OpBuiltPayload` (#14152)
60337077c chore(deps): weekly `cargo update` (#14155)
a041b41b5 chore: use chainspec `blob_params` for blob calculations (#14139)
fd4ca7d6d feat: simplify envelope conversion (#14146)
6e0fbb469 meta: temporarily allow missing const for fn (#14147)
209b44829 chore: remove block_to_payload_v1 (#14143)
5c7df17a4 chore(clippy): smol clippy fix (#14145)
7da6d671f chore: remove block_to_payload_v2 (#14142)
d16187509 chore: rm Once-cell dep (#14141)
3d7215137 [wip] feat: alloy tx type conversions back to OpTransactionSigned (#14121)
9e6e2c469 chore: phase out `block_to_payload_v3` (#14140)
bf20c786e feat(eth-wire-types): add snap sync protocol types (#14119)
33fc334e1 fix(grafana): fix rpc cache metrics panel (#14137)
a39980a6f feat: generalize Block impls (#14133)
1c9ef8c5a refactor: remove `Receipts` struct (#14130)
d30a1b6c7 fix(hive): overflow when timestamp is `u64::max` (#14132)
3e0cd2eb3 integration test for trusted peer only (#14127)
d3acdda21 feat: integrate `blob_params_at_timestamp` (#14128)
214f3b3b8 chore: rm redundant conversion fn (#14129)
62edaf14d perf(mdbx): do not always collect the backtrace of a locked transaction (#14123)
fe160e74d added helper function new_alloy_provider (#13579)
2d3bbb327 chore(transaction-pool): remove duplicate code (#13627)
6afededdb feat: phase out payload conversion helpers (#14090)
54a5fcc24 feat: remove transaction_to_call_request helper fn (#14089)
5322877ae chore: bump alloy 0.11 (#14122)
bd5dde54e fix: `BlockSource` check for pending block (#14112)
4ce5a60c5 feat(cli): add use-caching-and-prewarming flag (#14114)
4d0062755 Add helper functions to `NewPooledTransactionHashes68` struct (#14118)
28f2690e0 feat: abstract RPC error over `HaltReason` (#14104)
590b58f97 fix(trie): update prefix set on the call to `RevealedSparseTrie::update_rlp_node_level` (#14108)
2c56061b9 chore: rename ovm types (#14116)
6ab152889 `eth` for NetworkConfigBuilder (#14109)
2e2167268 docs(reth-bench): add comprehensive setup and analysis docs (#14088)
e21c65443 chore: reexport eip types for convenience (#14107)
c25c8b078 feat: add helpers for WithPeerId Option (#14106)
59c6e7e45 added SealedHeaderFor alias to validate.rs and without_evm.rs (#14103)
54e1ddfdc feat: add alloy tx type conversions back (#14110)
d3cec5a91 feat(root): state root task metrics (#14102)
9bb39f1a7 chore: shrink cache queues (#14105)
89f8667cd fix: Add dummy system tx in op dev mode (#14062)
98a021ee7 feat: abstract over `Evm::Error` (#14085)
6b1340981 feat(engine): update pending block on `InsertExecutedBlock` (#14098)
277e9f6e1 chore: add example for sending tx hashes (#14094)
97278abe0 fix: ensure the pending block has the requested hash (#14096)
959221547 feat: add missing serde derive (#14095)
4eb65250a Export chainspec's HardforkBlobParams struct publicly (#14092)
2b5cb351d chore(trie): remove reth-primitives dep (#14080)
5a7e05763 fix: validate block against header on `reth import` (#14076)
d175d6475 chore(ethereum-node): remove reth-primitives dep (#14081)
7b965e023 chore(trie-db): remove reth-primitives dep (#14079)
5ab9b9159 chore: rm todos that are nofixes (#14082)
2216c8a8b fix(root): do not re-calculate targets for sparse trie update (#14074)
665ca2e89 feat: enable state root task during persistence (#12392)
974cea1d3 feat(chainspec): add Chainspec::blob_fee_params_at_timestamp (#14049)
04ddcdfae feat(trie): include address on storage trie update error (#14075)
376a5ddf5 chore: make optypedtx fields private (#14065)
9001cc2ce chore: remove reth-primitives dep from consensus (#14067)
88c878da0 chore: update reth-bench docs (#14060)
b6875b13a chore: relax cache bounds (#14068)
38dfe9462 feat: replace BincodeRepr From bound with conversion function (#14069)
00593d207 chore: correct the docs (#14070)
6d5514964 feat(rpc): created EthApiBuilder type (#14041)
5fcefcea8 refactor: remove `PruneModes` from batch executor (#14025)
2652ec8af chore: make transaction type fields private (#13915)
ed593ae25 feat: introduce helper alias type (#14058)
fd7074eac feat: modified MultiConsumerLruCache to track inMemory usage (#14034)
c7152ee9f feat(rpc/validation): Expose metric for validation disallow list size. (#14057)
dac2085d4 fix: return the correct action on drop (#14054)
a4b408848 Make impls for MockEthProvider more generic (#14055)
d6e055dff fix: check for duplicate request types on validation (#14056)
01309ec03 docs: add note about recorded transfer logs (#14053)
14ac107c8 chore: bump revm 19.4 (#14031)
7db8e42dc feat: validate headers loaded from file on `reth import` (#14050)
9bc07cc5b feat: introduce ProviderFactoryBuilder (#13989)
4653d3dd3 docs: add docs about bincode compat (#14045)
ba6a1122d integration test for max outgoing connections (#14039)
77568f8d3 feat: introduce custom exex wal errors (#11789)
36eec984a chore: rename evm to headers in dashboard (#14036)
5cf0276f1 chore: rm optimism feature from reth-provider (#14035)
0f2e2faed refactor: remove `Events` generic from RPC types (#14033)
42dc1ed04 docs(exex): Expand documentation with examples, assumptions, and invariants. (#13581)
2e4376f35 add format checker to .toml (#13968)
22c1de501 feat(tree): handle no-op updates in trie update differences (#14013)
cc5493f6b fix: redirect issues in documentation links (#14032)
e11e1f30f perf: remove empty HashMap instances from TrieUpdates and HashedPostState (#13976)
af30448f4 chore: update profiles (#14029)
d709c8a0d chore: use BlockNumHash in exex (#14015)
83a9b08ad chore(tree): simplify insert_executed (#14026)
1751370a5 feat: extend example with tx handling (#14030)
cd45a20ee chore(trie): remove from_cache_state (#14028)
a8a70f47d ci(hive): remove tests from expected failures (#14027)
57159fede fix: add `EthereumHardfork::Frontier` by default on genesis to chainspec impl (#14024)
d6067deb0 chore(deps): bump docker/build-push-action from 5 to 6 (#14023)
b9e361cbe feat(rpc): implement debug_executionWitnessByHash (#14022)
2b44d17d5 chore: remove reth-primitives dep from reth-engine-tree (#14019)
ddc9375a6 chore: remove executed_block from EthBuiltPayload (#14017)
e2c45f2b1 chore: move EthPrimitives to reth-ethereum-primitives (#14018)
2e34fe184 perf: do not clone recovered block (#14016)
afd43db9b feat: add network request proxy example (#13974)
6b1b9c41a feat(evm): add nonce methods to TxEnv (#14014)
2d044a24c chore(deps): weekly `cargo update` (#13992)
4e7856621 fix: do not record trie root metrics for ParallelProof (#13960)
2cdde508d feat(eth-wire): improve Capability arbitrary implementation (#14011)
0e2f79c3d docs: add section about recovery naming (#14012)
515c367c8 feat: add find-transaction-by-hash (#14008)
cde951732 refactor: store plain receipts instead `Option`s in `Receipts` (#14010)
0fa79c6c6 fix(root): drop sparse trie tx sender when state updates finished (#14004)
33bf34b2f fix: gracefully handle missing `persisted_trie_updates` (#13942)
b9a6e65d8 chore: rm unused databasemetadata trait (#14003)
d858a9f87 test(trie): use DB for hash builder in sparse trie fuzz (#13754)
3538c5331 feat(trie): more logs for proofs (#13843)
79a5217c0 chore: use asref path for open db (#13998)
634216282 feat(mdbx): record backtrace of read transactions and log on timeout (#13707)
bdb396928 feat: add `make profiling` to Makefile (#13996)
07e9c1b22 chore(net): derive `Arbitrary` on `RequestPair` (#13997)
8a453ba1e chore: enable no-std for execution types crate (#13986)
139fe14e5 chore: fix spelling issues (#13978)
68a1de799 chore: fix error messages for request validation (#13983)
280b6bf1b chore: Changed visibility of Cli struct attributes to `pub` for op-reth (#13985)
60f9277dc feat: validate empty execution requests for OP (#13980)
a08773119 perf: add eth response backpressure (#13971)
049543655 feat: impl inmemory for vec (#13964)
5dac5cfc6 chore!:unify trait fn naming for recovery (#13981)
61ae871d9 chore: update links `crates/ethereum-forks/src/hardfork/ethereum.rs` (#13977)
d401dc5e7 feat: add a helper to create txenv (#13979)
abcfbfda7 test: Add ValidBlocks and InvalidBlocks blockchain tests (#13969)
fe9e788cf feat: Add open db transaction graph in grafana dashboard (#13611)
0cd63cdf4 test: reenable `test_state_root_task` test (#13911)
203fed0f6 feat: add `Spec` generic for `EvmEnv` (#13975)
621b30f03 feat: add clone_transactions convenience fn (#13962)
7e9d6ae45 chore: remove `fill_` APIs (#13970)
006eea0c3 feat: generic `TxEnv` (#13957)
1296bacb8 refactor: change latest block ==  parent hash by block window distance check (#13961)
8a3d9b389 docs: receipts cache touchups (#13963)
ee7820f2e fix: only increment proofs_processed for state update proofs results (#13956)
b97d9b4d2 chore: refine the reproducible builds and add it to the release workflow (#13947)
28cf43cdc docs: fix broken links in `docs/crates/network.md` (#13948)
9bbfb6096 chore: add comment to crunchy pin (#13949)
a162571bd chore: use more block_num_hash in insert_block_inner (#13943)
9039909a7 feat: integrate request validation in EnginveValidator (#13858)
187634fd2 feat: add sealed_block method to ExecutedBlock (#13945)
5a40c68c7 chore: do not clone already recovered block (#13944)
cc8558fa1 feat(test-utils): Make MockEthProvider generic over Transaction (#13853)
69375780f chore: rm unused capabilities code (#13935)
3e181ab53 chore: use alloy-eip2124 directly (#13941)
4dcc13549 feat: add NetworkManager::eth (#13936)
24c5234a5 chore: disable default features for engine primitives (#13939)
a3015c8a3 feat(sdk): introduce PrimitivesTy helper type (#13933)
05b420524 fix: temporarily pin crunchy (#13938)
f64dd8a97 chore: remove some unnecessary direct imports (#13934)
6c762565b refactor: finalize proofs mod move from `reth-primitives` to `reth-primitives-traits` (#13875)
3b0e70a51 chore(ci): Exclude `reth-payload-builder` from wasm check (#13932)
3e961806b feat(no_std): Add `no_std` support for `reth-payload-primitives` (#13922)
523848688 feat(no_std): Add `no_std` support for `reth-ethereum-engine-primitives` (#13931)
97851754d feat(no_std): Add `no_std` support for `reth-engine-primitives` (#13924)
66fb8c8ca chore: remove network dep from tree (#13921)
2ab2b6ef8 chore: 404 link `layout.md` (#13920)
22a5c10a0 chore: retry empty responses (#13923)
82a0734c1 chore: use flz estimate (#13930)
d10dfaca1 fix(engine): attempt to advance persistence after it finished (#13928)
073aee175 chore: replace maili deps with op-alloy (#13927)
56f2c4358 tests: misc p2p blockbody roundtrip tests (#13925)
926ad2a63 feat: unify recover fn result type (#13897)
5170112c1 chore: remove broken link layout.md (#13919)
23ebf9618 chore: move receipts pruning to provider (#13886)
cd44fc3d0 chore(ci): set --rpc.eth-proof-window for kurtosis-op (#13916)
b263b5c62 chore: decrease private access (#13912)
901240877 feat: add transactions_iter helper (#13910)
6d2648dc1 feat: restore custom build profiles in RETH_BUILD_PROFILE (#13906)
d2b454236 perf(root): untangle the state root task (#13898)
6c3b1b8bc feat: add `S3Stage` downloader (#13784)
ace28d8a9 chore: move and integrate ConfigureEvmFor (#13896)
c1fd0ce4a chore: use builtin launch fn for opnode (#13900)
b63dc2ad8 chore: move SealedHeader::cloned to &H (#13904)
b0b1d9d8d feat: add transactions_recovered iter (#13903)
6dabd5244 feat: implement Optimism builder DA limits (#13757)
0a5de2fda feat: add `StaticFileBlockWithdrawals` to `db-model` (#13894)
3317ea1f2 docs: cleanup discv4 docs (#13884)
c4b147c03 chore: move state root task result handling to fn (#13892)
50dae68dc chore: rm legacy helper traits (#13895)
21761ad49 perf: check block cache for requested header (#13890)
93d6f807c perf: lift chainspec call (#13889)
64214fd18 chore: deprecate recoveredtx alias (#13887)
1e7100205 feat: add state_hook_sender fn on StateRootTask (#13885)
7483c1e29 chore: mark ecrecovered types as deprecated (#13882)
ca6369677 chore: move node builder trait helpers to separate module (#13883)
390165a02 chore: misc asset cleanup (#13881)
a1da528ca chore(ci): add failing rpc-compat test to hive expected failures (#13880)
28f2ebe7a chore: use correct compressed size estimation fn (#13876)
6cc660c7f feat: add ConfigureEvmFor, ConfigureEvmEnvFor helper traits (#13865)
d2ad477b0 refactor: mv proofs mod to reth-primitives-traits and split tests (#13871)
f527b5a60 feat: get `BlockMeta` table values from static file or database (#13844)
f28c71c00 chore: simplify evm setup (#13864)
88de40a67 chore(deps): weekly `cargo update` (#13866)
819789409 chore(ci): remove eth_feeHistory from hive's rpc-compat expected failures (#13869)
4d17cde9f fix(net): increment in counter after peer's state is marked as in (#13863)
20a3a6a4c chore: rm pooled transaction tests (#13860)
f59865b68 chore: use exported oncelock (#13859)
c46f23f8d feat: add `Evm` trait (#13823)
cef0c927c test: rm reth-pirmitives block tests (#13850)
264105e17 chore: phase out reth-primitives from eth-wire (#13855)
bcf4f1bae test: move reth-primitives tx tests (#13852)
43f3822e9 feat: Track DA cost in Op Pooled transactions (#13806)
5db01290f chore: remove redundant strategy fn impls (#13838)
0cc1ff0a0 feat: expose additional eth functions on engine api (#13837)
12d3fbeff fix(trie): check branch node masks if `store_in_db_trie` is `None` (#13828)
f66c7cc80 chore(trie): make rlp_node fns pub (#13818)
a505f4914 ci: install mold as the linker (#13842)
d9ef7f6df chore: not panic on `RpcBlockProvider` (#13841)
a8c883c6b feat: extend `BlockBodyIndicesProvider` with `block_body_indices_range` (#13829)
43bd94ac4 fix(trie): reveal blinded node along with masks in sparse trie (#13827)
4147bd0dc chore(trie): derive `Clone` on noop cursor factories (#13840)
83b561988 fix: pin clippy to nightly-2025-01-16 (#13839)
64197c006 chore(trie): branch node has only one child log (#13836)
8efe441cc feat: use `reth-ethereum-primitives` (#13830)
7e972ea23 fix(trie): use correct `store_in_db_trie` value for sparse extension nodes (#13826)
a90ecd905 feat(cli): added header request retry in stages run command (#13816)
9b68cf88c chore: rm broken link in hooks README.md (#13814)
b10b43876 ci: use reusable cargo update workflow (#13824)
13ecd6afa Nit: replace block and sender with RecoveredBlock in ExecutedBlock (#13804)
7df983802 Higher limit for total_difficulty.bit_len (#13820)
2c21edfed fix(trie): empty sparse trie branch node masks (#13825)
590496d0e chore(trie): less logs for sparse branch node updates (#13811)
265f783c2 refactor: always create Evm through ConfigureEvm (#13812)
f1f9d5a65 fix(trie): delete removed node from updated nodes in sparse trie (#13822)
1948e0f79 feat(trie): sparse trie accessors (#13815)
bbc592c5b fix(trie): remove branch nodes in sparse trie that shouldn't be stored (#13808)
ac73b5207 fix(trie): remove branch nodes from updates if it was deleted (#13813)
11bd9dded fix(builder): prague blob params activation (#13810)
fd52b634e chore: trim ConfigureEvm trait (#13807)
d5978a78b refactor: use `EvmEnv` when setting up `Evm` (#13800)
f2bf02413 chore: add distroless minimal base image (#13788)
4b8714d61 fix: correct trusted peer excemptions (#13801)
83b2fb9b4 feat: add SealedBlock in reth-primitives-traits (#13735)
1267718c7 feat: introduce `StaticFileSegment::BlockMeta` (#13226)
46f4d73c4 chore: remove DefaultExternalContext AT  (#13797)
d318aa3c8 fix: track local senders better during truncation (#13768)
c4a591d16 fix(tree): use in memory trie cursor for trie updates comparison in tree (#13789)
b4610a04e feat: add receipt builder for `OpExecutionStrategy` (#13792)
feccf3595 chore: bump revm 19.3 (#13793)
df00877b7 fix(cmd): initialize `StaticFileProducer` with config `PruneModes` unwind command (#13791)
d761ac42f feat(trie): blinded providers trace logs (#13786)
6ac5785b3 docs: edited the "deny" shield link. (#13779)
6f7c44574 chore: remove unused p2p error type (#13785)
749facc47 feat: add `evm_for_block` helper to simplify EVM setup (#13787)
ac25fd8c1 feat(engine): validate execution requests (#13685)
4e3810a17 chore(deps): weekly `cargo update` (#13776)
75ee913f0 refactor: update receipt codec from `HackReceipt` to `OpGethReceipt` (#13738)
23526646c perf(op-receipts): reuse `l1_block_info` for multiple receipts (#13781)
567d5c60e feat: add snmalloc support (#13771)
cc84f83b6 fix: apply legacy cleanup to opnode (#13775)
8e7768db2 feat: integrate EngineArgs into NodeCommand (#13748)
6ef86e934 feat(rpc): setters for `TransportRpcModules` (#13773)
ebf300d23 test(validation): add tests for EIP-7702 transaction filtering in EthMessageFilter (#13756)
5a23708eb chore: make clippy happy (#13772)
ca30702f8 test: add json genesis test (#13770)
1bf8d5046 feat(tree): when comparing trie updates, check the database (#13765)
c60171214 feat(tree): --engine.state-root-task-compare-updates (#13763)
69f9e1628 fix(trie): sparse trie tree masks (#13760)
986c75434 chore(tree): use MultiProofTargets for PrefetchProofs (#13717)
1f78b9e7e chore(trie): reveal witness by ref (#13751)
4a8c88f4d chore(engine): use Arc<rayon::ThreadPool> for StateRootTask (#13755)
bf65ed45c chore!: make senders fields private (#13752)
66f934b8d chore(trie): simplify blinded provider (#13753)
017217f3e feat(trie): add leaf value retrieval methods to `SparseStateTrie` (#13750)
383eb2331 chore: integrate Test trait for sealed types (#13746)
d0684cf8b chore: remove outdated `as _;` imports (#13744)
fd092a267 chore: remove Block generic from apply_pre_execution_changes (#13743)
ceaa3d370 perf(persistence): reuse cursor for updating history indices (#13622)
99932e437 feat: add Test traits for Header and Block (#13741)
875c45bc3 fix(ci): install missing deps for wasm build checks (#13745)
28d52312a feat: add SealedBlock::clone_sealed_header (#13739)
d336ceb27 perf: introduce moka cached state provider (#12214)
73ed3ea44 chore: add `Hardfork::boxed` (#13737)
f2521b54d chore: misc SealedBlock prep (#13736)
b5734bfb6 chore: rm last mentions of deprecated crates (#13734)
6bfb3bb6f chore: rm redundant std cfgs (#13733)
8f2ecc44e refactor: reduce `Hardforks` trait usage (#13728)
9d51260fb chore: rename error types (#13732)
53ccb5d46 chore: rm blockchaintree api crate (#13731)
4d3cd2f24 chore: rm blockchaintree dep from errors (#13730)
cb22b17b3 chore: rm blockchaintree dep from engine-tree (#13729)
bd4947112 perf(trie): set trie mask bits directly (#13724)
a3f8a9d38 chore!: rename blockchainprovider2 (#13727)
052a730e3 chore!: rm legacy blockchain tree crate (#13726)
2f94aeebe chore!: rm legacy blockchain provider (#13725)
dcd4b24ae chore!:rm beacon consensus crate (#13723)
baf92e33f chore: rm beacon consensus deps everywhere (#13722)
856479bfc chore: rm unused hooks (#13721)
d9ab9ca4d chore: rm beacon consensus dep from engine-tree (#13720)
91fef2904 feat: `SparseStateTrie::reveal_witness` (#13719)
7876a8919 chore: move beacon consensus engine event (#13718)
93667e082 feat(no-std): add `no_std` support for `reth-optimism-consensus` (#13692)
fb6902880 chore: rm beacon consensus deps (#13716)
ccaf9da73 chore: relax arb for sealedwithsenders (#13715)
818eb7d40 chore: move beacon handle type (#13714)
027f80ebb chore: remove blockchaintree dep from reth bin (#13712)
760062288 chore: remove rayon from reth primitives (#13711)
7fca8ceb3 feat: add standalone rayon recovery functions (#13710)
35392bd8e chore: make SealedBlock.header field private (#13646)
3e980e61d Discussion draft: change DB Writer to take value references (#13672)
2b301aa10 feat: use engine launcher as default (#13709)
f7f201215 refactor: `Consensus` trait error type (#13655)
b2c00418d fix(ci): Enable wasm check for `reth-optimism-primitives` (#13693)
9127d0e0f feat(root): compare trie updates of state root task with regular root (#13704)
0d5c0d270 refactor: move `LazyLock` and `OnlyLock` exports to primitives traits (#13682)
4d12dcda7 chore: make engine-tree independent of blockchaintree (#13705)
61bbca1ae chore: reduce blockchaintree usage (#13702)
3e86bb54d docs: add additional BasicPayloadJob docs (#13706)
d90d745aa chore: remove reth-primitives dep from op-primitives (#13699)
c74b8f0bf perf: relax condition in seek_inner (#13614)
107dfaeaa feat(engine): wire StateRootTask in EngineApiTreeHandler (#12639)
3212af2d8 chore: release 1.1.5 (#13700)
c697543af chore: relax tryfrom impl (#13691)
28761dbff chore: rm usage of PooledTransactionsElementEcRecovered alias (#13690)
15b50dac2 chore: disable reth-primitives std default feature (#13687)
9bda8f058 Revert "feat(no-std): enable `no_std` support for op consensus rules" (#13689)
6103bd9a6 chore: no-std consensus common (#13686)
89a93c557 feat(no-std): enable `no_std` support for op consensus rules (#13684)
28fde3fbf chore: move signedtx ext trait (#13677)
5e659b313 chore: move accesslist tests (#13680)
721a58118 fix(tree): do not reveal nodes twice in sparse trie (#13674)
50f8c6d93 chore: remove optimism feature from execution-types tests (#13676)
895dda531 chore: rm uneccessary serde mod (#13681)
682b2b2cd chore: remove duplicated compact consts (#13679)
4d191696b chore: use secp fns directly (#13675)
20e003f9b feat(primitives): re-export alloy Recovered (#13670)
fbf7430d9 chore(root): log multiproof calculation (#13673)
09f2f4adf chore: bump revm 19.2 (#13667)
bd345378b chore: remove unused `WithdrawalsProvider::latest_withdrawal` (#13671)
873009fd6 refactor: Remove standalone from_recovered functions and make part of TransactionCompat trait (#13653)
923a805e1 chore(consensus): Cut down on reth-primitives::TransactionSigned usage (#13659)
20d3fa6bb feat: rename reth_primitives::RecoveredTx functions to match alloy::Recovered (#13663)
d10af50e4 ci: prettify hive/parse.py (#13668)
49d1b50ca chore(trie): parallel storage proof should not error on closed recv (#13448)
f4ce10b7f feat: Implement "Add BlockBody::transaction_count helper function" (#13660)
bfa97c152 chore(deps): weekly `cargo update` (#13657)
7c70e8863 chore: mark op chainspec riscv (#13654)
72eabe057 chore: replace trie-common dep with alloy-trie (#13652)
2c94d7bba docs(ci): remove moved deny workflow (#13645)
c4f8a64d9 integrate EIP-7840 in chainspec (#13605)
b18b0ee84 chore: use generics for RecoveredTx (#13650)
fc9d95a4d chore: use HashMap::from_iter (#13649)
86399e2ae feat: remove PartialEq+Eq from ProviderError and all others affected (#13592)
91d09de44 fix: no_std case hashmap imports (#13617)
8befda56b feat: add helper iter for tx hashes (#13638)
9b44e2aaf chore: rm another payload conversion fn (#13637)
dbff11aa7 test: move tests out of reth-primitives (#13636)
b84a48885 chore: rm unused recovery fns (#13634)
9923e5ac5 chore: rm some direct header access (#13633)
8f854cbbb feat: merge BlockBodyTxExt trait into BlockBody (#13613)
afdffadaf chore: use alloy TransactionMeta (#13632)
5b050feca chore: use alloy-eip2124 code (#13629)
dbd4f0c4f chore: make block field private (#13628)
82013f46d chore: use more payload conversion fns (#13625)
3c9139e30 chore: remove redundant payload fn (#13624)
74de0d406 chore: bump alloy 0.9.2 (#13623)
355d868b6 chore: update license to 2025 (#13616)
b69c2ebee chore: use native conversions for payload to block (#13608)
1b9bdcc25 fix: implement `StateCommitmentProvider` for `BlockchainProvider` (#13620)
6aaf6a583 chore: lower file client bad message log verbosity (#13619)
c0a8a7b21 feat: handle Isthmus in revm_spec_by_timestamp_after_bedrock() (#13607)
f163b3d3f feat: use alloy block types (#13518)
9a062c084 chore(bench): more determinism (#13603)
c253d12af chore(deps): bump alloy-trie 0.7.8 (#13604)
e9332f9cc chore: bump alloy 0.9.1 (#13602)
0ac447563 chore: add ChainSpec::from_genesis (#13601)
41104933c feat(metrics): Add cumulative transaction counters to improve observability (#12273)
5629ba0bb feat(bench): make benchmark inputs deterministic using fixed seed (#13586)
0b135a267 feat: update revm 19 alloy 09 (#13594)
a6325c41e fix: net/nat retain https scheme for external (#13507)
0b598cf40 fix(storage): update proptest configuration for deterministic bench runs (#13580)
00ad7f61d chore: correct typo docs (#13557)
e79199a3b feat(tx-pool): make benchmark inputs deterministic (#13570)
8b60ff199 feat(engine): make benchmark inputs deterministic (#13536)
c2a57287c chore: include typename in assert (#13595)
343bee568 chore: use correct assert message (#13591)
86e383f50 chore: simplify transaction to call request conversion (#13574)
4649d6f04 chore: move payload builder types to standalone mod (#13593)
e2abcc8b8 chore: use correct error message (#13587)
bcfaad2ed chore(deps): weekly `cargo update` (#13589)
711c5e812 chore: replace match with let else (#13585)
ad89056e4 chore: disable chainspec default features (#13583)
5a21bda0e chore: add no-std support for eth-wire-types (#13577)
f9989c646 chore: update WASM build exclusion list (#13576)
91dd4171a chore(db): relax consistent view provider bound (#13566)
55a972d94 chore: rm unused dep and add required (#13569)
bc8d4fed1 fix: use correct vars (#13567)
4994cdf0b feat: integrate `OpPrimitives` (#13556)
c35fe4ac5 fix(pool): oversized data error (#13565)
4ef9537e0 fix(pool): max init code error (#13564)
8f81f0ccf feat(net): make benchmark inputs deterministic (#13563)
d644900a8 chore: simplify revm specId mapping (#13553)
6049b6eb0 feat: use new engine in e2e tests for OP (#13558)
0933e1b07 feat: generic data primitives block builder test framework (#13522)
df294e424 chore: make clippy happy (#13561)
56ce04631 perf: query bytecodes with `&B256` to avoid copying code hash (#13559)
951e2fd64 chore(version) Remove const_format dependency (#13504)
031f430b8 perf: query accounts with `&Address` to avoid copying address (#13554)
14c1c0be6 fix: typo in thread name (#13555)
3fbb23035 fix: debug client etherscan (#13542)
00c8ec771 chore: deduplicate FillTxEnv traits (#13551)
edd25118d chore: make `EthStorage` generic over transaction (#13549)
90edbff5e feat: impl compression traits for op primitives (#13550)
954257385 refactor: avoid using NoopTransactionPool in OP payload builder (#13547)
cec31ad4a feat: introduce `OpPooledTransaction` (#13548)
c6e38bed5 feat: add more impls for OpTransactionSigned (#13546)
41283d3db chore: relax cli bounds (#13543)
c822337fd fix: Compact impl for OpTypedTransaction (#13544)
a4410c83e feat: add L2EthApiExt trait (#13539)
9773b8556 chore: relax `EngineNodeLauncher` bounds (#13540)
f67625fd6 Add drop aware sender new type (fixes #13242)  (#13495)
934fd1f7f chore: make `NodeEvent` generic over `NodePrimitives` (#13534)
af1c9b761 refactor: integrate BuiltPayload::Primitives (#13484)
4c1208e9d feat: add missing from impls (#13527)
c6d42ad8c chore: move `EventSender` out of `BeaconConsensusEngineHandle` (#13533)
6822d4f18 fix(`simulate_v1`): fill transactions sequentually (#13532)
02ad280de chore(bench): fix non deterministic bench IDs (#13530)
5ea8f3189 chore: reuse build_import_pipeline for OP (#13529)
8579c08d6 fix: only skip last tx commit (#13528)
3e15ae387 feat: use batch tx validation in eth validator (#13490)
0d8efd8f6 chore: expose execution error of debug_cmd/merkle.rs (#13515)
50dfd301d Fix typo in the command example in the comments Update main.rs (#13524)
855029b3c feat: make `ReceiptFileClient` generic over receipt (#13523)
ec21e895c chore: rm evmenvprovider trait (#13503)
a0dcb0c52 chore: replace root fns with alloys (#13501)
03a339131 chore(bench): codspeed name workaround (#13519)
d0e5e04e6 chore: mark chainspec as riscv compatible (#13517)
517e5dbb0 chore: disable default std serde_json feature (#13513)
6e140108f chore: disable op- default features (#13511)
f5fdef895 chore: remove unused rand (#13512)
3ab28a590 chore: use imported b256 types (#13509)
bafbaa351 ci: mark trie-common as risc compatible (#13510)
dcdde399f chore: correct typos docs (#13505)
d12392d08 docs: update https external link (#13508)
1d0bb3d12 chore: disable itertools default features (#13500)
0a5e43026 chore: bump alloy-trie and nybbles (#13502)
369d74515 docs: use ots_ prefix (#13498)
f791f3934 fix: reth-trie no_std case hashmap (#13497)
2dd0ec340 chore: use NoopConsensus in CLI unwind (#13487)
e0ba41d6d update links in crates/static-file/static-file/README.md (#13462)
a163a5c19 feat: relax eth_callBundle bounds (#13485)
05382ec38 chore: relax `build_receipt` (#13486)
de477ba91 chore(deps): weekly `cargo update` (#13494)
62bbc8baa fix typos (#13489)
82af17068 feat(ethereum-forks): remove total difficulty for hardfork check (#13362)
dc6394b05 feat: add block traits for alloy types (#13470)
d217c6712 ci: don't run codspeed in merge_group for now (#13483)
f29dd4c5c chore(chain-state): `MemoryOverlayStateProvider` as alias (#13285)
4e9f8c274 chore: add missing from impl (#13477)
a9f835def chore(engine): remove allow dead code annotations in StateRootTask (#13480)
42af22fc7 chore: enable std with arbitrary (#13479)
06806758d chore(consensus): Add docs ab soon deprecated `BeaconConsensusEngine` (#13439)
d1dcc0b14 chore: remove revm default std (#13478)
557ebef28 chore: use try into directly (#13476)
09c64202b chore: fix unused import in net fetcher (#13474)
a4f86b0e2 feat: set up codspeed (#13372)
396613084 chore: make trie-common no-std (#13473)
30e8c7817 chore: rm async from state root from bench (#13472)
378d80a22 chore: sprinkle a few track_caller (#13471)
37ef2010f perf(engine): include selfdestructs in StateRootTask bench input (#13293)
3c4a0dcfb chore: fix reth-primitives traits test build (#13467)
2183e4955 fix: use correct merge activation block for sepolia (#13466)
04af67879 chore: assert etl_config.file_size != 0 (#13435)
1009607c4 fix(tree): destroyed accounts should not have storage in state root task (#13460)
431c993ce chore: bump alloy 0.8.2 (#13459)
058cfe2f9 chore: relax PayloadBuilderService bound (#13456)
b271f0cc6 chore: relax pool maintain future (#13455)
f3b1d0fbe meta: update code owners (#13457)
7a3e6d831 chore: use op feature for engine local (#13454)
0a0a2d425 perf(engine): use ParallelProof::multiproof in StateRootTask (#13260)
790a1e289 fix(trie): memoize the hash of a revealed sparse node (#13233)
d1b3dee5c perf(trie): use local ThreadPool in Parallel::multiproof  (#13416)
5639552f9 fix: drop and remove lockfile when test (#13437)
320a0b9af feat: add manual broadcast in full (#13453)
726d064af chore: add missing getters (#13444)
2eecf75c3 chore: remove redundant Send bounds for BlockReader types (#13452)
d5a096f52 chore: remove redundant bound in EthRequestHandler (#13450)
1364e2546 chore: add BlockBody associated type helpers (#13451)
b26e9e0d1 chore: add helper trait for BlockReader tied to NetworkPrimitives (#13449)
7250ca5d7 chore: add docs for removing from state in system calls (#13447)
ef033abaf Removed manual implementations of `core::error::Error` (#13370)
c51a188c7 fix: return bool for set_max_da_size (#13423)
1e402fae8 feat(root): support proof prefetch in the task (#13428)
48fee88cf feat(engine): integrate state root task and comment it (#13265)
e663f959b chore(root): cleanup some debt (#13427)
abc4ff977 fix(root): send error on failure to retrieve provider (#13426)
30d48cc97 fix: call bundle recursion (#13425)
dc7818cdf chore(ci): update hive rpc-compat expected failures (#13424)
03649f256 Add holocene mainnet time (#13419)
952eeae2a chore: bump alloy 0.8.1 (#13418)
82f21a3e3 chore: move database to FullNodeTypes (#13414)
cdf2904ae chore(engine): state root task debug logs (#13415)
ce4e35c81 chore(engine): log about finished state updates in state root task (#13411)
37ca54784 perf: rm redundant lookup (#13398)
8b647d6dd feat: introduce OpNetworkPrimitives (#13335)
4405f1b3d perf: remove redundant fallback cleanup (#13401)
f36e36902 chore: extra data (#13410)
091c5499b chore: replace TrieAccount with alloy's (#13397)
4e6ed39b6 chore: rm evm_env_for_raw_block function (#13403)
c314aa609 chore(deps): weekly `cargo update` (#13407)
7e41a4b14 feat: impl SignedTransaction for OpPooledTransaction (#13406)
ed7b778bb perf: skip lockfile exist checking when disable-lock enabled (#13355)
d7397e6b8 chore: make ensure_well_formed_payload generic over transaction (#13404)
ef24efece fix: break instead of return (#13402)
9e2ebf1a6 chore: rm noisy debug_asserted traces (#13399)
d50e8fa32 chore: downgrade noisy debugs (#13400)
fd2491a3f Micro optimizations for pending hash fetching (#13220)
b52523122 chore: Introduce helper type for evm cfg and env tuple (#13377)
16f6d7a0c chore: add `test_segment_config_backwards` (#13394)
7874f0c65 chore: releax on canonical state change (#13392)
138004bf3 chore: move serde bincode compat bound to NodePrimitives (#13393)
fb962fcd1 chore: rm blob_versioned_hashes (#13390)
a7ebd15d2 chore: unify unchecked naming (#13391)
d08748847 feat: make block <-> payload conversions generic over transaction (#13389)
ca4095a6a perf(engine): include spent calculation time in StateRootTask output (#13387)
8e6ad7a7f feat: make `Block` generic over transaction (#13388)
233dc7d35 fix(test): exclude lock file from storage files count (#13343)
e89d171fc chore: use reth-primitives-traits-directly (#13386)
b67e5a262 chore: remove PooledTransactionsElement alias (#13384)
197f274b3 Propagating OpDAConfig to OpPayloadBuilder (#13375)
ed2c69295 feat: relax on new head in validator (#13352)
bed722b26 chore: ignore warnings from hickory (#13385)
df697f2cc perf(`history_by_block_hash`): reuse provider instead of creating two (#13382)
a69abd42f chore: add roundtrip test for `StaticFileSegment` filename (#13381)
8c7d39924 chore: use pow for bsc p2p example (#13380)
acc125a52 chore: rm pooledtx element type (#13286)
088925c08 chore: misc sealed fn (#13378)
f34797776 chore: use hash fn directly (#13379)
fb649977a chore: small `Requests` clean up (#13374)
008cb25d0 chore(trie): make `MultiProofTargets` a type alias (#13364)
02f76b813 feat: remove default receipts for network components (#13371)
1289a760a test: add 7702 mock tx variant (#13373)
8f262e542 feat: ethereum-specific transaction (#13368)
cfdd740a9 chore: unused dependencies warnings (#13369)
a212e1b36 chore: remove the workaround for pre-bedrock OP transactions (#13365)
d29bca811 docs: document fork_id behaviour (#13367)
1535664cd chore: update holocene fns (#13366)
80035c3e7 chore: move all secp256k1 helpers to `primitives-traits` (#13363)
124aae19b chore(builder): remove extra data from basic payload generator (#13353)
c816a3b75 chore: relax some op pool validator internals (#13358)
55fa59952 chore: rm redundant return (#13361)
a7fd82267 feat: relax maintain (#13349)
e9577729f fix(builder): desired block gas limit (#13351)
6ff2510ad perf(engine): cache proof targets in proof sequencer for state root task (#13310)
5ef21cdfe fix(engine): return error on StateRootTask multiproof and root calculation failures (#13356)
c33981172 chore: rm reth-provider dep from payload crate (#13348)
aef902378 chore: use `OpTypedTransaction` directly (#13350)
59fb0e210 chore: add  `BlockBodyIndicesProvider` trait (#13347)
cdb03ac0b feat: optimism-specific receipt (#13317)
f7dc27f02 chore: update gas limit on new head block (#13333)
b94a31f6d feat(trie): replace TrieInput by its components in ParallelProof (#13346)
dbc8766c8 docs: inline mermaid diagrams while aquamarine is fixed (#13302)
90fcfb90e chore: unify noop provider impls (#13345)
aca4a2db3 feat(rpc): remove total difficulty (#13303)
dcdf13731 feat: make BuiltPayload generic (#13337)
3f55071f6 chore: relax eth pooled tx (#13271)
efd090dc9 chore: move secp256 crypto to primitive-traits (#13341)
3b08b659a chore: impl evm env provider for noop (#13342)
92fae83c0 feat(reth-execution-types): make generic DisplayBlocksChain (#13336)
b19eb7966 feat(blockchain-tree-api): remove manual implementations of core::error::Error (#13332)
7764b9a03 chore: add  `OmmersProvider` trait (#13331)
328d4937f fix: use generic receipt in `StaticFileProducer` (#13324)
c553b1e86 feat(builder): ethereum builder config (#13315)
3d12a4eaf chore(sdk): fix docs to match generic tx type (#13316)
5b19badd9 feat(op-isthmus): impl `Debug` for `BlockchainProvider` (#13312)
941ffb51f chore: rm chainspec max gas limit (#13308)
8fd305adc chore(ci): refactor code to build image used in several workflows (#13304)
e6d28e4f2 chore(ci): run kurtosis-op twice a day (#13305)
411c5eabc feat(engine): integrate blinded provider factory into state root task (#13294)
e7753257d chore: use consistent naming for tx fns (#13306)
2df385a77 feat: ethereum-specific receipt (#13295)
61099cdd4 chore: remove `MaybeArbitrary` trait (#13301)
8f6492d70 perf: rm redundant clones (#13299)
432e536d4 fix(trie): parallel proof should return empty storage proofs (#13300)
9891917f6 chore: rm receiptsext trait (#13296)
6550d82ab perf: pass blinded_node path by reference (#13298)
17d38c915 feat(EthApi): Add broadcast stream for incoming raw transactions (#13165)
1602baef6 fix: only terminate the stream if range is empty (#13281)
b6e682ef7 chore: move tx errors (#13288)
394f973ac chore: improve `CompactZstd` macro (#13277)
f2141925b chore: rm associated type (#13292)
fa340b532 chore: bump version 1.1.4 (#13291)
2dda8a9d1 chore: cut down on tx_type usage (#13287)
b34f23d88 chore: Generic data prims EngineSyncController (#13037)
6b7bf2a0a refactor: use constructor functions (#13255)
d345ffc58 fix: fromstr impl for miner variant (#13289)
b424ad36d chore: reduce revm scope in txpool (#13274)
9be5a7814 chore: introduce receipts generic (#13276)
0494ca01d perf: trie micro optimizations (#13282)
0144a433d perf: reduce size of DatabaseError (#13283)
7b9ca0af7 perf: enable map-foldhash alloy-primitives feature globally (#13278)
37f3933db feat: add NetworkPrimitives to NetworkBuilder (#13169)
73f158345 Bump alloy to 0.8.0 (#13268)
62e2cbfe8 chore: remove unused evm env provider fns (#13272)
8aada7a24 feat(engine): parallel sparse storage roots (#13269)
88a9bd72d feat: make engine block downloaders generic over block (#13273)
4c39b98b6 chore: add `StorageLocation` to `BlockBodyWriter` trait (#13266)
d97449dae fix: bounds for BundleApi (#13267)
36c0142e5 chore: release 1.1.3 (#13262)
fdc9b3188 chore: use trait fn for blob gas (#13261)
15470b435 feat: make bodies downloader generic over header (#13259)
da99986ea feat: relax bounds for `EngineApiTreeHandler` (#13257)
d856c8e5b feat(engine): add error logging in `state_hook` (#13252)
b3752cd2e feat: remove default types from headers stage (#13258)
5ee776a2e chore: pass primiitves generic to `EngineApiTreeHandler` fields (#13256)
c9bd64018 chore: use `BlockWithParent` for `StageError` (#13198)
980e62a5b chore: relax `ProviderFactory` setup (#13254)
386e4b3eb feat: extract zstd compressors (#13250)
eb6080863 feat(rpc): relax `VaidationApi` and `EngineApi` (#13241)
af5dc6086 Return a propoer error code for txpool is full error (#13245)
bf1688525 chore: add blob_versioned_hashes_iter to block body (#13246)
3c132958d perf(engine): add StateRootTask bench (#13212)
f4ae4399d perf(trie): use entry API in sparse trie (#13240)
c7c84f2d3 feat: relax bounds for `eth_simulateV1` (#13232)
3af2afe99 chore: relax more consensus functions (#13236)
a3e90e18b fix(trie): retain updates only for sparse branch nodes in the prefix set (#13234)
b5bbb8d75 chore: rename HighestStaticFiles::min (#13235)
da5ffc24c fix(trie): reveal extension child in sparse trie when updating a leaf (#13183)
3bc7b00fb ci: move deny to lint (#13230)
49d3d82b6 chore: use BlockHeader trait (#13224)
3e859058c chore: add default impls for withdrawals and ommers root (#13229)
233f893a9 fix: deny advisory RUSTSEC-2024-0421  (#13227)
13302ca65 feat(db): make init_db function accepts a TableSet (#13222)
d68d7c8da feat: bound NetworkPrimitives types by proper traits (#13196)
f7a347604 chore(engine): simplify StateRootTask creation and hook management (#13213)
465692b5a test: add tracing test (#13221)
73785ccf0 chore(deps): weekly `cargo update` (#13216)
08b875f4f chore: feature gate reth-codecs in trie-common (#13215)
2846dd242 chore: flip tx conversion impl (#13208)
abaeb35fd chore: make reth-network-peers risc compatible (#13210)
828ddbaca chore(engine): refactor code to transform EvmState into HashedPostState (#13207)
410d36163 chore: move calculate tx root to blockbody trait (#13209)
42a1ba3a8 chore: make zip_blocks generic over header (#13199)
4fa86c548 Add placeholder `OpHardfork::Isthmus` (#13112)
6b35b0599 feat: relax bounds for `EthPubSub` (#13203)
4d2c5767e perf(txpool): remove more clones (#13189)
52b8ff4b0 chore: fix `cargo check -p reth-stages --tests` (#13200)
7e9d2c1a3 chore: remove unused trie-common alloy-serde dep (#13201)
9167e454b refactor: simplify and relax some RPC bounds (#13202)
552c6237a feat: make BlockResponse generic over header (#13195)
e9915702f perf: call increment once (#13193)
2183752f8 refactor(prune-types/prune): move PruneLimiter to `reth-prune` (#13182)
a0326e4f8 perf: more `FxHashMap`s for `SenderId` key (#13188)
c60867996 perf(`AllTransactions`-iter): do not clone all transactions by default (#13187)
e615010cc fix: don't use reserved word None in bug template (#13192)
53f729761 chore: rm validate delegate (#13190)
4f28d6c7a chore: disable url default features (#13191)
cd13bd91c feat: unify ReceiptWithBloom from Alloy (#13088)
55f931d0b chore: introduce ethereum-primitives crate (#13185)
c9c6eb5aa chore: rm unused evm provider fn (#13184)
627ceae86 feat(db): initialize db with tables (#13130)
806a1b1e8 chore: use slice arg for tx decoding (#13181)
e29b4eec4 fix(trie): delete self destructed accounts from sparse trie (#13168)
cb3e9f844 chore: remove some excessive allocs in hot path (#13176)
fdff4f18f feat(`DbTx`): add `get_by_encoded_key` (#13171)
634db30b6 perf(tx-pool): reuse write lock to insert txs batch (#12806)
2f46fe6d4 chore: use leaner NoopProvider in network (#13178)
cf2a6a1ee feat: EthApi traits abstraction (#13170)
ab87f22ca fix: push job front of queue (#13177)
d3e09c8c4 perf: profile TransactionsManager::poll hash fetching (#12975)
44a66d32b chore: Code Simplification and Optimization (#12840)
242bbaa9c fix: throw error if genesis header found on static files, but empty db (#13157)
6453b6209 feat(trie): use branch node hash masks in sparse trie (#13135)
da9828546 feat: re-export used deps from reth-codecs (#13167)
6fc4e8acd chore: make reth codec support optional (#13166)
f82a20a61 fix: txpool tests (#13172)
d939876f3 chore(engine): add StateHookSender constructor (#13162)
8226fa0ca feat: use network tx for `Pool::Pooled` (#13159)
4fe5c2a57 Allow replacement txs with exactly price bump (#13161)
56624f820 chore: add typed2718 to txtype (#13076)
d71a4be98 feat: Add ratelimiting to OpWitness API (#12998)
eb4aa2c07 fix(engine): wait for all state updates before returning state root task result (#13156)
3ccbda8e1 chore: add reference to the troubleshooting page on `mdbx::Error::Access` (#13151)
6f0cfefe5 feat: Support sending raw capability messages (#13028)
da03b7989 perf(trie): avoid (de)allocating an extra prefix set (#13020)
b4124dd1b feat: make RPC cache generic over primitives (#13146)
804dc99ef feat: impl compact for alloy txtype (#13152)
659448241 chore: reuse alloy proof fns (#13091)
e022b6fd9 chore: bump alloy 073 (#13150)
0016d91ed feat: install op miner endpoint (#13147)
305ca2f9a docs: add docker and error code 13 to troubleshooting chapter (#13133)
08c9df8cb chore: bump pprof (#13148)
33f8e5cd0 Bump `op-alloy` (#13142)
1f6b7d123 feat: wire network primitives to remaining components (#13143)
874cf8902 feat: add OpBuilder config (#13132)
27dab59ce feat(trie): collect branch node hash masks when calculating a proof (#13129)
337272c88 chore: add typed receipt for Receipt (#13140)
fbd2d6eed refactor: split `NetworkEventListenerProvider` (#12972)
0daa456f3 chore: add container question to bug template (#13134)
3091386fd fix(witness): collect witness using sparse trie (#13072)
d298fb1b8 fix(op): add missing op consensus validation check (#13122)
24af0a83a Extend revm spec tests for holocene (#13111)
589fc2a68 Fix typos in documentation (#13094)
53243a29f perf: avoid cloning bytecode when converting revm's `&AccountInfo` to reth's `Account` (#13126)
8d1a33211 feat: make `PoolInner` functions `pub` (#13124)
025885f2a refactor(sdk): complete generic impl for `PersistenceService` over `N::Primitives` (#13044)
c060df92a chore(ci): fix hive patch (#13123)
5c07669ef chore: remove `TransactionSignedNoHash` (#13120)
4e73bb04c refactor: pending block construction (#13109)
d164e3ec9 chore: bound most NetworkBuilder methods by NetworkPrimitives generic (#13119)
8a00d2d25 chore: relax rpc bounds (#13100)
c6add45c0 chore: propagate network primitives generic to EthStream usages (#13117)
bdfbcab53 feat: use generic CapabilityMessage everywhere (#13116)
601e8b914 feat: make TransactionsManager Future impl generic over NetworkPrimitives (#13115)
e9484b243 chore: remove redundant enum (#13113)
35cfd4186 feat: make `import_transactions` use network generics (#13110)
0fcc6cf19 feat: Add `Transaction` AT to `ConfigureEvm` (#13106)
886471d69 Introduce `HashedPostStateProvider` (#12607)
e4c7fac9d chore(trie): make Debug impl work for any provider (#13107)
64c6343fd chore: propagate network primitives to `on_command`, `on_network_event` (#13084)
9d5e15996 feat: make InvalidBlockHook generic over NodePrimitives (#13105)
7008ac22d perf(validate-tx-pool): fast non-allocating `is_local` (#13096)
6baf519c9 feat(custom-tables): don't record metrics for custom tables (#13104)
39f936ede chore: move sparse errors to `reth-execution-errors` (#13101)
8f61af013 introduce tableset and impl for tables enum (#12617)
61cb3dedc fix(trie): do not persist root branch nodes in sparse trie (#13071)
ca3d9895e feat: impl noop miner api endpoint (#13102)
0aa4701d3 fix(trie): short circuit leaf removal if missing (#12988)
a8feec839 perf(engine): do not clone proof targets (#13061)
1404073e0 feat: add miner rpc bindings (#13099)
e4c0f192e chore(trie): exclude blinded providers from `Debug` impl (#13098)
bedc68e8f chore(evm): migrate execution errors back to `thiserror` (#13097)
bfcd98326 feat: add Op DA config (#13095)
84e1fb92e feat: impl more noop functions (#13029)
82b97a8dd chore: fix unused warning (#13090)
383b8c242 fix(engine): get_proof_targets only add fetched accounts if they have new storage (#13015)
74017bac0 feat: Use `PrimitiveSignature` instead of `Signature` (#13087)
572411494 feat: use primitive transaction as `PoolTransaction::Consensus` (#13086)
ae8912fa7 feat(trie): proof blinded providers (#13085)
ea82cbdc6 chore(sdk): define `OpTransactionSigned` (#11433)
9ed9fa241 refactor: rename `TransactionSignedEcRecovered` to `RecoveredTx` (#13074)
983195378 chore: flatten reth-primitives dep (#13082)
039f1215d chore: make `has_eip4844` generic over `SignedTransaction` (#13083)
2c5a1a743 chore: disable nybbles default feature (#13081)
bcfe9ebb2 feat(trie): `SparseStateTrie::new` (#13068)
80d0fb0cd chore: set event logs from `StaticFileProducer` and `Pruner` to `debug`  (#13080)
65193bdaf feat: add std feature to network-peers (#13078)
156984b37 chore: misc direct imports (#13079)
756eafa1a chore: disable default features op forks (#13073)
d7f5846a3 chore: add tx trait bounds to primitives (#13075)
8d10b9329 chore: rename codecs optimism feature to op (#13067)
6cea9955b Check holocene activation based on the parent's timestamp (#13060)
c61a0713b feat: bump alloy (#13070)
675410def add replace and remove methods (#13059)
aacf5d13d chore: disable more default features (#13065)
30800af6e perf(validate-tx-pool): fast non-allocating `is_create` (#13063)
8a047ed6e chore: move Integerlist to db-api (#13062)
6789ff4a1 chore: add `OpEthApiBuilder` and `OpEthApiInner` (#13009)
332cce1f9 feat: add header AT to provider (#13030)
519a10ae9 chore: remove OpTxType new type (#12715)
dd055a461 feat(executor): call hook with state changes after post block balance increments (#13050)
df4673ef8 trie: init storage blinded provider with account (#13058)
8d5668a23 chore: disable reth-ethereum-forks default features in workspace (#13054)
088461166 chore(trie): remove infallible variant (#13057)
1b34f3e78 feat(rpc): enhance `eth_getLogs` error handling with block range feedback (#12790)
3855519a5 chore: disable revm primitives workspace default features (#13055)
cccbd90e7 docs(trie): duplicate comment in sparse trie (#13056)
4f19fc67b chore(deps): weekly `cargo update` (#13043)
1134c5d61 chore: mark ethereum-forks as rv32imac (#13053)
b91d0f871 feat(trie): blinded node provider (#13027)
ae3b3ddf4 chore: use alloy's blockwithparent (#13052)
04f8c5848 perf(trie): storage multiproof overallocation (#12959)
c2ab690ad feat: introduce EthMessage variant to NetworkHandleMessage (#13033)
3f93f35c2 feat: add `Header` AT to `EthChainSpec` (#13046)
7f88e6278 feat: bump alloy (#12930)
890f08245 feat(rpc): create revm env on demand (#13017)
3dc6f506b chore: disable alloy-rlp default features (#13042)
463462518 feat: make ommers table generic over header (#13038)
ebd413fce feat: make `PersistenceAction` generic over `NodePrimitives` (#13019)
5a0b52318 chore: remove rand feature (#13040)
00b344794 cachore: disable alloy-chains default features (#13039)
9b1d67643 feat: move eip1186 conversion helpers to reth-trie-common proofs (#12985)
7353dc94a feat: generic receipt ExecuteOutput (#12966)
e0cad9fda feat: generic data primitives PersistenceHandle (#12968)
489d4e859 feat(eecutor): send EvmState in state hook (#13025)
0ff2827a7 refactor: use is_none_or instead of map_or (#13035)
5d7115035 feat: consensus trait generic over NodePrimitives (#13026)
55ddaab1e feat: make generic data primitives EvmEnvProvider (#12981)
aa93e7f8a refactor: Make `BlockType` generic and relax implementations (#12955)
36eaf565d chore: add default for 2718 transactions (#13018)
b09c34525 feat: add blob_gas_used to block body (#13012)
7f11fa536 chore: relax block impl bounds (#13013)
f6895126d perf: remove clone in trie walker (#13004)
b10ffba33 feat: add check empty when broadcasting transactions (#13008)
db6e5b5cd feat: make js-tracer feature optional for node builder crate (#12178)
95b52b3be chore: relax pipeline bounds (#13011)
29289ccae feat: add `Primitives` AT to `BlockExecutorProvider` (#12994)
b6b8c474a feat: on-disk reorg E2E test (#12977)
1f1671ad8 feat: `SerdeBincodeCompat` trait (#12991)
a8e2b77df chore(trie): sparse trie trace logs and assertion messages (#12969)
a01e0319e feat: add clone into consensus (#12999)
b6ba822cc chore: disable serde-with default features (#13002)
4d65b2f5d chore: misc raw message (#13006)
37dca2340 replace thiserror-no-std with thiserror (#12432)
88bde87f7 chore: reduce reth-primitives usage in node-core (#13000)
b10f57693 chore: make generic header consensus validation (#12965)
fa9cabd97 chore: acquire trace guard for eth_simulate_v1 (#12935)
8590f7a5d chore: remove redundant words in comment (#12997)
39d4c1a42 chore: use new payload validator in tree (#12987)
3b4edb0a6 feat: use generic `SignedTx` in `SenderRecoveryStage` (#12996)
599b808fb feat(ci): add rv32im compilation checks (#12925)
3f9816e1c feat: integrate generic primitives into pruner (#12995)
9fe459e2e fix: disable state root calculation for eth_simulateV1 (#12993)
793fc23e0 fix: correctly poll `NetworkState` (#12973)
da53d7698 perf(trie): init hashed storage only on existing **changed** slots (#12980)
ae395e871 fix(engine): fetched proof targets in state root task (#12983)
aea56135d chore: lower tmp ban duration for trusted or static peers (#12961)
29d84e4ce fix(tree): account info on state update in root task (#12978)
856dc7d9c ci: ignore ethereum crates for testing (#12976)
8e1945592 fix: cap request gas limit in eth estimate (#12970)
ca72d4566 chore(engine): remove uneeded if (#12974)
9f20ebc29 refactor(tx-pool): add enum `InvalidKind` to `mark_invalid` (#12845)
cca6372e8 feat: integrate type specific engine validator in tree service (#12952)
55b758ac1 feat: generic data primitives EngineApiEvent (#12964)
e1b25c80c perf(tree): keep storage trie around for updates (#12971)
8c86d63a4 perf(trie): avoid update reallocation & track wiped (#12929)
1210fd938 chore: make ethereum-node deps leaner (#12963)
8589503a3 feat(engine): use `SparseStateTrie::update_account` in state root task (#12960)
eac02d945 fix(trie): always create empty storage multiproofs (#12915)
1d5bd4659 chore: make op-node-testing- leaner (#12958)
c27446205 perf: use alloy hash map in trie related code (#12956)
e9a6e4525 feat(trie): `SparseStateTrie::update_account` (#12954)
cbcf79a18 chore(engine, state root task): remove unused StdReceiverStream struct (#12953)
b2e1da3eb fix(tree): root task storage leaf removal (#12950)
064f9393f perf(tree): reveal multiproof in tree task (#12949)
28ef5749e feat(engine): integrate sparse trie into the state root task (#12907)
39e057375 chore: make generic header InvalidHeaderCache (#12940)
a3eb302f7 chore: pass generic header to validate_header_gas (#12931)
bb0bd7791 chore: make generic data primitives TreeState (#12924)
0df02ca2b chore: pass generic header and body to validate_shanghai_withdrawals (#12923)
217930159 feat: add functions for env creation (#12928)
8d70e8921 chore: pass generic header to validate_header_base_fee (#12921)
47245642c feat(trie): `SparseStateTrie::storage_trie_mut` (#12913)
00c5b69af feat: integrate node primitives in engine handler (#12914)
2700db125 feat(trie): `SparseStateTrie::remove_storage_leaf` (#12912)
2705e3a7d feat: add helpers for opcode tracing (#12899)
f9ad3f8cc chore: add fs-util::open (#12911)
26bfe7c03 feat: `SparseStateTrie::reveal_multiproof` (#12909)
7a6053078 fix: small db provider fixes (#12908)
7a6a725d9 feat: add `Receipt` AT to writer traits (#12892)
1131bdecc feat(engine): proof fetching on state update for StateRootTask (#12458)
533b555f8 feat: add `Receipt` AT to `ReceiptProvider` (#12890)
b62929c39 feat: add engine validator addon (#12905)
db9b86a7d Upcast trait bound on `BlockBody::Transaction` to `SignedTransaction` (#12903)
42c24f07d refactor: unify code paths for receipts removal (#12887)
a0e2961d7 chore: make BeaconConsensusEngineEvent generic over data primitives (#12831)
b33757fcb feat: extends engine validator (#12900)
51afa4cdc chore(sdk): Add MaybeArbitrary to all ATs on NodePrimitives (#12847)
3b8c661ad added generic header (#12897)
acfcfbdcf perf: minimize clones when saving blocks (#12870)
6b3c7c651 fix(ci): warn instead of failing no tests (#12893)
02f3427da feat: introduce networkprimitives in transition fetcher (#12889)
e8d63e4a0 chore: fix unused warning (#12888)
38cf6c900 refactor: improve state writing functions for db provider (#12885)
83af49317 Introduce StateCommitment in StateProviders (#12602)
5dc914be8 chore: make cargo t compile for reth-trie-common (#12884)
2ce741709 feat: relax provider bounds (#12857)
d51b347c8 feat: add utility trait methods to Transaction (#12704)
ebf837e6e chore: unify more tx signed fns (#12883)
6bba5e663 chore(ci): debug logs on kurtosis-op client advance check failure (#12882)
4dfaa4638 chore: unify recover_singer (#12881)
2d6b8937c refactor: unify logic for writing receipts (#12878)
dee0b8c05 feat: relax constraints for on_get_pooled_txs (#12880)
a0f99df21 feat(trie): `StorageRootProvider::storage_multiproof` (#12879)
b6d6bf5ee deps: bump sysinfo (#12874)
2840b6f67 chore: make OrderedSealedBlock generic over header and body types (#12830)
277631092 feat: use pooled AT for get_pooled_transactions (#12876)
c19b8e1a2 chore(trie): remove todo comment (#12875)
2b4fa3bbf dep(trie): remove `reth-trie` dep from `reth-trie-sparse` (#12872)
2dc92880b chore(trie): move trie updates to `reth-trie-common` (#12863)
26fc70181 feat: `NodePrimitivesProvider` (#12855)
b34fb7883 feat: make PooledTransactionsElementEcRecovered generic over transaction (#12869)
dab63e649 feat: emit node event when inserted executed block (#12726)
334ccd0a5 chore: add helper for encoded (#12868)
a28fa243c feat: use Pooled type for get_pooled_transaction_element in pool trait (#12867)
1b4048e47 chore: add encodable to pooled recovered (#12866)
aa0a114b0 chore(trie): introduce `serde` feature on `reth-trie-common` (#12864)
9d2e04c77 chore: relax mempool impl (#12865)
13cd77c93 test: enable op prim arbitrary in e2e test-utils (#12862)
fae44bf74 chore(trie): move prefix sets to `reth_trie_common` (#12860)
96d61dd44 feat: add pending_transactions_max in trait TransactionPool (#12856)
82eb38312 trie: add unit tests for nibbles (#12758)
404f8f877 refactor: unify logic for writing headers (#12858)
b96c0d989 docs: clarify installation guide NVMe term (#12853)
8e4a917ec refactor: isolate `BlockchainTree` setup in `DefaultEngineLauncher` (#12852)
c44e11b8a feat: add `Block` AT to `BlockReader` (#12837)
e2c42ae24 test(trie): use proof nodes helper (#12848)
6b088bd88 perf(engine): sparse trie calculation for state root task (#12843)
9f37d40b7 feat: enforce relations between block parts on NodePrimitives (#12846)
863c5233f feat: `ChainStorageReader` (#12836)
04dd005af feat(trie): sparse trie methods for trie task integration (#12720)
caac226c7 chore: make CanonicalInMemoryState generic over sealed header and block (#12835)
dcaa06a01 feat: make more block types generic (#12812)
02824da4f chore: remove default bound for txs (#12834)
53839a952 chore(deps): weekly `cargo update` (#12813)
c8e5b233e Use `adjust_index_for_rlp` from alloy (#12815)
736edf70a fix: check withdrawals in op builder (#12832)
8958e9f4d chore(ci): run hive 2x/day (#12829)
e020eb71b chore(payload): fix withdrawals field pre-shanghai in Ethereum payload (#12828)
21bc75df3 feat: start implementing OpTransaction (#12529)
a552b1ffc chore: make `EngineSyncEvent` generic over data primitives (#12827)
0d6ebec57 Revert "Revert "chore(sdk): Add MaybeArbitrary as super trait"" (#12810)
6695d07c6 Make PostExectuionInput generic over receipt (#12814)
9b289351b feat: use defined pool type internally (#12803)
7c5cb90e9 feat: add signedtx for pooled tx (#12799)
795e29cb5 Revert "chore(sdk): Add MaybeArbitrary as super trait" (#12809)
c869c7118 Revert "fix: add arbitrary feature for op cli dev" (#12808)
c96118346 chore: rm unused variant type (#12798)
69e54da04 chore: remove duplicated functions (#12804)
e3ffb3f43 fix: add arbitrary feature for op cli dev (#12807)
ebb4fc2bb chore(sdk): Add MaybeArbitrary as super trait (#12661)
0d17f14e3 perf: inline pooled transactions max (#12805)
13786c76d chore: use inmemory size functions for tx impl (#12802)
f8a88c50d chore: add missing from impl (#12801)
047bf8630 perf(rpc-tx-helpers): simplify clones (#12800)
5db3ad1a6 feat: add Transaction AT to `TransactionsProvider` (#12794)
36db1c240 chore: simplify cost calc (#12796)
6a97a6dfe chore: include payload id in debug msg (#12795)
9a7a733a0 feat: impl InMemorySize for PooledTx (#12791)
71fd63d9a feat: add try_into_pooled_eip4844 (#12792)
2d5256cb0 chore: use existing transaction fns (#12793)
55d047fcf Grammar and Typo Fixes in Documentation (#12789)
5b5e69b64 feat: add InMemorySize for more alloy types (#12788)
0416550c5 chore: move traits for safe and finalized block read/write (#12786)
7f95f1bf0 feat: generic static file masks (#12785)
362e2ed0a chore: rename transaction_by_id_no_hash fn (#12783)
7b156f058 feat: impl alloy transaction for pooled tx (#12787)
ba1a1687b chore: simplify typed to signed tx (#12781)
cbd9d6dc0 chore: remove no hash usage in tests (#12782)
9a2eacdb9 chore: move traits used by legacy engine to separate mod (#12784)
f2860006f chore: replace TransactionSigned struct inits with new functions (#12779)
64728e085 refactor: simplify withdrawals outcome (#12780)
87ecb4341 replace BlockWithSenders with fn (#12695)
3384c84f6 chore: more useful tx conversions (#12778)
852fba652 chore: replace blobtx fields with signed (#12774)
26ecda223 chore: some additional pool docs (#12776)
73cd92f5f chore(pending-pool): remove unused `all` txs (#12777)
7f5fd80cb feat: integrate `SignedTx` AT into `StaticFileProviderRW` (#12764)
3d93b81a7 chore: replace pooled elements with signed (#12773)
f2126f2c0 chore: move withencoded struct (#12770)
ef3e0b360 perf(op-payload): remove unneeded clone (#12771)
a16392972 feat: add signed conversions (#12772)
3765ae244 feat: add TransactionSigned::new fns (#12768)
7d24aa40e chore(trie): log proof result send error (#12749)
d3b68656c fix: always truncate static files (#12765)
f211aacf5 chore: rm tx alias re-export (#12762)
0eaef1f1d chore: rm unused error variants (#12763)
39e7fdeeb chore: remove txext trait (#12760)
4442b5d6f feat: convert hash field to `OnceLock<TxHash>` on `TransactionSigned` (#12596)
6f6fb005a chore: remove feature gated import (#12761)
1061e4681 chore: use new is_broadcastable_in_full (#12757)
367478c6f chore: use hash ref (#12756)
0558235b9 refactor: unify logic for blocks removal (#12743)
edeacbecf fix: bad databaseargs default (#12747)
c2323b4e4 chore(sdk): add adapters for header and body to `NodeTypes` (#12723)
3d477e7d6 Replace use of fully qualified syntax (#12751)
f8d683e80 Improve metrics hooks setup (fixes #12672) (#12684)
2093d2bd9 chore(sdk): Add `NodePrimitives::BlockHeader` and `NodePrimitives::BlockBody` (#12647)
2c7b404c2 perf(evm-config): return `&Arc<ChainSpec>` (#12748)
ad7885b48 chore(sdk): Define helper trait `MaybeCompact` (#12683)
96f757240 chore(net): downgrade pending sesion timeout log to trace (#12745)
54ff4c734 feat: relax more tx manager bounds (#12744)
c73dadacb refactor: unify code paths for trie unwind (#12741)
9d3f8cc6a docs: add additional eth validator docs (#12742)
4f946733c feat: add is_broadcastable_in_full to txtype (#12739)
9fbe3468e chore: use TransactionSigned trait bound for tx msg building (#12737)
4eca2fa1e chore: rm network event handling from node events (#12736)
fa7ad036e chore: force disable 4844 for op pool (#12740)
42aea7b9f feat(trie): retain branch nodes in sparse trie (#12291)
ac1867b63 feat: add a way to convert consensus to pooled variant (#12734)
d00920c42 chore: relax tryfrom error (#12735)
c2e693860 chore: move prune event type (#12732)
b9169399f chore: add pretty printing for pruned segment info (#12710)
1b874dcc6 feat: use broadcast tx generic (#12733)
33730536f Do not print whole block in `debug!` logs (#12729)
80268a1ce chore(sdk): move `reth_primitives_traits::TxType` into transaction module (#12722)
0c5984179 refactor(storage): unify blocks insertion logic (#12694)
749f98e02 chore: add header and body generics to `SealedBlockWithSenders` (#12717)
a0d7503eb feat: use network primitives pooled transaction AT (#12718)
8df9045fd fix: use correct timestamp for op receipt (#12716)
04729f3c6 chore: introduce network primitives to transactions handle (#12711)
68abcb1fe chore: rm unused file (#12713)
b3b083fb8 chore: add generics to broadcast (#12714)
ce0bcee41 chore: move tx builder fns (#12709)
0d4b1e73d test(tx-pool): add more unit tests for tx-pool best (#12691)
e3702cfc8 chore: move tracing futures to workspace (#12707)
f9b764f6e chore: misc lint suggestion (#12706)
402f96600 chore: move txtype constants to codecs (#12705)
f12d7a926 chore: use ethereum-forks types directly (#12702)
868f3acdb feat: integrate `HeaderValidator` + make `FileClient` generic over block (#12681)
6977cf045 feat: add `TaskSpawner` to spawn validation requests as blocking (#12543)
ce4a32017 chore: rm unused codec derive (#12700)
9c7536484 chore: bump op-alloy (#12696)
b178f3a16 chore: add receipts to networkprimitives (#12699)
7b13a2269 perf(tx-pool): avoid copying tx cost (#12629)
11847b4f1 text(tx-pool): add unit tests for tx pool state (#12690)
2c885eee2 chore: rm unused windows import (#12697)
3b1202831 text(tx-pool): add unit tests for `DiskFileBlobStore` (#12692)
942ba7e82 tx-pool: impl `From<SubPool>` for `Destination` (#12689)
10caa9f84 fix: use `body.recover_signers_unchecked` instead on `try_with_senders_unchecked` (#12668)
02a90e1c0 chore: rm allowance from oog error (#12686)
aa34a2795 chore(sdk): make `reth-chain-state` types generic over receipt (#12667)
fcb5050f8 Add SDK codeowners (#12685)
7c7baca98 chore: group tx manager functions (#12679)
8c467e429 chore: genericify some net tx types (#12677)
37181c357 feat(executor): add init methods to set TxEnv overrides (#12551)
2b21bcf42 chore(sdk): Add adapter type for `NodePrimitives::Receipt` (#12674)
d49f91378 chore: use jsonrpsee server crate directly (#12673)
565fd4d13 chore(exex): emit warn log when WAL grows beyond a certain number of blocks (#12634)
340805939 feat(trie): introduce `TRIE_ACCOUNT_RLP_MAX_SIZE` constant (#12638)
50c875b33 feat(trie): short-circuit account/storage reveal in sparse trie (#12663)
1e7189d3e feat: trait-based storage API (#12616)
66a9d3e42 fix: run upkeep manually (#12664)
6615fd2ef chore: re-export header from primitives traits (#12657)
03992a53e chore(deps): bump dcarbone/install-jq-action from 2 to 3 (#12645)
da77ffc95 chore(sdk): Move `reth_optimism_node::OpPrimitives` into `reth-optimism-primitives` (#12649)
0db10a13a fix: typos in troubleshooting.md (#12652)
e924bdab3 Header validator (#12648)
b78f20f5c fix: do not delegate is_optimism check for Ethereum ChainSpec (#12650)
206ba29f0 tx-pool: add `all` method for `AllPoolTransactions` (#12643)
496bf0bf7 chore: bump version 1.1.2 (#12651)
06bf5c778 chore(sdk): make `Chain` generic over data primitives (#12635)
e859e1711 docs: small fix in HARDFORK-CHECKLIST.md (#12646)
641d1288e chore(sdk): limit `FillTxEnv` to super trait of `FullSignedTx` (#12614)
7fb862cbd Typo Update private-testnet.md (#12633)
f1279b354 Run kurtosis e2e test 2x/day (#12641)
55b51364b fix(discv5): warning discv5 config socket override (#12636)
8aa9b71ef chore(witness): simplify wiped storage retrieval (#12637)
1d2934ba6 feat(trie): turn TrieWitness methods into public functions (#12510)
2dc75fb99 fix: correctly prune transactions during on-disk reorgs (#12630)
8339c716b feat(engine): introduce sync implementation of StateRootTask (#12378)
26ce7fbdb feat(trie): add extend method to MultiProof (#12467)
dc45aa9ff chore(deps): weekly `cargo update` (#12611)
ff22c8eef chore(sdk): Define `MaybeSerde` (#12577)
cee11dfb7 test(tx-pool): add more unit tests for pending pool (#12603)
292e9d981 test(tx-pool): add more unit tests for blob pool (#12605)
773f558ad Fix Minor Documentation Errors (#12601)
66887bbfa Typo Update profiling.md (#12631)
32a4d9ea0 Fix grammatical error in lib.rs (#12632)
b5bb3157c test: add tests for base l1 blockinfo (#12609)
a84f58bcb chore: use keccak256 from alloy (#12628)
626224e30 chore: refactor `MockTransaction` (#12627)
378e097ae chore(sdk): Add InMemorySize as super trait (#12615)
4daec1627 feat: add EthereumEthApiTypes (#12618)
8aaac6d7c feat: add TokioTaskExecutor::boxed (#12619)
1acdf9b2d fix: add additional op checks for chain specific check (#12623)
4b4f9cf40 feat: install op debug exeuction witness (#12622)
5056a0811 fix(deps): Fix dev-deps for `reth-primitives` (#12612)
cfd452353 feat: add merge_if_module_configured (#12608)
7ae8ce1d0 chore(sdk): Add blanket impls for refs to prim traits (#12613)
2f3fde8fb feat: fix WASM build for crates dependent on reth-payload-primitives (#12610)
bf92a5fb5 feat: split reth-payload-primitives (#12600)
735eb4b97 chore(cli): unify trait bounds (#12604)
dda190658 rm more generics when useless (#12595)
d9ed07a36 chore: remove revm-primitives re-export (#12599)
d52c7194d chore: move triewriter trait (#12598)
1945cd8b4 chore: move hashing writer trait (#12597)
3614a37ff test(tx-pool): add more unit tests for parked pool (#12591)
e182df71a chore(sdk): Remove duplicate trait `BlockHeader` (#12584)
fc97a0cba chore: make clippy happy (#12594)
2dc9a0632 chore(sdk): add NetworkPrimitives for NetworkManager (#12530)
7745046b0 Fix grammar in MDBX documentation (#12580)
c16000553 rm generics when useless (#12581)
5276093e7 chore(util): Add reth payload util (#12590)
02237bfa7 feat: add contains fns to transport rpc modules (#12593)
b31b1ea28 feat: add op debug witness api (#12583)
f0b8b9b22 feat: add tx_number consistency check to StaticFileProviderRW (#12570)
6e00e5842 feat: add payload witness fn (#12579)
841267d1b feat: add helpers to obtain the execution witness for a payload (#12573)
ac5976ff5 feat: implement Compact for OpTxType (#12537)
5f66fa448 chore(sdk): improve usability `TxType` trait (#12548)
56826cbdb fix: remove redundant check in bodies stage (#12569)
efa350d28 ci: exclude more crates for op tests (#12568)
305a1cee0 feat: introduce debug witness api (#12567)
72a52d5ea feat: make `StaticFileProvider` generic over `NodePrimitives` (#12565)
cd9da550d chore: extract witness recorder helper type (#12566)
44964ac17 engine-primitives: make engine-tree independent of beacon-consensus crate (#12560)
93ec6d48f net: use `BlockWithParent` in `SyncTarget::Gap` (#12514)
1aa316e4b fmt(primitives): group pub use transaction (#12561)
28478a514 primitives: rm alloy `HOLESKY_GENESIS_HASH` reexport (#12562)
7a7a6de2c primitive-traits: simplify `SealedHeader::default` (#12563)
61d32e9bf fix(rpc): remove reference to preimage bool in debug_executionWitness (#12559)
d028c1cbb refactor: don't reference `StaticFileProvider` in `static_file::Segment` (#12558)
d8af28bbf refactor: use `DBProvider` in `LatestStateProvider` (#12557)
b1729d22e feat: impl block for sealedblock (#12555)
a534db871 refactor: use `DBProvider` in `HistoricalStateProvider` (#12556)
28a5b631d chore: move gas_spent_by_transactions to traits (#12541)
870ffae90 chore: use crates directly in eth-wire (#12554)
a7bb1d1fa chore: remove constants reexport (#12549)
bd29f8256 chore: replace reth-chainspec dep with alloy chains (#12550)
b1635fcba chore(sdk): make `BlockBatchRecord` generic over receipt (#12449)
217d9f7c1 chore(sdk): Add trait bound `Compact` on `<T as FullTransaction>::Type` (#12534)
4a0bc37cb chore: rm reth testing utils dep from reth-primitives-traits (#12542)
c5d1b813e chore: add missing debugs for pool types (#12546)
77e687c28 feat: relax `BodyStage` bounds (#12539)
3154a4f66 Documentation Improvements: Grammar Corrections and Clarity Enhancements (#12545)
ff6b78a36 feat: move body writing to `BlockWriter` trait (#12538)
5c655e44f introduce standalone estimate gas type (#12344)
7bd7c37b1 feat: display warning for op-mainnet launch without pre-Bedrock state (#11765)
68a6ada46 tx-pool: add `PoolUpdateKind` for `CanonicalStateUpdate` (#12525)
457ac5f73 fix: typos in documentation files (#12528)
d50508996 tx-pool: rm useless allow deprecated (#12526)
c326708ff feat: add simple kurtosis test for OP stack (#12506)
0d850e7f0 fix: consume all payload variants (#12520)
413d65139 chore: simplify import path (#12523)
7a1698c50 chore(utils): Util function  for headers request (#12501)
001f3899f primitives: rm alloy `Header` reexport (#12515)
e6f3191c6 chore: rm cfg imports (#12518)
9e77d916e chore(sdk): improve usability tx primitive traits (#12437)
9313737db primitives: use `SealedHeader::seal` (#12507)
527767cc3 chore: remove unused trait bound for evmenv (#12505)
68e7ad6fe chore(dep): bump alloy-trie (#12511)
281c415cb chore: reorder validation items (#12503)
bf44c9724 feat: add support for `eth_signTransaction` (#12500)
03f364635 chore: use let some notation (#12494)
39392e95f chore: only issue single header request (#12496)
5c62d68dd chore: rm unused error variants (#12499)
b7e8d5aa3 chore: add SealedHeader::seal (#12497)
2f794b6b9 chore: rm unhinged attributes ordering (#12498)
1ce067b77 chore: rm direct reth-provider dep (#12492)
cef7ec80c Move CanonChainTracker to storage-api (#12491)
b0a39e8ab chore: import static file types directly (#12490)
a96dee17f chore: bump alloy 064 (#12488)
ce50370ba primitives: rm alloy `Withdrawal` reexport (#12487)
a71dd9c91 chore: introduce tuple type for pruned info (#12484)
115a20ea6 fix: deposit tx gasPrice must be 0 (#12486)
3c5668600 feat(rpc): add compression to JSON-RPC (#12352)
8221e5bd5 chore: Move`StatsReader` trait to storage-api and reexport it from old provider crate  (#12485)
b6558f6bc chore: Update Holocene timestamp for Sepolia (#12479)
988416768 chore: move standalone types to types crate (#12483)
b39957612 feat: make more network components generic over primitives (#12481)
fa5daef07 chore: Move `HistoryWriter` trait to `storage-api` and reexport it from old `provider` crate (#12480)
4a8eb7a0c chore: add DUPSORT trait const (#12477)
e6a6fc4c2 chore: only fetch deposit info for deposit tx (#12474)
0cd34f911 feat: add ovm `BlockFileCodec` (#12247)
aece53ae8 feat: make downloaders and clients generic over block parts (#12469)
3a337cd7d chore(deps): Update op-alloy to 0.6.4 in manifest (#12472)
a620d7c2f chore(deps): bump alloy to 0.6.3 (#12468)
c44edf5ce make PayloadStore operate on PayloadBuilder (#12460)
6c1833de3 chore: remove unessarcy clone (#12463)
179aa0470 test(trie): add ParallelProof unit test (#12413)
9f29107ab chore(sdk): add `NodePrimitives::TxType` (#12332)
a2e11977d chore(sdk): Add `InMemorySize` as super trait of data primitive traits (#12465)
b5f7eca72 chore(sdk): make `ExecutionOutcome` generic over receipt (#12448)
bad7a4f0c use result for `TransactionCompact::fill`. (#12170)
c261532a2 chore: move trie functions to alloy (#12438)
f38503c2b chore: move `(Full)NodePrimitives` to `reth-primitive-traits` (#12461)
5edca402b feat(op): define OpTxType (#12443)
2f8a2f0fb chore: remove unnecessary clone (#12455)
eccff7d24 chore(reth_primitives): Use trait for `size` methods in primitive types (#12201)
24b3e63ab feat: make Consensus trait generic over block parts (#12451)
11fd5aa45 chore(sdk): define new `BlockHeader` trait (#12452)
c4f10bd11 feat(spec): Holocene activation time for {OP/Base} Sepolia (#12453)
977363534 chore(sdk): make `Receipts` generic over receipt (#12447)
0014248cd [refactor] move `new_payload_v4` into EngineAPI  (#12445)
b0329ee4d chore(sdk): impl `Receipt` for `reth_primitives::Receipt` (#12446)
29b923839 [refactor] move `new_payload_v3` into EngineAPI (#12442)
cdce7ee34 chore: move `new_payload_v1` into type EngineAPI (#12430)
78e70d622 chore: move `new_payload_v2` into type EngineAPI (#12431)
5d5f44202 chore(sdk): define helper trait `FullNodePrimitives` (#12331)
56b593769 Move payload_attributes function to trait (#12427)
9ff80977b renamed OptimismHardforks to OpHardforks (#12441)
de6813093 chore(trie): rename reth-trie-parallel modules (#12444)
365f6a1f6 feat: `NetworkPrimitives` (#12435)
b893a8879 chore: fix deny (#12439)
3774100a0 chore(sdk): impl `SignedTransaction` for `TransactionSigned` (#12187)
7110397f8 chore(deps): weekly `cargo update` (#12433)
23ec0af51 chore(sdk): auto trait bounds `NodePrimitives` (#12398)
c1b4fd84c refactor: remove trait bound on `TxType` (#12379)
7eaa0a8f9 chore: add PayloadBuilder to RpcNodeCore (#12428)
1b1f0f3ef chore: add Sync to PayloadBuilder (#12425)
59ebebaa6 primitives: rm alloy `Withdrawals` reexport (#12421)
ae257f568 chore: restrict payload builder error type (#12423)
a299f501c chore(sdk): payload builder AT on `NodeComponents` and `FullNodeComponents` (#11529)
430fe0de1 chore(sdk): Add `NodePrimitives::Transaction` and `NodePrimitives::SignedTx` (#12330)
08451ef27 chore: rm unused file (#12420)
d2f494bd8 primitives: replace primitive `Withdrawals` with alloy (#12119)
b5fce6173 ecies: use align_num value (#12139)
7a65cce1e chore: rm fqs for NodeCore (#12418)
f86efcc80 chore: clippy happy (#12419)
5cfe9a987 renamed OptimismHardfork to OpHardfork (#12410)
fc484b793 test: fix test vectors (#12411)
ba4f169f8 chore(db): add log for read transaciton monitor sleep time (#12408)
f03b76203 feat: introduce ParallelProof (#12403)
0da914eae chore: enable `dbg_macro` lint (#12409)
86230d996 chore: include path in panic (#12407)
74d7fe307 feat(rpc): optimize block validation with state caching (#12299)
32ebb181c chore: rm duplicated cfg (#12406)
bce703115 feat: allow generic values in `tables!` macro (#12400)
02d2593b2 feat(transaction-pool): chaining & static txs for best transactions trait (#12320)
9f6f63d45 CLI parameter to specify the broadcast channel capacity of PendingPool (#12388)
462540fa3 fix: pending transaction ordering (#12382)
f373efe01 refactor: phase out alloy-rpc-types usage (#12395)
c5ab4243e chore: remove redundant words in comment (#12394)
87f328f95 replace BuilderBlockValidationRequestV3 with alloy type (#12396)
c7b6a3511 feat: bump alloy (#12391)
eb7bb08b5 fix: remove independent tx from all (#12387)
dbe8c83b4 renamed OptimismInvalidTransactionError to OpInvalidTransactionError (#12384)
d19032fca chore: remove auto-seal consensus (#12385)
29da7d744 fix: `eth_getProof` response (#12370)
d0baf926b chore: improve deps for payload prims (#12374)
e911fe9ff renamed OptimismBlockExecutionError to OpBlockExecutionError (#12383)
b1642f966 feat(payload): add support for stack of payload builders (#11004)
cf095a753 chore: reorder super (#12380)
190a1d8bb feat(trie): reveal storage slots and calculate storage root in sparse trie (#12145)
37e1f7704 chore: remove unused deconstruction (#12377)
9596b1c08 chore: rm reth-provider dep (#12376)
764371d24 test(eth-engine): add unit tests for `payload_id` method (#12295)
473e172ac chore: change "Reporting a Vulnerability" to "Report a Vulnerability" (#12372)
cf72b6f38 chore: move helper methods from `DatabaseProvider` to `DBProvider` as defaults (#12367)
eab1a7257 perf(`OpPayloadBuilderCtx`): reuse `Evm` between txs (#12369)
581a2f1d4 refactor(rpc): unify system caller invocations (#12360)
f0a1f919f New panel for new_payload_forkchoice_updated_time_diff metric (#12363)
581cef330 feat(rpc/admin): return deposit_contract_address for the admin_NodeInfo RPC (#12362)
6d05788de perf(`default_ethereum_payload`): reuse `Evm` between txs (#12365)
037dffeb1 perf(`OpBuiltPayload`): `Arc` `SealedBlock` (#12361)
d31e1d601 chore(sdk): Add `NodePrimitives::Receipt` (#12357)
29a9e9779 feat: add `PrimitiveSignature` to `test-vectors compact` tests (#12366)
8e8a1a827 renamed OptimismPayloadBuilderError to OpPayloadBuilderError (#12364)
2d945292a renamed OptimismEngineValidatorBuilder to OpEngineValidatorBuilder (#12359)
302ed291e perf(`EthBuiltPayload`): `Arc` `SealedBlock` (#12351)
fe2b02828 feat: use 1559 functions directly (#12356)
2c5ba732b feat(engine): integrate executor with StateRootTask (#12335)
e084bed08 renamed OptimismAddOns to OpAddOns (#12348)
dc0a6007e fix(pool-args): `saturating_mul` max sizes to avoid overflow (#12350)
c2e8e2f4f Add `queued_outgoing_messages` panel for grafana (#12306)
38fdc93a1 feat: bump alloy (#12215)
12b063748 refactor(trie): small refactor in `HashedPostState::from_reverts` (#12319)
b5f8c7209 chore: misc trait bounds (#12347)
660ca389e chore(sdk): define `FullSignedTx` trait (#12327)
d8edf9c80 chore(sdk): define `FullBlock` trait (#12326)
098fa7f61 feat(engine): use execute_with_state_hook in ExecutorMetrics (#12316)
4048117bc Track time diff between `new_payload` and FCU (#12245)
4bac1530d feat: add gas averages over time into grafana (#12237)
8ec3af65b test(tokio-util): add unit tests for `RateLimit` (#12297)
f1ac9b87b refactor(rpc): simplifications with `DatabaseRef` calls (#12294)
1a091a764 fix: allow SOURCE_DATE_EPOCH to be overridable (#12342)
e34a88d2c renamed OptimismNode to OpNode (#12338)
0c7700f2c feat(payload) : optimize new payload job by fetching only header hash instead of block (#12343)
3f02e18dc fix: add dev feature in error message to generate test vectors (#12084)
6ddb3eac9 feat: mev_simBundle (#12218)
ab037756e feat: make it configurable how txs are yielded (#12337)
39a667bbf feat: graceful incoming connection closing (#12282)
0e8320365 primitives: rm alloy `BlobTransactionSidecar` reexport (#12310)
5af551782 feat: restructure op builder (#12229)
15c230bac primitives: rm alloy `BlobTransactionValidationError` reexport (#12311)
5c2e9417f chore: 1.1.1 (#12334)
441ddbf08 primitives: rm more alloy block reexports (#12308)
556995fc5 chore: limit initial status size (#12324)
4222cbe68 chore: switch op to new engine (#12329)
e3173407e renamed OptimismEngineValidator to OpEngineValidator (#12312)
967cbc4e9 primitives: rm alloy `Signature` reexport (#12313)
d5f010360 primitives: rm alloy `BlockNumHash` reexport (#12304)
3fe22343f feat(engine): add StateRootTask skeleton (#12305)
0475af8bd primitives: rm alloy `BlockId` reexport (#12303)
566f2b495 primitives: rm alloy `BlockHashOrNumber` reexport (#12302)
56b76871e primitives: rm alloy `Withdrawal` reexport (#12296)
981404160 primitives: rm useless `OP_` constants (#12298)
bb03578ee chore: Move FillTxEnv::fill_tx_env into SignedTransaction trait and implement in TransactionSigned (#12186)
21d911abb docs: add debug.etherscan in the book (#12293)
61f19ab2d  Refactor: use fully-qualified paths in Compact derives(Deon Branch) (#12279)
4e3b32c5a feat: add more decimals to database growth (#12288)
20d3b2190 renamed OptimismEngineTypes to OpEngineTypes (#12285)
e167cc9b0 chore(deps): weekly `cargo update` (#12289)
e374e4bfe renamed OptimismEvmConfig to OpEvmConfig (#12284)
adff5a942 feat: remove AnyNetwork usage (#12280)
af38a1a2d renamed OptimismPayloadTypes to OpPayloadTypes (#12281)
2aba40b17 feat: add `CachedReads::extend` (#12277)
f2de55d8f chore: make some fields owned (#12274)
c74d2a06f chore(ci): unpin kurtosis (#12272)
dbdf60ba1 renamed OptimismBeaconConsensus to OpBeaconConsensus (#12271)
9593f4d08 renamed OptimismGenesisInfo to OpGenesisInfo (#12270)
962fa6685 Use Arc<ChainSpec> in SystemCaller (#12268)
d7ead13bd fix: clippy lints (#12269)
d8bbd36b2 feat: flashbots_validateBuilderSubmissionV4 (#12243)
c72f11cc8 renamed OptimismConsensusBuilder to OpConsensusBuilder (#12265)
a911104fe test: make cargo t compile in db-models (#12263)
fdf10a7dc test: make cargo t compile in codecs (#12261)
166a2346d renamed OptimismExecutorBuilder to OpExecutorBuilder (#12258)
969ca3e63 fix: check hashed state for loading `TriePrefixSets::destroyed_accounts` (#12235)
bc69f6348 feat: add asref impls (#12257)
41c4bab0f chore: use deref directly (#12256)
d81000127 renamed OptimismNetworkBuilder to OpNetworkBuilder (#12255)
eaac2aa2c chore: simplify cached db usage (#12242)
d5a3a3a84 test(chain-state): add unit tests for `CanonStateNotification` (#12110)
c1a68f23c refactor: move `payload/builder/src/database.rs` to `revm/src/cached.rs`  (#12252)
f6bd11c71 feature: transaction's input truncate function  (#12236)
f93dbf54c Remove redundant `SignedTransaction::Signature` (#12185)
927be855f feat: track buffered outgoing messages (#12220)
f52186cc4 db-api: opt StorageShardedKey encode, decode (#12143)
c6b740801 chore: apply same member order (#12253)
2758a560c txpool: added a helper to filter pending txns by predicate (#12204)
249c600dd rpc: add `rename` method in `TransportRpcModules` (#12239)
f0cef9dc5 revm: add `Database` `Either` helper type (#12240)
39bc8ce81 refactor(revm): simplify `Database` impl for `StateProviderDatabase` (#12241)
8d31b6524 chore: clippy happy (#12248)
921d1cc4b renamed OptimismPoolBuilder to OpPoolBuilder (#12246)
bd8c4eceb replace DisplayHardforks with Box<dyn Display> (#12219)
d020b41f6 feat: `flashbots_validateBuilderSubmissionV3` (#12168)
998b3b3d3 renamed OptimismPayloadBuilder to OpPayloadBuilder (#12234)
d555f9ef3 chore(book): fix engine api typo (#12231)
219def958 chore(ci): pin kurtosis to working version (#12225)
460e26cc5 renamed OptimismBuiltPayload to OpBuiltPayload (#12227)
1f1dcc950 chore: simplify SystemCaller setup (#12223)
76c5aef91 fix(trie): move to sibling on invalid tree mask (#12193)
41044a260 Apply beacon system call to trace_block (#12030)
66cc61912 chore: rm deprecated txpool fn (#12198)
9659717e8 renamed OptimismPayloadBuilderAttributes to OpPayloadBuilderAttributes (#12213)
c19af293a feat: add rlp support for `EthVersion` (#12221)
e5fc04813 docs: add context truncated input (#12207)
b42b18921 Reth primitives traits tx type (#11720)
09c666d67 test: add test case for BestTransactions (#12209)
0c3970495 feat: add missing is active at timestamp fns (#12206)
b3e832706 chore: rename v1 type (#12205)
755fac08d Wrap sidecar in arcs (#11554)
bb8da983b feat: add is_ethereum trait fn (#12197)
ff9a42ae8 feat(eth69): support for ETH69 (#12158)
93a9b8a21 feat: Eip1559 params in extradata (#11887)
2778ba3d5 tx-pool: fix `ExceedsGasLimit` error message order (#12191)
6e794ee67 fix(ecies): bound initial header body size (#12172)
367b4ed18 chore(meta): update SECURITY.md (#12190)
129f3ba91 feat: introduce StateCommitment type (#11842)
734c78fdf feat(discv4): neighbors packet logging (#12042)
82784183e feat: transaction trait (#11877)
2e750f0ca test(prune): add unit tests for `ReceiptsLogPruneConfig` (#11916)
1006ce78c feat(provider): use `NodeTypes` on `DatabaseProvider` instead (#12166)
58f24e005 chore: remove generate sidecar fn (#12167)
e92ecfbc2 feat: Introduce trait for OpTransaction  (#11745)
f545877bb Revert "Revert "feat: add geometry to database args"" (#12165)
52328422a feat(storage): pass changesets to unwind methods (#7879)
6f3600dc3 Revert "feat: add geometry to database args" (#12164)
4a8799f98 consensus: add unit tests for `ForkchoiceStateTracker` and `ForkchoiceStateHash` (#12077)
0f9ba64e9 feat: add geometry to database args (#11828)
1653877ed chore(ci): try to read all vectors on `compact-codec` before exiting in error (#12160)
3c6077812 storage: `into_iter` with `self` by value (#12115)
dd18af1f1 feat: without-evm cli option in reth (#12134)
2dbbd152c chore(provider): remove unused `BlockExecutionReader` trait (#12156)
7880d4ddb refactor: change `PayloadConfig` to use parent header instead of parent block (#12159)
b48fa68f6 fix(ecies): ecies typo (#12155)
cc2a33cfc feat: rate limit incoming ips (#12153)
fbe04625b test: use port0 in tests (#12154)
0297b8f69 fix: use net::discv5 for reth's discv5 tracing target namespace (reverts #12045) (#12151)
462157880 dev: track invalid transactions by sender in pool (#12138)
367eb4417 chore: remove one unwrap (#12152)
05ee75f32 fix: restrict concurrent incoming connections (#12150)
ddc9bda31 fix(op): fix payload id calculation (#11730)
37d964360 chore(rpc): remove redundant `LoadState::cache` (#12147)
28f8c47dc chore(rpc): remove redundant `LoadTransaction::cache` (#12148)
3d62bfde1 chore(rpc): add super trait `RpcNodeCoreExt` to `LoadReceipt` (#12149)
473026f40 chore(rpc): remove redundant `LoadFee::cache` (#12146)
0733da9e1 chore(rpc): relax `FullNodeComponents` trait bound on `OpEthApi` to `RpcNodeCore` (#12142)
06d73eec8 chore(rpc): inline trait methods of `RpcNodeCore` impl (#12144)
b36b021aa chore(rpc): define trait `RpcNodeCoreExt` and replace `LoadBlock::cache` (#12141)
127627756 test(trie): use proptest to generate random values (#12140)
3f4634ccb chore: add version to PayloadBuilderAttributes::try_new (#12137)
af5ae5a79 perf(trie): reduce allocations in sparse trie rlp node calculation (#12092)
380e23725 refactor: replace receipt envelope encoded with trait (#11742)
e446feb11 chore(deps): weekly `cargo update` (#12108)
1f1c68d65 perf(trie): cache prefix set lookups in sparse trie (#12088)
72096221d refactor(chainspec): refac and improved doc for `last_block_fork_before_merge_or_timestamp` (#12114)
719ca3a68 chain-spec: use alloy `MAINNET_DEPOSIT_CONTRACT_ADDRESS` constant (#12113)
d74730af3 feat: add a wrapper for `BestTransactions` prioritizing given senders (#12123)
87a615fe2 fix(ci): remove renaming from `compact-codec` (#12133)
b5c0a4636 feat: add `pending|queued` txs pool helpers  (#12128)
0d07d27f3 feat: Add version to `BeaconEngineMessage` FCU (#12089)
1b0f625f1 perf(trie): collect only changed sparse nodes at a depth (#12093)
268090e87 bench(trie): `RevealedSparseTrie::update_rlp_node_level` (#12046)
8f5fd1d70 chore(rpc): remove redundant `EthTransactions::provider` (#12121)
77e574812 chore(rpc): remove redundant `LoadFee::provider` (#12122)
e4bd13534 fix(ci): remove import path from type names on `compact-codec`  (#12125)
0f86287b6 fix(trie): sparse trie walk should be done in a sorted manner (#12087)
fbdebe08e chain-state: fix typo (#12112)
8605d04a0 refactor: rm re-exports of alloy eip 4844 constants (#12120)
1c36b7161 docs: small fix in payload doc (#12116)
0c516091b TransactionsHandle propagation commands should not adhere to caching (#12079)
b7b3f8149 chore(rpc): remove redundant `Trace::evm_config` (#12102)
131cc5175 chore(rpc): remove redundant `EthBlocks::provider` (#12109)
768404c59 chore(rpc): remove redundant trait bounds in eth api (#12105)
e158369a6 chore(rpc): remove redundant trait method `LoadBlock::provider` (#12100)
fae36bd25 refactor(storage): small refactor (#12106)
8eb174228 refactor(tx-pool): small refactor (#12107)
988c5ee4c chore(rpc): Add super trait `RpcNodeCore` to `LoadPendingBlock` (#12098)
a98dc3973 chore(rpc): simplify trait bounds on `EthApiSpec` impl (#12101)
923f4ffa9 chore: only check for better payload if tx_pool (#12097)
ab07fcfb1 chore(op): simplify blob fields in newly built block header (#12035)
1bdf429af Remove trait method `Call::evm_config` (#12095)
b25740806 Fix readonly check in libmdbx-rs (#12096)
f616de6d9 feat(rpc): Start to implement flashbots_validateBuilderSubmissionV3 (#12061)
09ebecffc prune: add unit tests for `PruneInput` `get_next_tx_num_range` (#12081)
d5f5c0f11 chore(rpc): set `RpcNodeCore` as supertrait for `LoadState` (#12094)
019f34738 chore: move optimism execution types test to optimism crate (#12026)
a06c3af83 chore(rpc): Remove provider and network trait methods from `EthApiSpec` (#12050)
44e4c4780 chore(sdk): add helper trait to node API to simplify type definition (#10616)
ac329bfce perf: improve debug_traceBlock performance (#11979)
cecdf611e feat: `map_chainspec` for `NodeConfig` (#12068)
e0ad59834 dev: add `requests` to `EthBuiltPayload` (#12072)
fa59bd512 fix: correctly detect first sync on headers stage (#12085)
a349919b5 docs: remove deleted op-sync workflow from docs (#12086)
16b64d828 feat(make): add docs lint  (#12082)
d91cacd14 feat(rpc): rpc rate limiter impl (#11952)
e676d71d0 feat: Freeze payload if final (#12078)
5568cca84 primitive-traits: add unit tests for `Account` (#12048)
e93e37385 making `command` public (#12074)
09506aa13 chore: rm TransactionFilter (#12066)
07bda5d45 chore: EthBuiltPayload touchups (#12067)
26d1b1524 fix: ignore discovered peers with tcp port 0 (#12065)
58441c158 fix: fail on unwind during `reth import` (#12062)
a87d654c5 feat: introduce iterator for default_ethereum_payload function (#11978)
2ae7ee51e fix: increase `arbitrary::Unstructured` buffer size if `NotEnoughData` is thrown (#12069)
269d705c7 test: ensure we acquire file lock in tests (#12064)
5a5ec73c3 Change return type of ReceiptBuilder (#11987)
d9889787a feat: improve e2e tests API + feeHistory test (#12058)
c3182f2a6 primitives-traits: small refac for `IntegerList` and more doc (#12049)
674616cab chore: change `net::discv5` log target to `discv5` (#12045)
965dabaca chore: add missing helpers to BestTransactions (#12044)
ea4fb2606 ci: enable `compact-codec` job (#12056)
777417ad8 feat: add `reth test-vectors compact --write|--read` (#11954)
ba78e4393 fix(exex): relax `ExExContext` trait bounds (#12055)
2fba3c027 feat: `ExExContext`'s dynamic config (#11983)
e74f185d9 feat: add BestTransactions::filter_transactions (#12041)
53c547663 chore(primitive-traits): rm `EIP1559_` constants (#12036)
11149d295 feat(payload builder): transaction pool filter (#10542)
bea6e278d primitive-traits: use alloy `MIN_PROTOCOL_BASE_FEE` constant (#12037)
8b317f206 fix: exclude withdrawals from uncle block (#12038)
5e4da59b3 feat: Add more complex E2E test (#12005)
2d83f2048 chore: reuse alloy-primitives logs bloom (#12031)
d50da7fcd primitives-traits: use alloy `SEPOLIA_GENESIS_HASH` constant (#12024)
ebd1ed9fb feat(exex): notifications trait (#11972)
8bfb7f9ce primitive-traits: use alloy `BEACON_NONCE` constant (#12029)
bbeb799dc primitive-traits: rm `ALLOWED_FUTURE_BLOCK_TIME_SECONDS` constant (#12028)
84a30b040 primitive-traits: use alloy `INITIAL_BASE_FEE` constant (#12022)
0df314835 feat(payload): introduce payload freezing for predetermined blocks (#11790)
e04d1b4b4 perf(net): P2P sink, revert pull/11658 (#11712)
fcca8b152 refactor: BlockchainTestCase::run rm repetitive convert ForkSpec to ChainSpec (#11896)
d7f08cd87 chore: remove some clones (#12008)
7a06298cf chore(rpc): make `TransactionCompat::fill` stateful (#11732)
082f2cd23 refactor: use op-alloy deposit signature (#12016)
40935321e chore(cli): engine cli options conflict with legacy (#11993)
f2195026c test: more unit tests for `TreeState` (#11687)
044e2d6ae refactor(primitive-traits): use alloy `EPOCH_SLOTS` constant (#12018)
565e4b400 refactor(primitive-traits): use alloy `ETHEREUM_BLOCK_GAS_LIMIT` constant (#12019)
2fb63b049 chore: dont log if nothing to evict (#12015)
d6f5a89a2 test: tests for empty block bodies (#12013)
57a21fcb9 chore: increase max proof window (#12001)
b73261936 chore(trie): prefix set doc comment clarification (#12010)
f3853e71b test(trie): get sparse trie nodes at depth (#12007)
bf612bee5 chore(hive): update expected failures (#12006)
89eb73f3d refactor: replace extra fields with `ExecutionPayloadSidecar` in engine (#11901)
889a7e0b9 primitive-traits: use alloy `_DURATION` constants (#11960)
b7167a9dd test(tx-pool): add unit test for `GetPooledTransactionLimit` (#11975)
fa30a4f75 feat: add osaka hardfork (#11984)
e98a050dc fix(trie): account for existing nodes when revealing a node (#11836)
8a40d5c6a feat(providers): add `AtomicBlockchainProvider` (#11705)
ab407e744 chore: bump alloy 054 (#12000)
55d98bbc6 fix: check failed find nodes requests before sending new ones (#11997)
252cdf7f3 storage: add unit tests for `StorageRevertsIter` (#11999)
5e0ba4104 tx-pool: migrate `ensure_max_init_code_size` to `PoolTransaction` trait (#11976)
386379efd test(tokio-util): add unit tests for `EventSender` (#11980)
cf4e77454 chore: `Ethereum` -> `Optimism` in comment of `optimism_payload` (#11998)
ff04de380 chore: bump alloy-eip7702 (#11986)
7fd28df2b fix: re-establish bond on ping (#11989)
ee1260a1d refactor(tx-pool): move `is_underpriced` to `ValidPoolTransaction` impl (#11938)
6e5176221 fix: ping oldest more often (#11988)
74eb37523 fix: correctly poll `BasicBlockDownloader` (#11981)
d68dca1a2 chore: fix cargo feature warning (#11900)
527d344dd feat: Add reproducible build profile (#10459)
8bfbd9779 feat(discv4): add soft_remove_node (#11970)
22171d27b chore: unpin serde (#11977)
28c61c15b fix: invoke prometheus recorder on op-reth Cli::run (#11982)
3174bd5c9 chore: bump aquamarine (#11965)
e70b11242 feat(trie): update sparse trie hashes below level (#11969)
468ac0d43 chore: log enode (#11974)
8b1dfcca3 test(trie): proptest <-> alloy maps integration (#11962)
b20a27155 chore(tree): improved debug logging for block insertion (#11958)
b3015c75b fix(trie): removing a blinded leaf should result in an error (#11869)
60337d961 feat(rpc): Add flags to disable read tx timeout (#11856)
df57aedba chore: bump discv5 (#11966)
90aaad828 opt: reduce allocs for `parse_deposits_from_receipts` (#11949)
cab76f208 fix(engine): run pruner after saving blocks (#11927)
e8205936d primitive-traits: rm unused `SELECTOR_LEN` (#11959)
75b39bc26 chore: run clippy locked (#11964)
0df7f65f3 chore: serde 1.0.210 (#11963)
4a68c5e2d refactor(rpc): small refactor in `block_with_senders` (#11950)
1342747c9 fix: spawn network manager on test exex ctx (#11907)
e52f64764 chore(primitives): use alloy eth conversion constants (#11892)
2973f0c3e chore(deps): bump dawidd6/action-homebrew-bump-formula from 3 to 4 (#11951)
51594c9a6 chore: relax payload traits (#11947)
f2ac54766 Add custom beacon withdrawals example (#9497)
88a38de4d chore(rpc): relax some types (#11946)
cc895e705 fix: always accept transactions with current nonce (#11931)
387b0f8b3 refactor(tx-pool): small refactor for `contains_conflicting_transaction` (#11935)
4d3b35dbd test(tx-pool): add unit test for `remove_sender_count` (#11939)
1f4ca32e3 refactor(primitives-traits): rm useless trait bounds for `Receipt` (#11942)
7f47ef0fd chore: spawn eth_calls as blocking tasks (#11944)
bddd3202e test(trie): narrow the range of keys for sparse trie fuzz (#11937)
d9d184d49 feat: default impl for some BlockExecutionStrategy methods (#11941)
3f2a41bd3 chore: rm redundant trait bound (#11940)
20dc0c7da some fmt (#11933)
7119bb1fe chore: introduce ExecuteOutput (#11929)
f25cceb9f perf: use Vec::with_capacity and reserve_exact (#11904)
aba4991d0 docs: note about type changes (#11925)
bdad91b70 docs: update grafana docs (#11908)
fbb27ebda chore(ci): update excluded crates in wasm checker (#11915)
ddc82e264 test(static-file): add unit tests for `HighestStaticFiles` implementation (#11912)
2e8a8fe6f doc(storage): add missing documentation for `nippy-jar` (#11913)
0270128d4 refactor(txpool): small refactor in `DiskFileBlobStoreInner` `get_exact` (#11911)
a188597a3 ci: merge sync jobs (#11909)
5fca07ca8 fix: impl BlockExecutionStrategy for OpExecutionStrategy generic over EvmConfig (#11910)
e9c09723e docs(blockchain-tree): rm comment (#11903)
de07436f0 chore(deps): weekly `cargo update` (#11902)
453ba2d9a feat: switch to composable executor for Optimism (#11846)
422ab1735 feat: use next free nonce in eth_sendTransaction (#11873)
cf4a4454e fix: feature propagation (#11888)
6c026daf9 docs: explain how to add metrics to grafana (#11875)
cd828c06d feat: switch to composable executor for Ethereum (#11838)
d0ac83394 perf: avoid cloning in payload builder (#11899)
e2ecb6224 chore: remove unused deps (#11898)
f8969cbbc docs: add hardfork checklist (#11897)
a78de201b Refactor of state_change functionality (#11878)
c80301208 chore: use `Requests` instead of `Vec<Bytes>` (#11895)
1efa764b3 chore(engine): rename enveloped associated types to envelope (#11812)
1a1aa2f8c feat: add map_pool fn (#11890)
ddc5ac3fa refactor(rpc): small refactor in `trace_filter` (#11894)
3793b907e chore: better start finish persisted block logs (#11893)
3bd695ee6 feat: update el requests for devnet 4 (#11865)
2ae93682b refactor: move `EngineValidator` setup to `RpcAddOns` (#11850)
da5079d11 test(txpool): add unit test for `BlobStoreCanonTracker` (#11885)
2f559c62b primitives: use alloy `MAXIMUM_EXTRA_DATA_SIZE` constant (#11881)
a6daafc6a refactor(txpool): small refactor for `InMemoryBlobStore` impl (#11886)
a4126b3a5 feat: tasks executor metrics in grafana (#11815)
655fc1a55 rpc: add unit tests for `RpcModuleSelection` (#11883)
eee5e0d41 bump rust to 1.82 (#11876)
a908f9777 chore: simplify update fn (#11880)
587c91f1c Optimize Sender Recovery Process (#11385)
9c8f5d89d chore: rm v2 get bodies functions (#11870)
8d32fd788 feat: allow awaiting payload in progress (#11823)
cfd066c07 chore(sdk): `SignedTransaction` abstraction (#11432)
cb604826b chore(sdk): Define `NodePrimitives::Block` (#11399)
5859f93c5 primitives: use alloy `EMPTY_` constants (#11852)
0c70f6bd3 primitives: use alloy `KECCAK_EMPTY` constant (#11851)
dfcaad460 chore: remove some cfg imports (#11864)
62e7625b1 primitives: use alloy `*_TX_TYPE_ID` constants (#11853)
f3c0dda0d perf: use existing block hash functions (#11858)
96ad6d5bd chore: rm unused reth-revm c-kzg feature (#11860)
bc43613be chore: disable SC2034 in check_wasm.sh (#11854)
b57cbfd21 primitives: use alloy `DEV_GENESIS_HASH` constant (#11849)
8eb5d4f04 Remove unsafe from impl Compact for ClientVersion (#11318)
a6c8bda02 primitives: use alloy `MAINNET_GENESIS_HASH` constant (#11848)
52848a352 fix: check for prague timestmap on pool init (#11847)
76edc3882 fix(rpc): apply beacon root contract call in debug_traceTransaction (#11845)
0a1473b6e perf(blockchain-tree:) use `Vec::reserve_exact` (#11839)
1aa3ce1a5 feat(cli): add ChainSpecParser type to rethCli (#11772)
9db28d91a chore(sdk): Impl `alloy_consensus::Transaction` for `TransactionSigned` (#11843)
2131c87ed refactor: rm redundant clones in tests (#11840)
6ba4bbe4a chore: make op-evm compile with no-std (#11834)
52407b18d chore(sdk): incorporate block module into `reth-primitives-traits` (#11835)
3bc3e7169 primitives: use `EMPTY_OMMER_ROOT_HASH` const when possible (#11833)
b77265e61 reth-bench: rm redundant clone (#11829)
f8902b59f chore: pedantic style change (#11832)
b47ce92d9 replace ChainSpec to use EthereumHardforks trait (#11824)
4254b80a8 bench(trie): avoid unnecessary clones in hash builder repeated bench (#11827)
bac244ae9 feat(trie): sparse trie leaf removal (#11752)
491f154c3 primitives-traits: rm redundant definitions of `EMPTY_OMMER_ROOT_HASH` (#11820)
63a75fdd9 fix(trie): intermediate trie node hashes (#11826)
e3e83b7e7 docs(trie): revealed sparse trie invariants (#11825)
e828b34ed chore: rm features from test utils (#11816)
b57a5607c test: make provider compile with cargo t (#11817)
1b97b1d94 fix(staged-sync): prevent `StaticFileProducer` from running with an unwinded target on legacy engine (#11717)
24287e856 primitives: use `EMPTY_ROOT_HASH` when possible (#11822)
025cb3b70 primitive-traits: rm redundant `EMPTY_ROOT_HASH` definition (#11811)
5a82f20a2 chore: rm 1 usage of optimism feature (#11813)
d2ca8f3a2 fix: update block interval properly (#11546)
82862fabd primitives: rm redundant functions for `Transaction` (#11747)
b1cc16809 feat(cli): make pruning block interval an option (#11810)
a2249b0b0 fix(exex): filter only WAL files when walking the directory (#11802)
756a47e4e chore: add `shekhirin` to trie code owners (#11809)
dcaa43215 chore(trie): use `RlpNode::as_hash` (#11808)
e5cd026e0 deps: `alloy-trie@0.7.2` (#11807)
099987fc3 chore(cli): add `default_client_version` to rethCli (#11773)
12cab204b fix(witness): branch node children decoding (#11599)
6b2ec42e4 docs: clarify max rpc tracing requests (#11796)
281307fe4 chore(ci): update list of crates excluded from wasm checks (#11787)
cb7fd084a chore: remove &self from update_estimated_gas_range (#11799)
6ad1275e6 chore(sdk): move block traits into `reth-primitives-traits` (#11780)
c76d31944 chore: rm optimism feature from reth-revm (#11797)
6f0411087 chore: rename SenderId::into_id to SenderId::into_transaction_id (#11793)
eec861fe9 chore: rm unused optimism feature (#11794)
87399ae2c chore: rename executor and provider Generic -> Basic (#11788)
248b6b590 fix: task executor metrics (#11738)
d421931b7 trie: simplify usage of `HashedStorage` with default (#11662)
f49a4ae18 feat: add OpExecutionStrategy (#11761)
e454b2402 chore: use highest known nonce (#11784)
0f903b1e2 feat: add EthExecutionStrategy (#11584)
323d8edfb feat: implement batch executor (#11753)
a14a9fd8b chore: add chain_id shortcut (#11782)
a6358d2e6 feat(provider): add `*StateProviderRef` creation methods to `DatabaseProvider` (#11776)
183cea457 chore(provider): move `state_provider_from_state` to `BlockState` impl (#11777)
b8147708a feat(txpool): function to return the next free nonce (#11744)
3f3a7ef02 unify  &Option<T> to Option<&T> (#11755)
d4be773f5 chore: move tests in reth_execution_types::chain to reth-evm-optimism (#11115)
78415ff7c chore: include hash in trace (#11762)
4144d6ea2 chore: add get_database_args (#11766)
7f9276065 fix: `estimateGas` edge case (#11764)
7b1b1fcb3 chore(stage test): use with_capacity (#11759)
77a382f59 chore: allow missing const (#11750)
04f5b5346 chore: touchups PayloadOrAttributes (#11749)
5aceb3e11 primitives: rm redundant `chain_id` function for Transaction (#11751)
6fb271036 feat: move RPC launch to add-ons (#11532)
a235f7214 feat(trie): sparse trie (#11741)
c4d7b5918 perf(rpc): add optional block argument to `trace_block_until_with_inspector` (#11631)
161605313 feat: sketch composable executor (#11447)
3cb4bf266 chore(deps): bump alloy-trie 0.7 (#11362)
39f0ab411 chore: turn off `reth-revm` default features (#10215)
5e386130d primitives: impl `alloy_consensus::Transaction` for `Transaction` (#11727)
e92fbaea3 chore(ci): do not run hive on legacy engine (#11733)
0b6397217 chore: rm optimism feature from chainspec (#11722)
3ab1f9559 feat: replace once_cell with std (#11694)
2a8624564 feat: extend txpool remove txs utility (#11702)
e0a26ac9a feat: add node builder helpers (#11731)
cf38ff540 primitive: introduce reth `Transaction` trait (#11728)
0dbc37463 feat(ci): add workflow for git sha container builds (#11721)
9f9de0fab fix(rpc/trace): return empty if after >= traces (#11715)
600a39457 feat: update SystemCaller (#11718)
f684dd4c4 chore(clippy): enable if_then_some_else_none lint (#11679)
523bfb9c8 feat: refactor and integrate local engine into `EngineNodeLauncher` (#11703)
c05a90054 perf(rpc): use `Arc<SealedBlockWithSenders>` on cache and rpc (#11635)
9c8360e53 fix(net): remove outdated debug assert `TransactionFetcher` (#11713)
a087b52dc perf(rpc): do not clone filter matcher on every block tracing (#11714)
b63710189 docs: move ExEx book examples (#11616)
7c2c3a6a5 fix: respect --debug.terminate --debug.max-block (#11710)
d2233fcc0 feat: new `reth-trie-sparse` crate (#11707)
a129f62aa feat: reset pruned numbers on stage drop (#11491)
482468579 chore(sdk): define trait `Receipt` (#11643)
a049dff0b tests(node-builder): basic exex test update for apply function (#11695)
176496189 Revert "chore(stages): reduce the progress logging " (#11698)
661b260f6 chore(deps): weekly `cargo update` (#11696)
6d8d32712 chore: set request budget to 2 (#11699)
ffb78b3dc refactor(tree): small refac for `BlockBuffer` (#11691)
c03399d1e chore(ci): unpin clippy (#11697)
67c572507 chore(clippy): fix the very complex type used (#11689)
53bd6872d feat(op): opchainspec builder (#11630)
c47621754 feat: add helper function to modify node builder (#11682)
86c6ba5d8 chore(forkid): simplify and add comment of the set_head_priv (#11686)
de736a53c chore(stages): reduce the progress logging  (#11653)
9ec4c0002 chore: we dont need sat here (#11678)
b365bd52f docs: complete sentence (#11685)
db1d64b1c test: more unit tests for `HashedPostState` (#11663)
8ebf10b4a fix: only +1 on the pool nonce (#11680)
5c84daba1 fix: dont remove txs manually (#11683)
43fe46f0d fix(net): decrease budget for header reqs to process before yielding thread (#11636)
75dda1c39 fix: always poll new pool imports (#11675)
5e1bd0494 chore(examples): fix db-access example with RO provider (#11670)
f2440c763 test: add unit tests for `ChainInfoTracker` (#11642)
b51299b86 refac: small refactor in `BlockchainProvider2` (#11660)
160e4b2ce tx-pool: simplify `FinalizedBlockTracker` update logic (#11664)
bca11aa2d clippy: add `from_iter_instead_of_collect` warn (#11666)
d8b7f6014 fix(rpc): add missing codes for witness (#11673)
0affb976a transaction-pool:rm redundance clone (#11667)
ad2a2f210 chore(test): use collect void realloc (#11669)
6a56ae75b fix(docs): remove ci link (#11665)
c29c1f5fa chore(net): log p2p stream flush error (#11659)
6d3aa5a0d Revert "fix(net): batch `P2PStream` sends" (#11658)
c4411991e feat: add override for additional_validation_tasks (#11655)
8fc703cf8 chore(ci): remove assertoor workflow (#11656)
ad485277d feat: propagate helper (#11654)
cb123084b docs: `LoadFee::eip1559_fees` returns base fee, not max fee per gas (#11652)
1ba631ba9 feat: store safe block num as well (#11648)
250785f83 chore: preempt single block downloading (#11647)
fca1cd818 fix: don't unwrap missing requests (#11646)
1d2c6d5ad chore(rpc): don't recover sender if we have it (#11645)
d027b7b93 feat(bin): make experimental engine default (#11612)
58bac0ee3 chore: release 1.1.0 (#11640)
456d50779 feat(ci): move book clippy and tests to matrix (#11618)
90cb3629a feat(exex): commit only notifications with unfinalized blocks to WAL (#11638)
8a1183027 feat(ci): add Kurtosis workflow (#11615)
01f382b73 docs: clarify op-mainnet --debug.tip (#11634)
47c3a481d Broadcast external IP from NAT in enode record (#10274)
b50e710f8 Remove duplicate EngineTypes comment (#11624)
68f38210e feat(trie): noop hashed cursors (#11627)
e9a436ae9 chore(trie): make initialization of in-memory trie cursors `pub` (#11628)
eb9565d22 fix: always handle payload building for opstack (#11629)
58bfa60ce feat(evm, trie): more metrics (#11613)
a4b815020 fix: actually commit (#11626)
672e3111c chore(ci): disable hive discord alerts (#11625)
701f51bd2 chore(metrics): remove redundant `starting metrics` log (#11621)
2b9777988 fix: persist finalized block (#11623)
33d5eb322 test: add sanity test for local txs args (#11620)
076b1a2c2 chore: bump op-alloy (#11617)
40faed6ea fix(witness): destroyed slots as proof targets (#11596)
adf3a0da6 fix: 7702 gas fields (#11614)
7c818c102 chore(rpc): use `block_hash` as `BlockId` on `eth_callMany` (#11595)
b787d9e52 perf(rpc): optimistically retrieve block if near the tip on `eth_getLogs` (#11582)
fb8bd77df fix(net): add concurrency param from config to `TransactionFetcherInfo` (#11600)
f5d68443a fix(grafana): set instance variable from `reth_info` metric (#11607)
67e83b668 feat: add helper function to provde the tx manager config (#11608)
83962095e feat: add tx propagation mode (#11594)
5ad648438 fix(trie): prefix set extension (#11605)
3c4a94fb7 fix: set system tx correctly (#11601)
8ba7bc079 fix: set deposit gasprice correctly (#11603)
570c1df7e fix(net): max inflight tx reqs default (#11602)
d5372a739 fix: active inflight count (#11598)
62954591d perf(rpc): use `Arc<BlockWithSenders` on `full_block_cache` (#11585)
1e1de3dd7 fix: use original bytes for codes (#11593)
3141f6db2 fix: simplify reorg handling (#11592)
e427eb202 docs: delete missing part path (#11590)
f5f76206f feat: add mul support for SubPoolLimit (#11591)
f332f7156 chore: also derive arb for test (#11588)
f7c76291a chore(rpc): use `block_hash` instead on fetching `debug_trace_block` block (#11587)
95913cb9b chore(ci): remove expected failures related to checksummed addresses (#11589)
6917b12d8 chore: bump alloy primitives 0 8 7 (#11586)
10eb1e8b3 chore(providers): test race condition on all `BlockchainProvider2` macro tests (#11574)
fda6e353d fix: in-memory trie updates pruning (#11580)
b09734a59 fix(exex): exhaust backfill job when using a stream (#11578)
e18b0bab9 feat: impl `Encodable2718` and `Decodable2718` for `PooledTransactionsElement` (#11482)
c61ae1371 chore: rm bad cap function (#11562)
c13ab7a29 chore: replace some revm deps (#11579)
c32d4c3f2 chore: rm unused optimism feature from engine api (#11577)
946f1a4c1 feat: adding a new method to network config builder (#11569)
67db43d0a  chore(provider): add more test coverage on `BlockchainProvider` non-range queries (#11564)
65e668329 fix(provider): fix sub overflow on `tx_range` queries for empty blocks (#11568)
cb431f1f5 chore: relax trait bound for `EthTransactions` (#11571)
4163835b9 fix: actually configure the custom gas limit (#11565)
3765dbe47 docs(exex): include code for ExEx book from real files (#11545)
a2cfa9e05 Added InternalBlockExecutionError to execute.rs exports (#11525)
ece894bd2 chore: rm unused optimism feature from compat (#11560)
548f5b9c6 feat(trie): expose storage proofs (#11550)
6e92ab8e4 chore: rm unused optimism feature (#11559)
33b78dcf2 chore: chain manual serialisation implementation (#11538)
5eb71e32c Introduce Op PayloadTypes Impl (#11558)
5e288b246 chore: rm redundant type hint (#11557)
b67f004fb chore: move ethfiltererror (#11552)
c35b8beb3 fix(grafana): remove rate function from panel "Transactions by Type in Pool" (#11542)
a6b564e05 fix(op-reth): add jemalloc feature to optimism-cli for version (#11543)
9a732f6b7 Introduce Eth PayloadTypes Impl (#11519)
8ca5ec9b7 Refactor get_payload_bodies_by_hash_with to be non-blocking (#11511)
54c8305fb chore: enforce window (#11540)
8a0bcbb35 feat(exex): subscribe to notifications with head using `ExExContext` (#11500)
04fa08cd4 grafana: add metrics of all transactions in pool by type  (#11515)
d4e9dd10e chore: dont fail on ttd (#11539)
e94d72b7b fix: acquire permit first (#11537)
6a1ec0d1a ci: add `windows` cargo check  (#11468)
f8228482a feat: add get_highest_tx_by_sender to pools (#11514)
f5c9701e7 chore: delete rpc-types (#11528)
74a645339 rpc: use `eth_api()` method (#11516)
4b12f3285 fix(tree): make state methods work for historical blocks (#11265)
784267390 feat(provider): add `test_race` to `BlockchainProvider2` tests (#11523)
d2ab6352c test: add unit tests for `PruneLimiter` (#11517)
c08c00f2e chore(deps): weekly `cargo update` (#11518)
41455dfcd feat: expose Op node network_config helper (#11506)
51db6564d feat: add PoolBuilderConfigOverrides (#11507)
cb078f9ea fix: cap gas limit properly (#11505)
659dec9e6 chore: rm from genesis impl (#11509)
36de90fdc chore(lint): fix `clippy::needles_lifetimes` (#11496)
28750e5b0 chore: Remove duplicate EthereumChainSpecParser in favor of existing EthChainSpecParser  (#11412)
a846cbdce Add metrics for failed deliveries to Grafana dashboard (#11481)
2ca614123 feat: rpc replace function created (#11501)
08c406548 Reexport optimism specific crates from `op-reth` (#11499)
72865f1d8 fix(rpc-eth-types): incorrect error msg(; -> :) (#11503)
093b1a16d chore(provider): add more test coverage on `BlockchainProvider::*by_block_range` queries (#11488)
16bc9c8b4 chore(lint): fix lint storage (#11485)
1f190ad8e chore: rm deposit contract config for op (#11479)
62e629329 test: ensure default hash matches (#11486)
a42cfbbae chore(provider): add more test coverage on `BlockchainProvider::*by_tx_range` queries (#11480)
d5ddb4129 chore(lint): fix lint primitives (#11487)
16c39d919 chore(sdk): `SealedHeader` generic over header (#11429)
b53767288 chore(db): capture tx opening backtrace in debug mode (#11477)
227e29339 fix(exex): use thresholds in stream backfill (#11478)
0ce1dd679 chore(exex): more backfill debug logs (#11476)
72e0ab100 chore: op chainspec (#11415)
c5cfaf116 feat: Add metrics to track transactions by type in txpool  (#11403)
399192c34 chore: use block.body directly (#11474)
5fd6906b3 feat: cleaned up prepare_call_env() (#11469)
af1eb6107 feat(perf): integrate OnStateHook in executor (#11345)
2dc5f5d74 test: add unit tests for `CanonicalChain` (#11472)
1fe9f324b Relax Trait Bounds on TransactionPool::Transaction and EthPoolTransaction (#11079)
84370b81d feat: make addons stateful (#11204)
ab0699798 chore(rpc): remove include_preimage param on debug_execution_witness (#11466)
b4d5adeeb chore: use `block_ref` on `CanonicalInMemoryState`  (#11467)
d72e438c0 fix: windows build (#11465)
6c16df236 Map `TransferKind::EofCreate` => `OperationType::OpEofCreate` (#11090)
af465623c chore(provider): clone after filtering on `sealed_headers_while`  (#11459)
7d092a265 fix: use correct rpc errors (#11463)
a0867a6b0 feat(grafana): ExEx WAL (#11461)
59c6329ff fix: ensure the request's gas limit does not exceed the target gas limit (#11462)
f1aae36c6 feat(rpc): Add codes in execution witness return (#11443)
96f1406a1 chore(provider): use `block_ref` instead on `BlockState` (#11458)
e56781095 chore: release 1.0.8 (#11457)
91af1a75c feat: add metrics for failed deliveries (#11456)
ac85fc050 chore(provider): find `last_database_block_number` with `BlockState` anchor instead (#11455)
8cd052c4d chore(provider): use `get_in_memory_or_storage_by_block` on `fn block_body_indices` (#11452)
a6b1fee53 chore(exex): adjust WAL gauge metric names (#11454)
05a7bdc9a chore(provider): use `get_in_memory_or_storage` on `transactions_by_block_range` (#11453)
4960b927b feat: impl payload attributes builder (#11336)
601c6fe73 fix(exex): limit the duration of a backfill job to 30 seconds (#11450)
73d5ce78c chore: replace `Compact` with `bincode` on `ETL` usage of `SealedHeader` (#11442)
fe1f189e6 fix(exex): WAL size metric (#11448)
7fbe19a9b primitives: remove optimism re-export in `reth-primitives` (#11438)
575669b74 fix: env tempdir failure on WAL creation (#11446)
6b261db64 docs: fix wrong method name (#11441)
70d498d29 chore: make clippy happy (#11439)
5ec448ef9 feat: add `get_in_memory_or_storage_by_tx_range` (#11414)
c4ce9977f fix: reset pruned sender numbers on stage drop (#11150)
16be8b905 feat(exex): commit notifications to WAL before sending to ExExes (#11354)
3bbbade9c Fix: Reorder all serde_bincode_compat module definitions (#11435)
e882d00f1 feat(exex): WAL metrics (#11431)
2ca8231e7 chore(provider): dont recover sender from `BlockState` transaction on `transaction_sender` (#11424)
e2f35ce6d chore: remove temporary allow attribute (#11428)
d36683d1a chore(sdk): define traits for primitives `Block` and `BlockBody` (#11411)
da23e1ce8 chore(provider): rename to `get_in_memory_or_storage_by_block_range_while` (#11421)
b66e4f5ad fix(exex): do not finalize WAL with a block higher than finalized header (#11420)
b44fff4dd feat(chain-state): notify about new safe/finalized only if modified (#11383)
afbe2bb5e fix: apply 4788 system call in tracing (#11417)
2a4f46b75 feat(stages): fail Execution if post execute commit input isn't consumed (#11418)
4491b0d96 feat(trie): bincode compatibility for trie updates (#11409)
a07efa7b5 chore: rm todos (#11400)
8d3a03a3b fix(exex): check exex head against node head to determine canonical (#11410)
82cc96d0c fix(stages): call post execute/unwind commit hooks (#11413)
d47904f7c dev: swap_remove (#11405)
7c15326e0 feat: add `get_in_memory_or_storage_by_block` to `BlockchainProvider2` (#11384)
64fae4d0f chore: rm crate reth-rpc-types (#11341)
d5bdc1c8c feat(net): Perform graceful network shutdown before dropping network in NetworkManager (#11404)
7cec52637 chore: make clippy happy (#11408)
c6529a830 chore: add metric and trace for already executed blocks (#11406)
12554c426 fix: fetch header by hash (#11407)
2d5921251      ci: pin clippy to working version (#11401)
07dc861a9 chore: rename default chainspec parser (#11398)
7e4b1bff7 chore(Makefile): separate features by spaces only (#11393)
408d793bf fix(engine): `is_fork` header traversal (#11368)
9c6e31fcb feat(primitives): bincode compatibility for EIP-7702 transaction (#11394)
9c9b1fdf8 fix: add tracing features to op binary (#11395)
b9341a7b4 fix(tree): use in-memory data first to query total difficulty (#11382)
2d221dbf4 fix: use pending state if available (#11391)
b722272c4 chore(db): simplify Compact for Vec (#11361)
22ddc98c0 fix(provider): handle race on `fn transaction_id` (#11380)
b5b700574 chore: Remove redundant impl NetworkManager (#11390)
fbc01d6cf chore(deps): bump some breaking deps (#11388)
707067ab4 chore: limit tracing logs to debug by default (#11377)
9c041d252 fix(exex): set next file ID when creating WAL storage (#11372)
86f12b7f5 feat(trie): deserialize trie updates with serde as hex (#11369)
7fab4c311 perf(engine): avoid unnecessary arc clones on new head (#11381)
0a183b4bf feat: add ReputationChangeWeights::zero (#11375)
d8b9f5db5 test(engine): improve deep reorg test (#11378)
19593d403 chore: propagate std feature to alloy-trie (#11371)
15e3e0e11 dev: block_with_senders on BlockState (#11363)
6b3a75917 fix(evm): propagate optimism and test features correctly (#11373)
b29d81c85 fix(provider): use `canonical_chain` on range lookups (#11332)
b20854052 docs: misc in memory docs (#11365)
94b076d2c chore: log num hash (#11364)
bdbdb143d ci(hive): update expected rpc-compat failures (#11367)
a8a380ff5 feat(exex): use rmp-serde for WAL storage (#11353)
f51ac78d5 fix: never ban trusted peers (#11254)
6bbb07bba chore(cli): Add warning for misconfigured HTTP API flags (#11360)
c2cabcae7 fix(hooks): sort reverts in `BundleState` before comparison (#11358)
68f0b0a08 perf(db): use Into to encode StoredNibbles (#11350)
d6113e104 feat(exex, primitives): serde bincode compatibility (#11331)
6e1cc1b94 fix(provider): replace `block_state_by_tx_id` with `get_in_memory_or_storage_by_tx_id`  (#11340)
6d57b9eaa feat: wire SystemCaller (#11321)
09f0526e7 fix(providers): collect BlockState before constructing DB provider (#11338)
42afcbd75 impl `Encodable2718`, `Decodable2718` for `TransactionSigned` (#11218)
24b634120 fix: sequencer client must be arced (#11337)
92aeff083 fix(libmdbx): Some options can only be set after `mdbx_env_open` (#11328)
a5538bc04 chore: alloy 0.4 (#11334)
e8153e5e2 deps: remove `reth-metrics-derive` for `metrics-derive` (#11335)
bf679b430 feat(exex): finalize WAL below the given block (#11324)
ae4aeb44d chore(builder): reorder revm `State` import (#11316)
2ae8ea3b1 feat: add SystemCaller helper type (#11068)
17aa3d61f fix(trie): witness empty root node (#10972)
e02a2de2d feat(exex): finalize WAL with the lowest finished height (#11323)
e21d75f9a primitives: rm more `alloy_primitives` reexports (#11325)
ea1d04aa7 primitives: rm more `alloy_primitives` reexports (#11255)
55bf29e6d use `core::error::Error` (#11317)
b8aeecae6 chore: update default payload builder logs (#11315)
ce1f669b9 feat(exex): finalize WAL only when all ExExes are on the canonical chain (#11289)
d94462bfe chore(deps): weekly `cargo update` (#11319)
3297dcb4e Remove unused dependencies (#11320)
65f7e883e chore: rm ToRpcError usage from engine crate (#11311)
6828bbacc chore: use core::error (#11313)
1bead52d5 chore: relax trait bounds on transact fns (#11310)
4850c298f feat: mev_simBundle (#11252)
2aa3dd0fd feat: use `OpChainSpec` in `OptimismNode` and its components (#11304)
b090578b7 fix: improve ecies error fatal variants (#11303)
375acdfed chore(op): unify crate name reth-optimism-* (#11223)
50461281e chore(blockchain-tree): replace reth-primitives with alloy-eips (#11276)
50265b15d chore: remove generics from Decode and Decompress (#11295)
e48f2a29c perf(db): cache `ProcessUID::own` in memory (#11302)
1009289c3 chore(deps): bump tracy (#11305)
1bbf8b630 test(rpc): filter test is taking too long (#11288)
d8f16b83b perf(trie): use unstable sort when sorting for computing roots (#11301)
6c92f8a26 chore: rename param (#11287)
9863a17d2 chore(exex):move maximum ExExManager capacity to a constant (#11293)
49f044f6e fix(reth-ipc): pass through extensions from request (#11300)
5b585ebc2 chore(`rpc`): use alloy's `Keccak256` hasher instead of manually concatenating hash bytes (#11298)
e96298389 perf(db): use encode_to in Scale implementations (#11297)
bf18fd927 perf: improve IntegerList API to avoid allocations (#11292)
8dfab3354 feat(trie): extract `StorageProof` (#11269)
dbd9a2bb3 feat(exex): send canonical notifications when head is provided (#11280)
07e94e7fa perf(db): use smallvec for mdbx table names (#11291)
0446ec471 optimism: fix 'expecte'  (#11290)
fbb0b11f0 chore(exex-eips): replace reth-primitives with alloy-eips (#11275)
ea060fe9a feat: `ExExEvent::FinishedHeight` takes `BlockNumHash` instead (#11278)
098018db4 perf: remove sidecar clone if no listeners (#11285)
247f029e2 chore: add traces for blob sidecar ops (#11284)
6757ab819 fix: make canonical_chain atomic and canonical (#11283)
ba4e41110 chore: use Arc over Box (#11281)
650cf755a docs: clarify block order (#11279)
136a8227b feat: canonical state for local engine (#11245)
5706e0342 chore(trie): early return on empty state (#11271)
67221247c feat(exex): WAL handle (#11266)
37b0c56b8 feat(exex): add parent hash to WAL block cache, index by hashes (#11263)
da6b1e7c6 feat(exex): write notification files atomically  (#11264)
13a3c2c8c chore(exex): remove unneeded code (#11267)
77992e325 deps: `alloy-trie@0.6.0` (#11260)
f4cbfbcd7 feat(tree): introduce reorg count metrics in new engine (#11226)
ad64de896 primitives: rm more `alloy_primitives` reexports (#11250)
2e05ec008 move op storage tests into new crate reth-optimism-storage (#11233)
6d0159eb7 feat: tx and receipt compression utils for no-std config (#11112)
d46f76264 fix(cli): fix `ImportReceiptsOp` (#11216)
6a7d8938c chore: update revm and alloy primitives (#11235)
3a255a1ca chore:include payload id in trace (#11249)
65f266447 feat: make `NetworkConfigBuilder` independent of concrete `ChainSpec` (#11176)
f2a508df3 primitives: rm more `alloy_primitives` reexports (#11222)
edd8fe464 primitives: rm `H*` deprecated types (#11246)
42d2e485d chore(trie): replace ParallelStateRoot with AsyncStateRoot (#11213)
353fd60d2 refactor: extract optimism receipts hashing logic to `reth-optimism-consensus` (#11230)
4a0582609 ci: pin clippy to working version (#11237)
20d695031 chore(evm): replace reth-primitives with alloy (#11232)
ece094407 reth-codec: remove unused derives from alloy compat types (#11231)
35034065d chore(tree): make tree trace targets all engine::tree (#11227)
653c0898a chore(tree): add legacy tree metrics to new engine (#11175)
76a6e0db6 remove IntoRecoveredTransaction (#11221)
4ef9635fa chore: update helper fn (#11209)
4070498a1  fix(storage): only delete static file if `last_block` is on a previous static file (#11029)
1d56382b8 doc: update some exexhead docs (#11214)
63f56734e refactor(exex): move notifications to a separate module (#11212)
d891d402b feat(storage): add `HeaderExt` to compact `Header` (#11166)
c00516c3f rpc-types: rm `alloy-rpc-types-engine` reexport (#11206)
3d034519a feat(exex): `ExExNotification::into_inverted` (#11205)
1e0a35e74 perf(engine): migrate to AsyncStateRoot (#10927)
2022dd3de primitives: rm `alloy_consensus::transaction` reexports (#11191)
2224e6c48 feat(exex): finalize ExEx WAL on new finalized block header (#11174)
5d2867f2c feat(rpc): Replace TypedTransactionType (#11089)
466f21acf feat: verify unused bits on types derived with `Compact` (#11131)
235040375 chore(cli): print an hex encoded string instead on `reth db get ... --raw` (#11195)
4884c0003 primitives: rm `TxKind` reexport (#11197)
9165f4c51 primitives: rm `UintTryTo` reexport (#11196)
648e2a4f7 primitives: rm `revm-primitives` reexport (#11193)
2b20a0dbf primitives: rm `alloy_eips::eip2930` reexports (#11188)
dba6c0129 feat: add slack notification for hive tests (#11189)
ab66f58e5 chore: Remove ChainSpec from PayloadConfig  (#11103)
53f23bf3d primitives: rm `alloy_eips::eip7702` reexport (#11179)
1994959fb chore(tree): move persistence_state out of mod.rs (#11180)
3bd966c59 primitives: rm `alloy_genesis` reexport (#11181)
c09bb0495 primitives: rm `alloy_eips::eip4844::kzg_to_versioned_hash` reexport (#11182)
547d25b64 chore(tree): log and diff header root difference in witness hook (#11184)
7e21a6581 feat(grafana): create initial Reth Performance grafana (#11183)
d3e959bbd fix(chain-state): fork choice stream should return only when changed (#11178)
c434e5263 primitives: rm `alloy_eips::eip1559::calc_next_block_base_fee` reexport (#11177)
ae3d279cc feat: relax chainspec bounds on `NodeBuilder` and rpc types (#11160)
d3114b4ee feat(witness): use block executor to execute block inside debug_execution_witness (#11149)
4da5f1f38 fix(storage): dont skip consistency checks for `op-mainnet` if using minimal bootstrap (#11099)
f2082e041 chore(rpc): remove redundant trait bound (#11162)
aac78821c feat(exex): write ahead log (#10995)
f606b70b7 feat(trie): use packed encoding `HashSet<Nibbles>` serialization (#11147)
94d1d8719 feat: add transact function to 7251 (#11158)
c0f0dd78a feat: add transact function to 4788 (#11157)
6e64a14a6 chore(ethereum): replace reth-primitives with alloy (#11155)
c851a1740 feat: `EngineValidator` (#11144)
73962b1ea feat: add transact function to 7002 (#11156)
fb0555ae7 Refactor `Block` (#10913)
b06bc1088 fix: use nibbles map serialization for TrieUpdates (#11146)
33d88a437 feat: add `FlatCallTracer` (#11114)
68d76f646 chore(codecs-derive): update should_use_alt_impl (#11148)
f9b8dc403 feat(trie): add way to serialize maps with Nibbles keys (#11141)
c7a18fd07 chore(trie-common): make tests run without arbitrary (#11142)
89b6ad240 fix: increment post block balances in invalid block hook (#11139)
ed2679be2 feat(grafana): make execution duration percentage stack plot (#11137)
50ab150ee fix(docs): fix error message for missing jwtsecret flag (#11138)
efa5d45e4 feat(trie): use global thread pool in async state root calculation (#11057)
b29ff1f6c chore: remove redundant phantom (#11134)
fc12639b9 fix(tree): adjust both number and hash when removing persisted blocks from memory (#11133)
a16b3dd6f feat: add execute_with_witness (#11074)
7b128d692 feat(engine): save original files for witness invalid block hook (#11132)
3fa1e28e1 chore: unify last persisted block hash and number in PersistenceState (#11126)
f81c7d075 chore: rm redundant builder types (#11129)
cf294ce39 feat: add `ChainSpec` AT to `EngineTypes` (#11054)
faca09626 chore: remove reth-rpc-types import (#11125)
07f5971ae docs(ci): add docs to `bench.yml` (#11128)
15aee9b14 feat: use alloy Signature type (#10758)
fba837468 chore(deps): weekly `cargo update` (#11101)
ed1de8996 primitives: use alloy `Header` struct (#10691)
7529d3651 feat: add set code tx helper to e2e utils (#11118)
cbfc6723c chore: Log an error when failing to resolve external ip address  (#11085)
bb27f37cc storage-api: update BlockReaderIdExt (#11110)
d21d07060 chore(hive): update expected failures (#11121)
750dc0a9d feat: add deploy tx helper to e2e utils (#11117)
a2b8baf0e docs: correct `requested_empty_payload` metric docs (#11119)
560b061e5 chore: clear reth rpc types from reth binary (#11120)
242a3ab06 chore(exex): replace reth-primitives with alloy (#11104)
875e0e5b1 Add payload builder metrics to Grafana dashboard (#11102)
2684594ec rpc: rm useless reexports in `reth-rpc-types` (#11113)
0a6845b05 fix(cli): handle case when first transaction range is `None` on `reth db stats` (#11107)
52c72a3b1 use HashMap::with_capacity (#11106)
159bf2cf1 rpc: rm useless `alloy_rpc_types` reexport (#11098)
63dfa9a4d rpc: rm useless `alloy_rpc_types_debug` reexport (#11095)
f7b895ef4 rpc: rm useless `alloy_rpc_types_trace` reexport (#11096)
f4d11f48b Split MevApi trait into two #11036 (#11081)
405fc4361 rpc: rm useless `alloy-rpc-types-anvil` reexport (#11094)
fdcfe6ef2 rpc: rm useless `alloy-rpc-types-mev` reexport (#11093)
b4ad28dfb chore: reth payload without reth rpc types (#11097)
4c92075de rpc: rm useless `alloy_rpc_types_txpool` reexport (#11092)
b9712c5ec rpc-types: replace reth `TransactionRequest` by alloy (#11091)
5113e2907 chore(storage): add test cases for `Transactions` and `Receipts` truncation (#11070)
c36b2f75b chore: stop using static mut (#11088)
f141a74f8 fix: enable js-tracer (#11087)
b56d638e3 chore: replace reth-rpc-types by alloy-rpc-types (#11071)
542c1487c chore: allow static mut ref (#11083)
6975177d0 Add new NetIf variant to NatResolver for IP resolution via network interface (#10922)
95d65dc02 chore: remove dead_code on InMemoryAccountTrieCursor (#11080)
341614557 perf: increase threads in global pool (#11075)
5e1b49429 feat(tree): add more insert block debug logs (#11078)
66089682d Move `OptimismHardfork` to new crate `reth_optimism_forks` (#10963)
63f2d5906 Replace `reth-provider` dep in `reth-rpc-eth-types` (#11077)
da098044b docs: fix rpc-types-compat in docs (#11076)
b5adf24a6 chore(rpc): remove use of extensible transaction + receipt types (#9774)
05f862af4 chore(storage): add test cases for `Header` truncation (#11048)
7cf492d52 feat(payload): abstract payload builder in trait (#10965)
08bdec9ef net: replace reth-primitive imports with alloy-eips (#11027)
4ae286e69 docs: correct optimism snapshot download url (#11065)
b9140cccb test: improve test coverage for 4844 rlp transactions (#11058)
a8220791a chore(engine): replace reth_primitives with alloy_primitives (#11064)
b562ea310 chore(deps): bump revm to 14.0.2 (#11063)
1393a0b9e chore(ci): unpin nightly version in lint job (#11062)
884c74d5e chore(rpc): use `FullNodeComponents::Network` in `EthApiBuilderCtx` (#10996)
84db469f7 fix(discv5): change default discv5 port (#11051)
ec565304d fix(tree): prevent noisy canonical block debug logs (#11061)
e4065201a refactor: use pre-genned wallet from e2e utils in test (#11059)
c9057d75c feat: add Display for BeaconConsensusEngineEvent (#11055)
f9eb20d0a feat: impl Display for ChainEvent (#11056)
75b7172cf fix: rm more windows (#11050)
69c8ddb33 feat: add `blocks_per_file` field to `StaticFileProvider` (#11043)
9f2344302 chore: use alloy-chains is_ethereum (#11049)
c3d090adf feat: make `NodeConfig` generic over `ChainSpec` (#11039)
65fb29c77 chore(engine): revert disabling parallel state root (#11047)
1fbf1a91f Revert "chore(op-payload-builder): Refactor `optimism_payload` into smaller, reusable functions" (#11041)
893ea95d3 hash_keys bench: use HashSet::with_capacity (#11044)
0349d7b28 Update `OptimismPayloadBuilder` field visibility (#11042)
6cb26f72a feat: make `DatabaseProvider` generic over chainspec (#10978)
161c2d2b0 reth-stages: remove duplicate buf clear (#11035)
8ba95a166 chain-state: replace primitive imports with alloy-eips (#11038)
668807802 feat: local engine (#10803)
89ca7a9ef test: 4844 testdata (#11033)
c92b3738c fix(engine): state retrieval for parallel root with persisted parent (#10966)
ddb79ef08 Update function visibility for `cfg_and_block_env()` (#11022)
5f022e1cd fix(lint): lint warnings for db benchmark tools (#11011)
f9abc8a35 chore(payload): replace reth_primitives with alloy_primitives (#11030)
03e89b1af fix: only decode fields (#11031)
4674bfdcb fix(lint): lint warnings trie tests (#11012)
9246eac3b fix(lint): lint warnings consensus test-utils (#11013)
43439b482 fix(lint): lint warnings in `reth-eth-wire` (#11008)
5f45f6356 fix(lint): lint warnings rpc builder (#11014)
79fe63485 fix(lint): warnings engine API (#11015)
6747203f9 fix(lint): warnings ef testing (#11016)
d668216b8 fix(lint): warnings network tests (#11017)
2f635b8e4 fix(lint): warnings rpc testing utils (#11018)
81094d440 fix(lint): ethereum node tests (#11019)
46ada1a59 fix(lint): op-reth tests (#11020)
180f10001 feat: make `reth-stages` independent of concrete `DatabaseProvider` (#10934)
9e7e3247c fix(lint): lint warnings for storage codecs fuzz (#11009)
c1fedd7d9 docs: recorrect the sentry (#11028)
4a7eb6e91 fix: update pool gas limit (#11025)
2924d8833 chore(engine): disable parallel state root (#11024)
ae9b13f4a net: replace reth-primitive imports (#11023)
883975dc9 chore(op-payload-builder): Refactor `optimism_payload` into smaller, reusable functions (#10904)
a63640819 fix(lint): lint for derive `Compat` (#11005)
fcd822c5f fix(lint): lint warnings for libmdbx benches (#11007)
dfd62ef68 (fix): lint warning IPC (#11006)
1f642353c Handle non-default cargo target dir (#10775)
000b41233 chore: remove windows cfg (#11002)
ef06c850e  storage: replace reth-primitive imports with alloy-eips  (#10992)
f64aecfbc feat(cli): expose tree engine persistence configuration (#10999)
c09f650a3 chore: move eip7251 impl (#11000)
6fc2a23b8 chore: move eip7002 impl (#10998)
e8402385a chore(reth-primitives): use COMPACT_EXTENDED_IDENTIFIER_FLAG (#10926)
91eb50c59 feat: `eth_simulateV1` support (#10829)
06b979279 emv: add `BlockHeader` trait and default `fill_block_env` (#10993)
c2019e35d feat: allow syncing `op-mainnet` with only state and without importing blocks/receipts (#10850)
80c1159cb storage: replace reth-primitive imports (#10981)
a92017bdd chore: make error msg conform to normal usage (#10988)
6d49dc130 feat: extend pool configuration (#10985)
2ee14164d cli: replace reth-primitive imports with alloy-eips (#10994)
21232b091 chore: move eip4788 impl (#10977)
74e58d8c8 chore: change `BlockAndProofV1` to use alloy_eips instead (#10969)
d76fd148d chore: release 1.0.7 (#10990)
f3744b342 chore: bump alloy (#10989)
be04f24a6 chore: bump revm and inspectors (#10982)
94c15c007 chore: add display to FromEngine and other messages (#10986)
5cd603d34 fix: also include reverts for op (#10979)
1fd4b1da9 chore(e2e-test-utils): replace reth_primitives with alloy_primitives (#10980)
c09391fee chore(chain-state): replace reth_primitives with alloy_primitives (#10975)
5e9f38164 evm: use `Header` AT in `ConfigureEvmEnv` (#10968)
a8078f66d fix(trie): remove `debug_assert` for storage root (#10973)
9760319f3 docs: add geth reference for call fee check (#10970)
cd10cbf4f feat: move next block cfg and env to configureevm (#10962)
192f59f1b deps: bump `alloy-trie` to `0.5.3` (#10960)
f843a051a perf(rpc): use only Revm cache for execution witness (#10454)
0746479e3 feat(cli): enable witness invalid block hook by default (#10839)
ad76d89a2 chore: early return EMPTY_ROOT_HASH (#10957)
b5fcc1bae chore: move eip2935 impl (#10954)
0cde07245 feat(exex): backfill on subscription with head (#10787)
346eb308c chore: include network primitives in workspace (#10952)
92dacf4f5 execution: add transaction and header AT to `ConfigureEvmEnv` (#10754)
2a04b1c10 Move cfg_env and block_env configuration from PayloadBuilderAttributes into PayloadBuilder  (#10510)
abd4642d6 reafctor: improve tx count (#10889)
c795389aa fix(cli) Allow Pruning CLI Args to take precedence over TOML configuration  (#10774)
1d0b18cd1 error: use derive-more `Error` for deriving error (#10841)
30d8ec74f chore(reth-primitives): use derive_more::From when possible (#10917)
f04fc7c5b chore(primitives, ethereum-forks): replace std feature gate alloc imports (#10945)
847ac1dfc blockchain-tree-api:replace reth_primitives with alloy_primitives (#10946)
21e92b83b fix(rpc): add fee/value and balance to insufficient funds RPC error (#10872)
e1b10ca69 chore(op): remove redundant op feature from `reth-optimism-consensus` (#10944)
de02d626c chore(reth-ethereum-consensus): use const GAS_LIMIT_BOUND_DIVISOR (#10948)
736765133 chore(reth-primitives-traits): use EOF_BYTECODE_ID etc (#10949)
acdb2050a chore(reth-provider): use Vec::with_capacity (#10912)
0fd8132e9 feat(reth-evm-ethereum): use EVMError::map_db_err (#10916)
bf800986d chore: use MIN_TRANSACTION_GAS replace magic number (#10910)
8b61b9bf9 fix(exex): do not advance backfill range twice (#10942)
b38539c18 feat: use `DBProvider` instead of `DB` on `init_genesis`  (#10937)
e714dba4e fix(ci): use `taiki-e/install-action` instead for `cargo-udeps` (#10938)
66848d98e feat: use `DbProvider` on `UnifiedStorageWriter` (#10933)
56fb18bf0 ci: dev udeps (#10855)
5468921b9 trie: replace reth_primitives with alloy_primitives (#10931)
0fa8e83e1 refactor: make `reth-prune` independent of concrete `DatabaseProvider` (#10921)
664f8b23b feat(engine): compare invalid block witness against a healthy node (#10844)
605b93a20 feat(trie): integrate `TrieInput` into `ParallelStateRoot` & `AsyncStateRoot` (#10930)
06dbd3a61 feat(trie): expose multiproof via `StateProofProvider` (#10915)
fdd64972b feat(trie): integrate `TrieInput` into `StateProofProvider` methods (#10929)
59a779875 feat(trie): async root intermediate nodes (#10920)
b0eb78ced feat(trie): `TrieInput` (#10918)
f37bd47e2 chore(deps): weekly `cargo update` (#10911)
1c20e0e75 chore: add is granite active at timestamp (#10908)
646b72f34 chore: update genesis to chain spec conversion (#10764)
bff991dd0 chore(reth-execution-errors): use derive_more::From when possible (#10897)
97cc9dd8e chore: Some minor refactoring for cargo.toml (#10906)
8852e85d1 chore: fix ci (#10903)
bb1894298 feat(evm-optimism): add OpBlockAccessListExecutor (#10895)
974926f2d chore: remove an intermediate allocation in ExecutionOutcome (#10900)
96854f9f0 fix: actually use `RevmBytecode::new_raw_checked` (#10899)
b23bb7e8b perf: improve genesis handling (#10878)
75c6295d2 chore: separate trait for conversion into state provider (#10858)
c6359b624 Fix: Allow missing docs for test modules (#10893)
301201862 feat(evm-ethereum): add BlockAccessListExecutor (#10849)
87e5e0929 feat: add support for wrapping the allocator with tracy (#10874)
12e8af4a2 chore: bump alloy 0.3.5 (#10891)
784154bcd chore(op): Move imports in `reth_optimism_rpc::sequencer` to module prelude (#10886)
9c4cf3d72 chore(op): Use `tokio::sync::OnceCell` to set `SequencerClient` (#10885)
47d188cb8 cfg: replace std feature gate alloc imports with extern crate alloc (#10861)
6fc81f2b7 dev: add send_and_resolve (#10847)
8ddbd30df fix(cli): remove static file providers from cache on `reth db stats` (#10887)
dd95508d3 chore(op): Clean up module `reth_optimism_rpc::eth::sequencer` (#10884)
d3acd09be chore: remove unnecessary `segment` argument from `StaticFileProviderRW` (#10882)
9f926ac4a fix: don't validate requests in optimism (#10883)
2ae53e5c3 fix(cli): ensure `reth init-state` doesn't end in an invalid state root (#10880)
df701a0bf fix(reth): bin/reth missing help msg of segment (#10873)
ef1d9e7a0 fix: use configured chainspec parser for commands (#10876)
817b1527e docs: minor evm doc changes (#10867)
d63498a35 dev: test vectors seed (#10859)
29e11d31b fix: revert header error message change (#10866)
74c733d22 chore: remove useless non exhaustive (#10865)
028000caf fix: include reverts in execution outcome when building payload (#10837)
4cbe931c0 chore(grafana): display empty string if no cargo features are available (#10862)
acdb7b7e2 perf(engine): parallel storage roots (#10666)
b85a4e8a7 chore: alias of datadir.static-files and upate book cli (#10856)
c1b5fbbc7 fix: don't recurse on op rpc err conversion (#10860)
c38a42520 chore: remove `prune_modes` arg from `BlockchainTree::new` (#10857)
875cee27a Add pub visibility modifiers to some op executer types (#10852)
3977efe93 meta: add etc/ CODEOWNERS (#10848)
1c61839fa feat(grafana): add stacked block processing latency graph (#10846)
f6444b2e7 fix(tree): avoid holding two locks simultaneously (#10843)
1c53518bc fix: drop mmap handles before modifying during `handle_consistency` (#10708)
6ed0ca553 fix: always acquire numbers lock first (#10842)
2b75415a0 execution: make `ConfigureEvm` independent of chainspec argument (#10748)
7abf49995 fix(libmdbx): renew tx on timeout when dropping cursor (#10840)
265e92685 fix(libmdbx): do not panic on timeout when closing cursor (#10838)
c498fa634 Move `EthBlocks::block_receipts` default impl to impl for `EthApi` (#10785)
9aea661c9 fix: ensure that `SendersRecoveryStage` either recovers all senders or fails (#10810)
bc14ad1f5 perf: use last key value (#10836)
5b3c11570 rpc: replace reth-primitive imports with alloy-eips (#10834)
a5be445ef chore: lower persistence threshold (#10833)
cb7832eed chore: crates/consensus - Use derive_more::Error rather than impl std:error:Error  (#10831)
6764f7bc9 feat(net): IP resolution in docker (#10681)
3d7bcb037 chore: missing features in optimsim crates (#10830)
bbaccc2a3 chore(rpc): `LoadReceipt::build_transaction_receipt` default impl to impl for `EthApi` (#10786)
d9681ea72 chore(op): define type `reth_optimism_rpc::OpReceiptBuilder` (#10781)
3c57c3138 crates/optimism: fix optimism (#10820)
310bcaf35 chore: Remove `rethdb` `op-node` build tag from book (#10819)
643ea42ac chore: Make block download metric include inflight block range requests  (#10826)
53a081c4d ci: pin clippy until lints fixed (#10825)
b3f87ec20 fix: prevent panic during enr conversion (#10824)
d11bbe686 refactor: reduce `ProviderFactory` usage (#10798)
f6b202144 dev: remove unused dev-deps (#10813)
60dcea847 rpc: replace reth-primitive imports (#10812)
5614a0260 chore: bump revm-inspectors (#10815)
e13045768 Add client() getter to OpTransactionValidator (#10814)
ac5ab944d chore: remove optimism feature from reth docs (#10809)
e4b532587 chore: unify empty payload building (#10807)
72c53b88b fix(metrics): set sync metrics when blocks are added (#10799)
ed4235609 chore: bump alloy 0.3.3 (#10806)
5a5511743 chore: fix typo in chainspec (#10805)
0213e8841 optimism: replace reth-primitive imports (#10800)
1b74f16ec feat: support custom chainspec parser for op (#10804)
2985720c7 feat: expose `ChainSpec` metrics (#10737)
282a96a70 trie: add unit tests for `TrieAccount` (#10802)
39576e30e fix(hive): remove expected failures after upstream hive fix (#10801)
9b7e69274 chore: rm unused kzg settings fn (#10796)
94e6939e8 chore(deps): bump peter-evans/create-pull-request from 6 to 7 (#10795)
75b8499d3 node: replace reth-primitive imports (#10791)
e7a4c85aa blockchain-tree: replace reth-primitive imports (#10771)
6f7c8c8ca chore(deps): weekly `cargo update` (#10773)
75586e3fc fix(reth-primitives-traits): removes todo (#10789)
afdaf156a chore: bump revm inspectors (#10790)
d8b12ac49 Implement `engine_getBlobsV1` (#9723)
c258c1547 feat(db): move reth-storage-api::ClientVersion and StoredBlockWithdrawals to reth-db-models (#10763)
b78e0f606 feat: remove constraint of concrete type AnyTransactionReceipt for EthApiTypes::NetworkType (#10693)
1ea8ccaa2 Remove receipts fn in BuiltPayload (#10772)
4cbdc7c12 consensus: add unit tests for `StorageInner` (#10776)
8296fcc29 chore: re-export reth-consensus (#10782)
cb0625c39 consensus: replace reth-primitive imports (#10768)
9a541c985 clippy: add more lints (#10778)
de36c3179 cli: replace reth-primitive imports (#10777)
7a20b413f feat: Include missing block id in error responses (#7416)
e7defb233 feat: return executed block in eth payload builder (#10717)
162f6019d transaction-pool: replace reth-primitive imports (#10766)
10f332078 storage: clean up reth-primitives import (#10761)
5194bcfbc testing: clean up reth-primitives import (#10760)
b554eccab chore(reth-primitives): clean unused file (#10765)
81a7fd370 chore: add rpgf json
423e0221f trie: clean up reth-primitives imports (#10757)
d1d544e23 Create CLI documentation with a Rust script (instead of Python) + style improvement (#10680)
27d4e8c36 feat: test channel for pausing persistence receiver (#10699)
ed778e10b chore(tree): propagate on_new_persisted_block error (#10733)
dbf5d48a8 fix: unwind_to should be exclusive (#10738)
a89de219c feat(exex): subscribe to notifications explicitly (#10573)
3ec5d373c feat(engine, tree): witness invalid block hook (#10685)
db7834dd5 Update layout doc (#10739)
b13e982cd chore: expose PruneConfig in CLI args (#10639)
3e2c34ac6 chore(tree): propagate on_new_head error (#10734)
cdd0f0007 chore(tree): make tree trace targets consistent (#10731)
399c27082 chore: EvmStateProvider doc improvements (#10735)
0c2b49650 chore(op): type safety in computation of op tx metadata (#10619)
5af62b75d test(provider): Add unit tests for stateproviderfactory (#10697)
b1ed3e65a feat(tree): add block validation metrics (#10728)
d3281ece0 test: add hardfork parsing test (#10724)
2b6b715b9 Remove load_trusted_setup_from_bytes (#10719)
80d511bf1 chore: bump example dep (#10726)
6adb4bcb7 chore: ignore proc-macro-error 1.0.4 advisory (#10727)
a996eea94 refactor: relax bound on `NodeTypesWithDB` (#10720)
665bfd7e3 fix: don't filter out hardforks (#10723)
7fd16914a ethereum-forks: add unit tests for `ForkCondition` (#10707)
fdad74e50 rust: bump rust to 1.81 (#10721)
60bc403f0 fix(tree): remove_blocks fixes, return hash and number in persistence task (#10678)
e8128a3c8 feat: add directory watcher to `StaticFileProvider::read_only` (#10701)
1ec567808 ForkCondition: some small refactors (#10712)
b0fddef46 optimism: use op-alloy TxDeposit (#10667)
c267c1caf chore(engine): track elapsed on fork block added (#10710)
ba3fc6a9a feat(engine): support `--debug.etherscan` on experimental engine (#10688)
5ecc9d234 feat: integrate `NodeTypesWithDB` (#10698)
5df03fb3c fix: reject 7702 transactions with empty auth list (#10709)
8bbd40328 fix: improve nonce too low error (#10711)
834e99cd2 chore: moved optimism_receiptfn and its tests (#10520)
98b214f63  feat(tree): schedule block removal on disk reorgs  (#10603)
22e9c1d97 chore: allow `CC0-1.0` on `deny.toml` (#10706)
1ef4d6d61 clippy: add `collection_is_never_read` clippy lint (#10703)
f8e5b181b chore: relax txpool client trait bounds (#10705)
f82719ff2 rpc: small refactor in `TransactionSource` impl (#10704)
9e3edcc7e fix: allow tx's from EIP-7702 delegated accounts (#10702)
86a2ac6fa fix: nippy jar error access is denied. os error 5 (#9747) (#10672)
3105320d9 chore: update grafana dashboard again (#10700)
3289cd79b feat(tree): make on_new_head and is_fork aware of disk (#10551)
8151c9a3c chore: more adjustments to grafana (#10696)
a1d9ece3b feat: `NodeTypesWithDB` (#10683)
4fbfedb6e chore(reth-evm): no-default optional crate (#10694)
304550cd2  chore: update wasm crate (#10695)
e50213210 primitives: simplify `generate_valid_header` logic (#10692)
2c2843850 chore: remove PerfectHasingFunction Filters (#10627)
9257c8a9d Cargo update (#10690)
938227a39 fix(op): parse l1 block info from l2 tx input (#10664)
d659cd36d refactor: move exec metrics into executor (#10426)
fd8ca1707 feat(tree): introduce executed_block_by_hash (#10553)
df93e7515 test (provider): receiptProvider impl of BlockchainProvider2<DB> (#10651)
5744ad1fa feat: impl StateReader for BlockchainProvider2 (#10618)
9d46b0642 feat(engine): invalid block hooks crate (#10629)
6b509ddb1 blockchain-tree: add unit tests for `BlockIndices` (#10675)
332b994c0 net: rm unused import (#10676)
dea1e21af feat: add invalid block hook field to tree (#10432)
d30e3a488 node: revise `NodeTypes` trait (#10665)
020597da3 Update generic name in payload crate (#10669)
5fc77551d fix(discv5): return discv5 local node record (#10640)
857f97e3a chore(storage): remove unnecessary check empty vec (#10671)
80793cfe1  feat(tree): cache trie updates for nonfinalized canonical blocks (#10579)
08719deb4 primitives: small refactor in `gas_limit` method (#10668)
659375d77 eip7702: use alloy `TxEip7702` (#10617)
aa42dbcf3 fix: ensure receipts are written to storage during test setups (#10660)
cbad38a40 fix(`op-reth`): `--chain` help message (#10661)
d58cf5385 fix(provider): move consistency check methods from `NippyJarWriter` to `NippyJarChecker` (#10633)
2c0170a03 docs: remove outdated comment in cursor::Walker (#10658)
212a6a0a3 Use ByteCode::new_raw_checked and propagate error (#10584)
449d63d98 chore: increase max proof window (#10654)
fcab695a9 refactor: extract `op-reth` binary to separate crate (#10641)
5b97ace99 fix(witness): storage proof target on blinded (#10657)
d5c6f1a54 fix(witness): allow no storage multiproof (#10656)
d5906f3f8 test(trie): improve in-memory nodes fuzz tests (#10479)
333b1a7bb chore: add debug log when new engine message (#10653)
68f852ba5 fix: dont use prune mode full (#10652)
ef975f15e feat(rpc): add preimages to execution witness response (#10456)
d59854f1d fix(tree): replace debug_assert with relaxed removal logic (#10634)
0243e0393 chore(deps): bump op-alloy-rpc-types (#10646)
c49feffed [#10645] docs(prune): replace prune parts by segments (#10647)
61fe0ea4e chore(deps): weekly `cargo update` (#10642)
1450deb1d fix: clippy (#10650)
42dc5eea1 docs(NodeBuilder): fix broken link (#10644)
d4cfb95e6 eip4844: use alloy `TxEip4844` (#10624)
578b52afd eip2930: use alloy `TxEip2930` (#10623)
7269cf285 chore: expose TransactionFetcher param in cli (#10635)
3a49a552c feat: migrate to alloy TxEip1559 (#10262)
17f6225fa Feat: Extend BuiltPayload type (#10583)
3efe22eae feat(rpc): dedup rpc getTxBySenderAndNonce (#10600)
24f04710c feat: use alloy_network::Network::ReceiptResponse instead of AnyTransactionReceipt in RPC (#10621)
b4a18ccd9 chore(op): rename file_codec_ovm_receipt.rs to receipt_file_codec.rs (#10622)
237c22f23 feat: use alloy_network::Network::BlockResponse instead of reth_rpc_types::Block in RPC  (#10613)
e18a46d0a docs: rm unused file (#10626)
71e0178f7 feat: migrate to alloy TxLegacy (#9593)
2f782a9cb feat(storage): add `opt_sync_bytes` and `opt_sync_period` options to MDBX (#10612)
28e46bfd4 chore: remove phf from static files (#10259)
c5a1c0e13 feat(tree): make remove_before aware of the finalized hash (#10574)
51524f253 feat: introduce `ChainSpecParser` generic in cli types (#10582)
be57b648a fix(op): `Clone` impl for `OpEthApi` (#10611)
83b116aea chore(reth-etl): use constant (#10614)
c228fe158 fix(op): empty receipts for block not counted by file client (#10581)
a4f405afe fix: op fee fields (#10615)
671adf563 release: v1.0.6 (#10609)
b0f394951 chore: bump op-alloy to latest (#10607)
0dbab7af9 test: `TransactionsProvider` implementation of `BlockchainProvider2<DB>` (#10594)
71cad4a3c tree: bump persistence threshold and memory buffer target (#10608)
ec5ce2196 chore(deps): bump alloy (#10537)
019ec727a chore: re-export reth_chainspec in reth (#10604)
ca5d3b00e chore(tree): make on_engine_message more concise (#10605)
422705550 fix(hive): remove `eth_createAccessList` tests from expected failures (#10601)
6f086d106 chore(trie): clean up state root methods (#10598)
3be92d504 Pending receipt (#10597)
29b02cc0e chore(trie): `StorageRootProvider` (#10592)
ffc4f641a ethereum: add unit tests for consensus validation (#10578)
cf7416e2f chore(trie): remove plain state proof variant (#10593)
001339923 refactor: split validate_block_pre_execution into hardfork specific functions (#10576)
8987b4fe5 fix: pop consolidation requests in payload builder (#10591)
f600ff07d feat(debug): engine reorg util depth (#10575)
5b7d63742 chore: bump discv5 (#7981)
85ef1fb98 docs(book): update observability.md (#10587)
0b6480c85 fix(op): receipts import, fix chunked read of file with optional block data (#10577)
b1d6e27e3 chore(tree): make remove_before bound inclusive (#10559)
16577e0e0 chore: add tempfile to dev dep (#10569)
7ea748e2d refactor(provider): random_block and random_block_range functions (#10563)
7df7bc2c1 chore(op): Add `OpChainSpec` (#10516)
e6dc947a3 chore: sort lints (#10565)
7a76fcbdb test: `BlockReader` implementation of `BlockchainProvider2<DB>` (#10557)
f6f16fcd9 clippy: add `needless_for_each` clippy lint (#10555)
1d07ff72e docs(reth-engine-tree): slightly improve inline docs (#10561)
69e5a8587 clippy: add `manual_is_variant_and` clippy lint (#10556)
763e96164 chore: delay initial filter tick (#10564)
1c427c6c6 feat: Properly bubble up `InsertBlockFatalError` (#10276)
498ced8be fix(engine): memory overlay hashed storage root (#10543)
a24fe46b1 remove transaction forwarder trait (#9678)
8191e0c05 chore(chainspec): move op stack chain specs to `reth-optimism-chainspec` (#10485)
51e991692 chore: export `RethApiClient` trait (#10545)
ec31b247e feat(rpc): implement eth_getTransactionBySenderAndNonce (#10540)
4138b52a3 chore: remove usage of RichBlock (#10538)
c4a231335 perf(engine): lazy load overlay trie state (#10541)
1ac533630 dev(pool): trait object safe `BestTransactions` (#10478)
38087a09f perf(trie): remove some clones (#10406)
20756d672 feat: use system call to update blockhashes (#10535)
655495d8c clippy: add `implicit_clone` clippy lint (#10529)
709e7b73c clippy: add `if_not_else` clippy lint (#10524)
1b1e835fb Feat: exact gasUsed for eth_createAccessList  (#10422)
e0b994b06 storage: add `test_block_body_indices` for `block_body_indices` (#10429)
dba315ff8 clippy: add `unnested_or_patterns` clippy lint (#10526)
9c57c4a45 clippy: add `redundant_else` clippy lint (#10525)
73a424205 chore: rm unused op rpc types (#10534)
29058ad7e clippy: add `cloned_instead_of_copied` clippy lint (#10530)
042faacb1 feat: impl From alloy-consensus::TxType  for reth_primitives::TxType (#10523)
986e402fe clippy: add `option_as_ref_cloned` clippy lint (#10528)
cac70d93e chore(reth-codec): remove unused code (#10531)
96a8c23d9 chore(reth-codec): use constant (#10533)
cb6e5ed83 fix(trie): consider all intermediate nodes invalidated for wiped storage (#10476)
1216273b9 chore: fix clippy (#10532)
5254f16e0 feat: add impl From BlockExecutionOutput for ExecutionOutcome (#10507)
dfcfe8d27 tx-pool: add `try_from_consensus` for `PoolTransaction` (#10504)
6459acb83 chore(deps): weekly `cargo update` (#10506)
7f56beed1 primitives: rm `IntoRecoveredTransaction` for `TransactionSignedEcRecovered` (#10505)
c788b6a58 fix: `transaction_by_hash_with_meta` implementation of `CanonicalInMemoryState` (#10501)
e834f7c9a docs: fix git clone urls (#10490)
bcb0a2373 fix: only set isSystemtx if true (#10496)
b50a9ba45 refactor(rpc): Use TransactionInfo instead of individual fields (#10500)
a17b51986 fix: set gas price for op deposit (#10495)
6dc00a29c tx-pool: rm into tx constraint for `PoolTransaction` (#10057)
082f37cb8 feat(rpc): Add method removal functionality for RPC transports (#10497)
45442872d refactor: mv `ChangedAccount` (#10472)
3d2de4781 chore(txpool): rename the function of tx_by_sender_and_nonce (#10473)
8df9efd6c docs: fix broken link in review.md (#10480)
adf7fb2b3 chore: remove clippy::missing_debug_implementations (#10491)
e52ca0ec5 chore(cli): rename optimism args test (#10492)
dbdb1117a rpc: remove special module handling for `eth_callBundle` (#10486)
22f928a2b feat : add the ability to connect to a peer (#10028)
a7a9f9f3b Add emhane as code owner for optimism crates (#10488)
6bb9bbbcb Add emhane as code owner for `reth-chainspec` (#10487)
0791b9eac refactor: replace ForkChoiceStream type with generic stream type (#10458)
8ba7821a4 fix(provider): check list size before calling `range.nth` (#10460)
23f9f4adf fix(provider): fix subtract overflow on `block_state_by_tx_id` (#10467)
961821cf3 fix(exex): instrument `ExEx::launch` with the span (#10481)
07bf04df8 Remove redundant `EthChainSpec::Hardfork` (#10470)
3e3f33299 fix(trie): take earliest value in `HashedStorage::from_reverts` (#10475)
accd051c5 perf(rpc): avoid redundant tx decoding on witness generation (#10474)
72293c9d7 chore(trie): remove `PrefixSetMut::contains` (#10466)
debd1ebd3 fix(trie): collect revert state for historical storage root (#10465)
0a7ac4177 refactor: use EIP TX_TYPE_ID (#10471)
24495cdc5 Add tests for withdrawals provider (#10428)
70a1015fd chore(tree): remove BlockAttachment usage (#10453)
ae0c7beb2 feat(trie): hashed state from cache (#10455)
ed6ee0c04 docs(ci): expand introduction to CI workflows (#10291)
85c1c0762 fix: FetchFullBlockRangeFuture doesn't return on bad header (#10449)
7d8196e29 chore(rpc): config network specific transaction type in node builder (#10417)
7fb9a0433 test: `BlockIdReader` implementation of `BlockchainProvider2<DB>` (#10362)
f686e0b45 Test `CanonStateSubscriptions` for `BlockchainProvider2` (#10361)
15810108e chore(net): expose max concurrent `GetPooledTransactions` reqs in cli (#10358)
f2e0bc073 feat: `ChainSpec` associated type (#10292)
a4c30ead7 test: `CanonChainTracker` implementation for `BlockchainProvider2` (#10378)
82f10164d feat: make js-feature  non default (#10447)
dc4c71ec2 chore: no feature gated imports (#10440)
aa8b3de6b Make js-feature non default (#10445)
a94246765 consensus: fix `build_header_template` output (#10444)
bb734e919 exex: add more robust tests for `finished_height` update (#10439)
362c2380e consensus: refactor `build_header_template` (#10442)
f4255216c fix(trie): filter out removed nodes on extend (#10433)
82f41c55a evm: wider use of `RethEvmBuilder` (#9944)
cdc39a744 fix: range update (#10424)
dc4643f69 chore: replace `RichBlock` by `Block` (#10399)
564434758 feat: add method in txpool for handling pending transactions (#10303)
2dc7f1347 chore: Update granite mainnet time (#10430)
64fb41cab fix link typo on `BlockState` (#10431)
3da119b1a test(provider): `RequestsProvider` of `BlockchainProvider2` (#10356)
302ce7f48 chore: make `consensus/debug-client` helpers public (#10423)
b75e3df3d test: add gh workflow to run hive tests with experimental flag (#10355)
94db8cdc0 test(provider): `ChangeSetReader` of `BlockchainProvider2` (#10415)
7a7c1c5b5 fix(rpc): apply blockhashes update in witness RPC (#10419)
5a522c81f fix(rpc/otterscan): set fullblock.tx_count with block's (#10421)
1f6993d77 test(trie): fuzz in-memory storage nodes (#10413)
f0197a557 test: ReceiptProviderIdExt (#10420)
ae8ce20c0 fix: block_range (#10418)
ebb2d5558 chore(lint): allow needless update for tests (#10414)
1e52ef948 fix(trie): skip cleared storage database lookup on `InMemoryStorageTrieCursor::next` (#10412)
457439ea2 fix(trie): clear all deleted storage nodes on extend (#10411)
e2ea8ac28 test: `BlockReader` implementation of `BlockchainProvider2<DB>` (#10370)
d9936a96e Use more appropriate names for forkchoice subscriptions (#10401)
1f5fb90bc fix: getAccount (#10402)
a6689e637 fix(trie): filter in-memory storage node on `seek_exact` (#10410)
aa705b2f4 chain-state: rm `Arc` wrapper around `BlockState` for `pending_state` (#10408)
c0902c8b4 deps: bump `derive_more` to 1.0 (#10403)
72ed7a9b0 evm: add unit tests for `ConfigureEvm` with Op cfg (#10280)
9c71fa848 test: `BlockReaderIdExt` implementation for `BlockchainProvider2` (#10376)
5470574bf feat(node): remove freelist from status log (#10395)
337367072 fix: reorgs with forks including invalid blocks (#10320)
ec46fccec feat: track persistence metrics (#10250)
9926c6d38 docs: fix discv4 typos (#10394)
d2010d5d2 feat: add `ForkChoiceSubscriptions` to `FullProvider` supertrait (#10319)
5530fb068 chain-state: add unit test for `set_pending_block` (#10363)
3aaa284a5 chore(net): expose pending pool imports bound in cli (#10357)
170a39690 chore: invert p2p and network types dep (#10390)
387ce3efa feat(provider): implement `ForkChoiceSubscriptions` for `BlockchainProvider2` (#10318)
32fb61337 exex: add unit tests for exex manager (#10380)
6898c30a6 feat: add `subscribe_safe_block` & `subscribe_finalized_block` to `CanonicalInMemoryState` (#10317)
cd05a96fe dep: rm `confy` as a dep (#10290)
56e1448db feat: Superchain mainnet - `Granite` hardfork timestamps (#10387)
7f6aa433c feat: light cleaning (#10385)
9dc855d7e chore: update hive expected failures (#10386)
1573746ce chore(db): enable `arbitrary` feature on `reth-db-models` (#10384)
d9938a508 chore(deps): weekly `cargo update` (#10379)
297934fe2 feat(rpc): get_account (#10369)
e27ad1a2b very small refactor (#10382)
9bed8cf46 feat: improve connecting downloaded blocks (#10368)
f67608d9f test(provider): `BlockNumReader` of `BlockchainProvider2` (#10354)
fceec0a36 chore(tx-pool): pool cli args (#10323)
8c02acad7 chore(net): Expose max seen transactions history size as cli arg (#10327)
d4acf69ab fix(net): fix constants for `TransactionsManager` that use `LruMap` by length (#10324)
153a3e352 feat: add impl From GenesisAccount to Account (#10256)
71bf5a1d7 test(provider): `HeaderProvider` of `BlockchainProvider2` (#10330)
85cdf01d2 fix(trie): exclude trie updates for root node (#10306)
6bf3ca320 feat(db): models crate (#10314)
b6edbe36d fix(payload): 7702 hardfork activation validation (#10360)
741b65f8b test(provider): `BlockHashReader` of `BlockchainProvider2` (#10335)
a918779f2 dev(primitives): signature conversion (#10371)
2d58c0bd3 chore(node): Refactor node builder wrt stable 1.79.0 (#10367)
33985d289 chain-state: add unit test for `to_chain_notification` (#10373)
57c99e80a fix(engine2): ensure static files are up to the tip when coming from an old engine node (#10299)
1edfbd7a6 chain-state: derive `Default` for `ExecutedBlock` (#10372)
c9dc7123a docs: fix param name (#10366)
6ace2fbba refactor(storage): small refactor in `convert_block_number` (#10364)
fac41d368 chore(lint): Fix lint (#10359)
bff65e5f4 feat: disable l1 data gas cost in --dev mode (#10332)
45285cfdd rpc: small refactor in `ommer_by_block_and_index` (#10325)
b6f02a8e9 feat: implement tx validator for either (#10328)
668945f97 fix: use saturating add for datagas (#10315)
821d3e611 feat(provider): receipt and transaction by id in `BlockchainProvider2` (#10281)
9f1567011 feat(provider): `BlockchainProvider2::transaction_id` (#10296)
15306f4f8 doc: update the recommended hardware in the installation page (#10313)
a0cf68ead fix(engine): aggregate state for chain notification (#10295)
c2808f116 feat(provider): `BlockchainProvider2::account_block_changeset` (#10311)
97e153ab6 reth book: add instruction to update rust version (#10308)
60905f24a book: add env guide to `exex` book (#10310)
442156500 fix(provider): range methods in `BlockchainProvider2` (#10300)
418e2235d fix: set first block at the beginning of batch execution (#10302)
89c0c0f0c feat(net): Add panel for dropped egress cap messages (#10275)
a92a3ec5c docs: add engine kind flag to op-mainnet book (#10289)
834858cae chore: remove rlp derivation from sealed block (#10287)
b52a65bf4 chore(reth-storage-errors): no_std support (#10011)
f8db95f45 chore(consensus): ease accepted validation types (#10285)
80e79bdfa feat: return empty list for post-merge blocks in BlockchainProvider2::ommers (#10286)
91c1df379 fix: make RequestsProvider method aware of in-memory state (#10252)
ac3d62ba0 perf(tree): re-use intermediate nodes (#9836)
8a802dab6 chore(engine): enable engine debug streams in new implementation (#10282)
dfcd00fc6 feat(ci): compile `reth-consensus` crate for Wasm (#10277)
5ab8b732f fix(ci): include Wasm job in merge group success (#10279)
3d5c4b7e3 fix(network, p2p): Wasm compilation (#10278)
c9af0847c rpc: small refactoring in `build_transaction_receipt` (#10269)
d2094d00d feat(ci): check all crates for Wasm (#10084)
52ae25a7c chore(reth-consensus): `no_std` support (#9663)
b2a035ac9 chore(reth-execution-errors) no_std (#10048)
dba52132e chore: prevent warnings on docker build (#10273)
269ba8963 rpc: rm `PeerCount` usage (#10271)
b8a6f8788 fix: fix tx propagation when full (#10251)
3fe862eb4 chore(deps): weekly `cargo update` (#10257)
af85c133d docs: delete interface (#10265)
330f73b7e refactor: remove `#[reth_codec]` and `#[derive_arbitrary]` macros (#10263)
6eae55e51 chore: fix typos (#10260)
e94bd244e chore(reth-engine-primitives): remove unused code (#10261)
603e39ab7 evm: unit tests for `evm_with_inspector` and `evm_with_env_and_inspector` (#10253)
532ea9d09 deps: rm useless dependencies (#10255)
80cf6db98 typo: replace [Block] by [`Block`] in doc (#10254)
25ab85c5a feat: ForkChoiceNotifications for BlockchainProvider and NoopProvider (#10231)
cdf5d8e9e Add generic BlockStateNotificationStream type for pending, safe, finalized watchers (#10249)
faa38cec4 fix: TreeState::on_new_head fork and reorg handling (#10232)
2840a9578 fix: make WithdrawalsProvider methods aware of in-memory state (#10245)
80cf638e5 docs: add more engine design docs (#9748)
9b5a166e5 fix: use --chain base for op-sync CI test (#10244)
5671d0a5f fix: use op-reth bin for unwind in op-sync CI (#10243)
e280aaf19 fix: make EvmEnvProvider methods aware of in-memory state (#10240)
1527dc03f chore: remove WriteTransactions from PersistenceAction (#10241)
ffd71a0b0 chore: release 1.0.5 (#10242)
995c5fc8e feat: add stage run <STAGE> tests (#10164)
fe43f575f chore: remove reference to EngineApiTreeHandlerImpl (#10239)
3ae96ba00 test: add test for prune.segments toml parsing (#10236)
907209e92 feat: add setting for how many blocks can be persisted (#10237)
1d83d14e8 feat: function-like macro for generating tests (#10233)
547ee1477 chore: add trace for when nothing to propagate (#10226)
66ddc5d8f chore: use exact max full peer count or round (#10228)
e49f173f1 fix: only mark propagated txs as seen (#10234)
c8a332fb8 feat: add metrics for dropped outgoing messages (#10225)
50397cd36 evm: add unit tests for `ConfigureEvm` trait (#10230)
3c709981d deps: rm unused deps (#10229)
5716c2019 Add support for optimism granite hardfork (#10107)
7634995ce docs: fix Common metrics types path (#10224)
0216e78f5 feat: make additional validation tasks size configurable (#10200)
d2b0ff40d feat: integrate engine2 for optimism (#10222)
aa278bcde feat: inject locally built payloads into the tree (#10216)
63c71cf38 feat: make Eth node launcher generic (#10218)
0ee689f35 fix: detect invalid buffered block when insert fails (#10217)
c4aae6db3 feat: make EthService generic over engine types and block executor (#10212)
75a501e9f chore: derive serde traits (#10198)
71bf575a4 fix: properly modify spec id for evm (#10210)
106a0c7cf refactor: replace once_cell Lazy with LazyLock (#9844)
a206eb369 Bump tokio version to mitigate default error in `reth-chain-state` (#10207)
ea25df7ed chore: downgrade ipc warning (#10205)
c639648de fix: return only canonical blocks for history_by_* methods (#10190)
685398d5f refactor: derive `PartialEq` for `CanonStateNotification` (#10195)
340b6069c `reth-eth-types`: Do not import `JsInspectorError` by default (#10202)
7e5414eed fix: add requests root when converting alloy header (#10197)
0f6cd0af8 chore: remove some outdated todos (#10196)
faff24b68 Convert pending block to a watch channel (#10203)
e907f0eab deps: rm unused deps (#10192)
bd2882e13 chore: allocate for encoded txs (#10193)
9082c19f3 feat: use in memory state for header_td (#10189)
0bf35ab20 feat: add basic engine2 exec and root perf logs (#10188)
d62ce7953 feat(engine-util): reorg interceptor (#10173)
a70620669 feat: add block_body_indices for BlockchainProvider2 (#10106)
e199173de chore: Replace `reth-provider` dependency for `reth-eth-types` with direct dependencies (#10175)
d191886c3 build in --debug mode for update-book-cli (#10178)
d31a8eef4 fix: reset auth list in txenv on non-7702 txs (#10177)
f7cb059c5 feat: add error tracing when persistence service fails (#10170)
aa533dade docs: add spec docs and todo for OP (#10171)
48d4c798f fix: dont reset build interval when block finished (#10166)
1d4638724 feat: support ms for --builder.interval (#10168)
0fb72762d feat: integrate executed block into OP built payload (#10162)
7ec3b92d3 feat: introduce EngineApiRequest type (#10158)
31b5548e0 feat: add stream helper types (#10163)
9ad7ebbbc feat: add executed block to built payload trait (#10161)
4107df814 chore: lower persistence threshold (#10156)
27d21b037 test: engine tree live sync, FCU extends canon chain with existing blocks (#10154)
a77ce062f feat: execute downloaded blocks in batches (#10155)
7486d5baf feat: swap `Dashmap` for `StaticFileWriters` on `StaticFileProvider` (#10089)
e7214afe5 test: live sync test to check make canonical (#10131)
2ab17a4de Feature gate `jsonrpsee` related crates and check features powerset for `reth-rpc-types` (#10141)
f8104cc93 feat: make EngineApiRequestHandler generic over request (#10147)
5ca492119 fix: use in memory state for state_by_block_number_or_tag (#10152)
8d07bdb81 Add CI lint check using cargo hack for checking features powerset (#10142)
29ec03c55 chore: remove EngineTwoDockerfile (#10151)
fbebde6b2 fix: only use tags if they have been set (#10150)
6f4291d94 feat: add `--engine.experimental` flag to enable engine2 (#10051)
b0ded038b feat: keep sender in tree task (#10148)
b01ccc271 feat: add header to stage command (#10127)
d29c5a880 chore: remove clippy::manual_unwarp_or_default (#10146)
c4b5f5e9c feat: ensure consistent forkchoice state always (#10144)
e24e4c773 Check features powerset for `reth-primitives` (#10138)
35532e7c8 chore: ensure persistence receiver is dropped (#10133)
680ca6b73 fix: use actual latest state for BlockchainProvider2 (#10137)
eb731762e chore: rename EngineApiTreeHandler (#10140)
92b2e6137 chore(reth-node-metrics): remove unused code (#10139)
365012b9c chore: remove trait EngineApiTreeHandler (#10136)
f4e6a09bf Check features powerset in `reth-codecs` (#10134)
199f72804 chore: release 1.0.4 (#10122)
3bfffc625 docs: misc engine docs (#10135)
2e45697d6 feat: add EngineApiKind enum (#10128)
ef728b580 typo: replace [BlockId] by [`BlockId`] (#10121)
58a5d2646 trie: add `Default` impl for `AccountProof` (#10132)
bdb8b9fae remove pending block support from OpEthApi (#10074)
06e7afbd2 feat: add EngineApi metrics (#10125)
e20d94fe3 chore(engine): enable clippy checks (#10120)
74ba71f7b update op-reth docs for discv4 option (#10119)
e93d36a35 feat: Support custom EvmConfig for ethereumpayload builder (#10117)
08158e444 fix: validate header against parent in engine2 (#10114)
61500238f dep: rm unused dependencies (#10099)
443f7d56a perf: spawn eth orchestrator as regular task (#10113)
6008deb36 chore: rm redundant ( (#10112)
029d8ce11 chore(deps): bump EmbarkStudios/cargo-deny-action from 1 to 2 (#10109)
40f44b721 fix: use in memory state for state_by_hash (#10105)
eda161af2 feat: enable asm-keccak on more platforms (#10101)
33f612a41 chore(net): Move `reth_network::NetworkEvents` into `reth-network-api` (#10062)
f8e6e2e3d chore: add additional traces for promoted txs (#10093)
b9ff65511 fix: ensure we're skipping invalid tx kinds (#10095)
c3b334bca chore(reth-network-api): fix typos (#10094)
447e3cab3 test: live sync transition, tree requests required blocks (#10082)
735738dff chore: dont use tmp lock vars (#10092)
e1406d62c Add in-memory block TD lookup support (#10052)
0bb565800 tx-pool: add unit tests for `add_sender_count` (#10086)
5a8a7bc8e chore(rpc): remove parent beacon root from conversion functions (#10090)
6f8cba6bc feat: add metrics for in-memory state (#10085)
2d0c10e57 fix: use recv timeout if persistence task is active (#10087)
cf9b6bd9e feat(evm): support `wasm32-wasip1` (#10083)
444c7a961 fix: deadlock on StaticFileProvider::get_writer (#10069)
cea8b7a9b tx-pool: add unit tests for `EthPooledTransaction` (#10080)
247be8c6a feat: add api bindings for eth_simulateV1 (#10050)
f0df06f31 feat: add empty state method for tests (#10045)
6c76845ce chore: re-add derived 7702 arbitrary impl (#9720)
e3d624189 workflows: don't run assertoor tests on forks (#10077)
d12f0ab81 Move `PeersHandleProvider` to new module `reth_network_api::test_utils` (#10060)
fb5d94ece tx-pool: add unit tests for `FinalizedBlockTracker` `update` (#10078)
71bbae90e chore(reth-ethereum-engine): Replace HeadersClient + BodiesClient with BlockClient (#10065)
673e9181e chore(reth-beacon-consensus): Replace HeadersClient + BodiesClient with BlockClient (#10066)
83ac7b5dd chore(reth): Replace HeadersClient + BodiesClient with BlockClient (#10067)
88be76708 chore(reth-engine-tree): Replace HeadersClient + BodiesClient with BlockClient (#10073)
b59260739 Move reth_eth_wire::ProtocolVersion and reth_eth_wire::Capabilities to reth-eth-wire-types (#10071)
9c80cc4a5 chore(reth-network-p2p): Replace HeadersClient + BodiesClient with BlockClient (#10058)
a824735ad chore(reth-node-builder): Replace HeadersClient + BodiesClient with BlockClient (#10059)
2f38bb38c chore(deps): weekly `cargo update` (#10064)
9f03f8a26 fix: start payload builder on already canon head (#10041)
f3e79df30 chore(net): move `reth_network::BlockDownloaderProvider` to `reth-network-api` (#10003)
c2926de32 chore: replace unreachable error variant (#10049)
e98acdc8d feat: improve download observability (#10039)
2bfa2defc implement part of `reth p2p rlpx ping` (#9762)
52cdcf0a9 Added sync stages status to eth_sync (#10042)
1290260da chore: remove expects in persistence task (#10031)
721e732e4 fix: drop `provider` before getting the next one on range queries (#10034)
d3ae2b7d7 feat: use BTreemap for block numbers in CanonicalInMemoryState (#10040)
12ccc0ab5 feat: add prague check in ExecutionPayloadValidator (#10033)
29dc8fc05 feat: add engine2 Dockerfile (#10036)
d1b261224 deps: bump zstd (#10032)
e9870e0d6 feat: support in memory lookups in BlockchainProvider2 (#9999)
a6733cafa feat: add more granular tx propagation logs (#10026)
34f4b6efa chore(net): move `reth_eth_wire::DisconnectReason` to `reth-eth-wire-types` (#10006)
054f8ffbb tx-pool: rm  constraint for `PoolTransaction` (#10024)
f2bb8e74d chore: use correct type in `getAccount` (#10023)
06fbdd98d chore: use `UnifiedStorageWriter::commit` where possible (#10019)
f9ad47ed6 chore: sort workspace Cargo.toml entries (#10022)
967502c7e chore: use alloy AccessList result (#10021)
f395ff893 feat: add method to check prague active at timestamp (#10020)
d7f9a255e feat(primitives): `k256` crate fallback for `secp256k1` module (#9989)
340c95eba fix(rpc/trace): trace_filter filting with trace's address (#9722)
167f6eb59 feat: add tx-level subpool add and remove traces (#10001)
ae4be80cd chore: better tree observability (#10014)
b2b1b5349 tx-pool: add `Default` impl for `TransactionOrigin` (#10013)
d6388fdfa chore: downgrade empty blocks to persist trace to debug (#10012)
44028076f feat : add storage_root provider function for account (#9659)
db2ece8d0 op-reth: Enable eth_getProof inside authrpc (#10010)
7069efc75 refactor(trie): remove dependency on `reth-db` and `reth-db-api` (#10008)
f73a919a4 refactor(trie): move database implementations of trie cursors to `reth-trie-db` crate (#10004)
d5d46a861 feat(rpc): `debug_executionWitness` (#9249)
217c21762 refactor(trie): move hashed post state database transaction related functions to `reth-trie-db` crate (#9987)
c71c81303 chore(sdk): enable referencing network type via `FullNodeComponents::Network` (#9921)
1a74d1407 feat(ci): `check_no_std` -> `check_wasm` (#9982)
5f39f42ce feat: add has eip7702 transactions (#9996)
333dbdeda chore: move `remove_blocks_above` to `StorageWriter` (#9997)
7fa16c915 feat: add pipeline consistency check to launch ctx and use in launcher (#9994)
b10517b3b chore(net): extract `NetworkHandle` methods for launching node to traits (#9966)
f3fac56fd chore: move `save_blocks` to `StorageWriter` (#9991)
30840b7b4  chore: combine persistence task removal methods (#9975)
09d5cb53a fix: do not truncate blocks to persist (#9986)
a28b2f09d chore(net, primitives): use `derive_more::Display` more (#9992)
0a1be8ca5 test: add engine tree test, FCU triggers reorg with all the blocks present (#9943)
cd0ec5703 feat(primitives): improve `no_std` with manual errors and `alloc::String` (#9990)
8e67053de typo: fix typo in `best` tx pool doc (#9988)
5e6ae6e94 feat(trie): expose trie witness on proof provider (#9915)
f2c736045 feat: handle disconnected blocks (#9981)
f25367cff tx-pool: Make txpool independent of primitive tx types (#9916)
1ba8eb836 chore: turn static file field generic on `StorageWriter` (#9980)
de0bbb422 chore(trie): move `PrefixSetLoader` to db crate (#9985)
e95ec4cbd chore(net): Remove dependency `reth-network-p2p` -> `reth-network-types` (#9984)
321032fcd feat: Add OP cli flag to opt-in into discv4 discovery (#9938)
41d5c07b7 chore: remove `segment` argument from `increment_block` (#9977)
3c2759dcc fix: only write receipts once on `PersistenceService::save_blocks` (#9976)
3c0bbb354 feat: include block number in input (#9971)
93ab09821 feat: combine block writing in persistence task (#9960)
f52dc0693 fix: remove persisted blocks properly (#9969)
b869adab0 doc: replace expired example (#9973)
e8688b6e6 fix: treat maxfeepergas 0 as missing (#9967)
f17c72ff0 fix: also ignore nonce in eth_estimate (#9968)
62246199b feat(exex): backfill stream in batches (#9738)
c58ffc47e chore: remove outdated Bodies stage TODO (#9965)
d94caa5af chore: remove outdated TODOs on execution tests (#9964)
78703b572 Move reputation types from `reth-network-api` to `reth-network-types` (#9914)
02d25304f fix: dont select more rayon threads than cpus (#9956)
0fece98b0 fix: allow empty IP when decoding Ping's from field (#9953)
6a19d275b refactor(trie): use `reth-storage-errors` for `DatabaseError` type (#9951)
36f806d19 feat(provider): more logs for static files (#9949)
d57163709 feat: set pending block in canonical memory (#9950)
b38a3aece chore: remove `write_trie_updates` from `StorageWriter` (#9947)
78c461ea4 fix: share `DatabaseProviderRW` on `PersistenceAction::SaveBlocks` (#9929)
245284d62 fix: update indices outside of loop on `PersistenceService` (#9945)
750eb2625 fix: only check canonical height (#9941)
d16ec0de5 docs: improving docs from `TestBlockBuilder` (#9936)
8dfaf6c97 chore: pick safe hash for initial download (#9934)
263be9cf1 feat: handle insert buffered block err gracefully (#9933)
999f5a728 fix: persistence action initial block insertion (#9930)
611a0292f chore: move `write_hashed_state` from `StorageWriter` to `trait StateChangeWriter` (#9927)
fcbdbf361 feat: support DNS in reth.toml for trusted_nodes (#9864)
f9ed57d6a test: add TestBlockBuilder (#9925)
a4c3f9c19 chore: use StateRootProvider::hashed_state_root_with_updates (#9928)
7864ae057 feat: handle tree execution errors gracefully (#9920)
893bb2d7d fix: temporary attribute to prevent clippy warnings (#9922)
a90fc90df feat: add better engine insert block error type (#9884)
334a2d4ba chore(blockchain-tree): rename BlockchainId to SidechainId (#9891)
f3ce077c8 fix: write transactions on save_blocks call (#9912)
04986f2d0 chore: dont disable discv4 on op (#9918)
fd1ca7380 feat(trie): database trie witness (#9913)
2c2a782bb feat(trie): witness (#9803)
d90f2396e fix: add missing commit calls for persistence (#9906)
9586b9a4f chore: refactor BlockExecutionError into validation and internal errors (#9911)
dec0c4403 chore: remove more redundant BlockExecutionError variants (#9905)
bc48459da fix: terminate on closed persistence task (#9910)
27e609df1 fix: only persist the canonical chain (#9908)
65720c9fc fix: ensure we can handle pending target for feeHistory (#9904)
e4ae2a7ac fix(op): ensure `EthApiServer` helper trait method default impls, call `OpEthApi` overrides (#9879)
cf10543d6 fix: update tracked canonical head on backfill finish (#9902)
d9c68f837 docs: update optimism book with new `op-node` flag `--l2.enginekind=reth` (#9901)
624f5d561  fix: set finalized & safe block information on startup (#9898)
e3d375a8f fix: check if head block is already canonical (#9900)
4f8721aff fix: use correct range to persist (#9896)
f72eab299 fix: ensure backfill and persistence dont happen at the same time (#9895)
3a088a9ec fix: also update persisted height after backfill run (#9894)
cd430121d fix: overflow on persistence check (#9892)
de467c9f7 test: add engine tree test, FCU with missing head  (#9890)
5827b96d1 fix "feat(evm): use RethEvmBuilder inside ConfigureEvm" (#9813)
ba1c6fcf4 feat: connect buffered blocks on backfill sync finish (#9876)
2bd99faee perf: use try_join_all when resolving bootnodes (#9886)
eb2d0a22d fix: also set configured bootnodes for discv5 (#9885)
8bd5cafe9 e2e-test: add workspace lint (#9882)
1a30968f6 chore: remove unused second BlockchainTreeError variant (#9881)
5b0f6a288 chore: remove unused PreCancunBlock beacon error (#9880)
85b326756 chore: improve tx forwarding (#9878)
700caca7a Revert "Moving Optimism bin to Optimism Cli" (#9875)
700e66033 fix(tree): hashed state aggregation (#9874)
c2410606c test: refactor engine tree TestHarness (#9871)
f43fd7bd6 refactor: Add AccessList result type to eth_createAccessList (#9811)
0b91e03ff feat: state housekeeping after backfill finished (#9870)
0b9e9f46c test: add new test functions for engine tree (#9869)
56b279809 Moving Optimism bin to Optimism Cli (#9439)
8eba1286d feat: support make canonical on demand (#9867)
d6f633b69 fix(node-core): build time cargo features (#9866)
067dad79d feat: update backfill sync state to pending when we request it (#9865)
223f8ae0f chore: move pending_with_provider to a struct fn (#9850)
06896b3ef chore: rm uneccessary trait impl (#9848)
a1053f297 docs: fix code link in db.md (#9852)
ef8489941 tx-pool: add unit tests for `LocalTransactionConfig` (#9859)
365809c07 chore: enable unused deps check in reth-engine-tree (#9861)
f0975a5f0 fix(txpool/blob): make blob delete failed more accurate (#9846)
fe2af8fa5 fix(disc): correct order of `NodeRecord` fields (#9858)
b96e0c67f fix: rm bad rpc error conversion (#9857)
f6a69f93e rpc: refactor `transaction_by_hash_at` (#9854)
15121635b chore(deps): weekly `cargo update` (#9856)
f37ef730c tx-pool: add unit tests and refactor identifiers (#9855)
6fa81153b chore: fix typos (#9851)
966ca011f rpc: refactor `rpc-eth-api` (#9843)
7df42454c chore: fix clippy errors (#9845)
1ffa3d147 impl `TryFrom<alloy_rpc_types::Transaction> for TransactionSignedNoHash` (#9823)
800e247f9 fix(engine): use provider to initialize persistence state (#9785)
5576ec3bf txpool: fix typo (#9842)
f1814e871 feat(op): rm link to testinprod state dump (#9756)
0a4b717d1 fix(op): add empty receipts for genesis if first block is one (#9769)
87564bd17 chore(revm): rm no longer used BlockExecutorStats (#9830)
568873949 feat(trie): allow passing intermediate nodes to overlay state root (#9839)
77f5ed1a7 feat: add TreeConfig (#9833)
41c34608b chore: misc canon docs and pending block update (#9832)
efcc77ef4 feat(trie): trie node update extension (#9838)
6d036cd95 perf(trie): pass owned hashed state to trie methods (#9837)
07f1978f7 chore: update codeowners chain-state (#9835)
206ca8153 feat: add CanonicalInMemoryState::set_pending_block (#9834)
c1a8791a4 chore(trie): database trie cursor factory wrapper (#9831)
cf7698ab0 chore: remove outdated docs (#9827)
7475f4f0f chore: reverse MemoryOverlayStateProvider block order (#9826)
ac2853884 feat: integrate memory overlay in canonical state (#9817)
f734e614d chore: use readonly providers in StorageWriter (#9822)
18ebc5eae chore: rename to PersistenceHandle::spawn_service (#9824)
aa4cc4843 engine: improve backfill state tracking (#9820)
a54ece4fe fix: terminate node on fatal error (#9810)
c4bf5bb8c fix: gas and gasUsed in trace root only for ParityTrace (#9761)
b020ff218 fix(net): batch `P2PStream` sends (#9498)
2766c355e feat: invole on_request trackers (#9814)
0be2c17a9 chore(rpc): `EthApiTypes` trait for network specific error AT (#9523)
f175f6ec9 fix(cli): set receipts pruning for chain without deposit contract (#9782)
05135c41e chore: more misc tracing (#9809)
93ebdf292 feat: move metrics to its own crate (#9691)
abdbc44c9 Revert "feat(evm): use `RethEvmBuilder` inside `ConfigureEvm`" (#9805)
c1b541086 feat(trie): multiproof (#9804)
db8706e5d chore: fix unnameable-types lint on `blockchain-tree` and `rpc` crates (#9757)
22a25caed refactor(trie): move proof database related operations to an extension trait in `reth-trie-db` crate (#9743)
6aea07105 FatalError in EngineHandlerEvent  (#9800)
8eb7416ce Adding Canyon hardfork to optimism devnet (#9801)
f74e996c5 chore: move tree module to single file (#9802)
115a58b32 feat: improve in memory block tracking (#9773)
6faa7f963 chore: add some request instrumentation (#9797)
b864185f6 feat(evm): use `RethEvmBuilder` inside `ConfigureEvm` (#9745)
ec505b22c fix: set pipeline state back to idel (#9795)
b4ac3fbfb docs: redirect the reth-docs chapter link (#9565)
d06149aa4 fix: use saturating sub for getting safe and finalized hashes (#9792)
ec9af398c feat: update network status with new head (#9788)
e23051740 fix: use parent hash for chain traversal (#9790)
c34f344cb chore(node/event): reduce the dup of extract eta and checkpoint (#9789)
bc7b5ff35 feat: implement compact for eof bytecode variant (#9654)
527cc4460 feat: remove StateChanges and StateReverts (#9781)
753136644 fix(rpc/eth): remove cache when reorg occured (#9775)
6b1fbf82b chore: move MemoryOverlayStateProvider to chain-state crate (#9779)
bd7004a06 chore: replace generic state provider with boxed trait (#9780)
42a92eef0 chore(metrics): summable reth_info value (#9679)
9b8506f93 feat: remove persisted blocks from canonical in mem chain (#9776)
079c648f5 feat: add engine2 binary (#9772)
d395df29f feat: add missing canonical checks for safe+finalized block (#9765)
9de9b7cb3 chore: relax some builder api trait bounds (#9770)
859321acd feat: remove persisted blocks from memory (#9768)
9c7107bc6 test: use native test macros (#9766)
bacc61e56 feat: provide CanonicalInMemory state as input to EngineHandler (#9764)
21335d65d feat: move hashed state and trie writing to provider (#9636)
7ad93d5ae feat: perform canonical in memory state update (#9763)
212196522 docs: some additional in mem docs (#9759)
5616b4efa feat: integrate BlockchainProvider2 in EthNodeLauncher (#9754)
fa1bbe44d feat: add parent blockstate to blockstate (#9755)
3eeca7650 chore: use dl single block (#9751)
70a0cea94 feat: add skeletons for safe+finalized checks (#9744)
6ce7c9e3a chore: add static file helpers on StorageWriter (#9740)
b2b3ff812 fix(op):skip db consistency check for op mainnet (#9737)
f3cd39ef9 evm: add `RethEvmBuilder` (#9655)
d107827b6 test: add holesky sync test (#9742)
5a9de035b fix: properly convert canon chain event (#9736)
536381d02 feat(exex): stream parallelism on backfill factory level (#9734)
a6f6346ff feat: emit chain notifications (#9732)
545bf99f7 chore: convert block to named field (#9733)
2209381de feat: add new BlockchainProvider type (#9656)
48c96356b feat: process fcu new head (#9728)
c5ceee352 chore: move chain state notifications to reth-chain-state crate (#9730)
23ff37124 chore: combine static file and database services (#9713)
283e2d5a8 feat: process payload attributes (#9729)
e7ac0edcf refactor(trie): move storage root database operations into an extension trait in the `reth-db-trie` crate (#9721)
88c7b2cfa chore: fix `unnameable-types` lint on `core`, `payload` and `primitives-traits` crates (#9724)
48c42f563 feat: some progress on FCU handling (#9727)
ed16643f1 chore: remove proptest-derive dev deps (#9719)
3df7450e0 chore: remove reth-cli-util proptest dependency (#9718)
6a9b2807e book: fix ExEx minimal example link (#9717)
3849de96a chore: re-enable no_std CI checks (#9716)
635bd90b1 Use `ProviderFactory::new_with_database_path` in example (#9715)
b2276e44f no_std support for reth-revm and fixed tests (#9634)
8c690eef9 chore: remove ownership requirement for static file methods (#9709)
86ddf4d4c test: add test for fcu during backfill (#9712)
331c49c5a chore: no_std support in reth-evm-ethereum (#9687)
5c30227d3 docs: add pruning related documentation for db service (#9711)
3ed132eee feat: integrate payload builder in engine api impl (#9710)
14e3b6e6a feat: extract on message handler fn (#9708)
f2279a81c chore(trie): introduce wrapper struct for hashed cursor related impls (#9707)
935327c4f feat: recheck backfill sync (#9690)
e8955763d chore(rpc): include call stipend for optimistic gas limit (#9703)
d07955e2f chore: ensure highest gas limit tracks txenv.gaslimit of success (#9702)
059233327 feat: add state crate (#9701)
35edcd4ec feat: issue download requests (#9704)
8dad8c4e9 feat: provide backfill outcome in finished event (#9692)
6c720579b chore: return content type for prometheus metrics (#9676)
15acc9bb4 feat: port backfill sync target function (#9699)
5ec0c2698 refactor(trie): move state root database operations into extension trait (#9635)
a82b3c519 feat: scaffold make canonical (#9697)
00a67a066 chore: rm comments about redundant checks (#9698)
e1ddb5f69 feat: update sync state based on chain event (#9695)
5263bc8ad feat: add disconnect block handling skeleton (#9693)
16563274f feat: handle downloaded blocks (#9684)
361d1aee1 docs: add some engine api tree handler docs (#9686)
9b3a011cf feat: support initial target pipeline sync (#9683)
9bca97e2a chore: improve engine api event handling (#9682)
cfa3681b2 fix(rpc-trace): add after and count to `trace_filter` (#9662)
875b3f0c5 chore(deps): weekly `cargo update` (#9677)
b3c828032 feat: integrate event handling (#9666)
146bca3e6 chore(trie): accept `from` block instead of range in hashed state (#9675)
175136a17 chore(deps): bump dashmap 6 (#9664)
12182fea3 chore: rm redundant event variant (#9674)
c8e6e379d feat: implement EngineApiRequestHandler::poll (#9670)
1c131219c docs: add some additional engine docs (#9669)
ab861bd10 chore: rm some unused types (#9667)
2133e9392 chore: rm redundant event variant (#9668)
06eb97c57 chore: improve beacon api example (#9660)
9b057037d refactor: some small refactoring (#9657)
20090282a Handling node events (#9658)
bbfa63806 chore: rm uneccessary lifetimes in evm config (#9609)
1a21d8b05 Get all checkpoints and stage name from db (#9650)
a89a576b1 test: add test for rpc middleware (#9620)
f8812e2aa chore: require enginetypes 'static (#9645)
ccb16dc07 feat: emit beacon event after handled FCU (#9648)
99ef2b779 chore: clarify TransitionConfigurationExchanged event (#9647)
db484c5d5 feat: toggle backfill sync active flag (#9646)
9e685163d chore: remove InMemoryState trait (#9642)
b01b2762d typo: state root error (#9641)
2b3047fed feat: wire components in EthService (#9621)
85a4008b5 chore: rename variant of `BlockSource` (#9623)
ef0a44718 chore(rpc): return unimplemented (#9639)
070f1a593 chore(evm): move execute input/output to `execution-types` crate (#9624)
5e9b66f87 chore: add `get_account` method in `EthApi` trait (#9632)
516acefa3 chore(exex): organize backfill modules (#9631)
4a1916155 Turn EthService into a Stream and log the events (#9622)
820d3da2f fix(stages): do not panic in `disable_all` (#9630)
fbef7f3f7 chore: track_caller for functions that panic (#9626)
390f30aad chore: release 1.0.3 (#9619)
b1d62b132 feat: move canon state types to new module (#9613)
8c8702be1 configurable middleware and metrics & http middleware (#9596)
ea47939de feat: allow custom provider type (#9606)
42182f531 revert: 4b8a66f (#9604)
19fa2abf8 chore(reth-network-api): no_std support (#9595)
9e1ea9718 chore: clarify metrics and prometheus (#9603)
0585bb28a chore: rm unused mods (#9602)
85b65db14 feat(trie): add empty `reth-trie-db` crate (#9585)
6aabf13bd chore(reth-db): no_std support (#9597)
54d3734c2 ef-tests: derive `Default` for ef-tests structs (#9601)
7b4bf5944 chore: disable reth-codec default feature (#9556)
43ffb8357 feat: BackFillJobStream (#9578)
ce4d4bd43 feat: add canonical in memory state (#9588)
a43cd499e fix: Use correct base fee params for Base mainnet after canyon hardfork (#9600)
c3347f323 feat: make `to_compact` borrow (#9488)
5cd22b50e fix(prune): saturating subtract for genesis deposit contract block (#9584)
0376be622 no_std in reth-ethereum-forks (#9589)
5c4ce3bc6 chore(tracing): export tracing-appender crate (#9590)
a627dcd9b chore: no_std in reth-codec (#9587)
84174737f chore(no_std): fixed `no_std` compiler errors in `reth-primitives-traits` (#9572)
38bc7a14a chore: use each prune segment method on `remove_blocks_above` (#9568)
bc4a16737 chore(exex): move notification to types crate (#9586)
0994d36c4 feat: add  in memory state container (#9574)
281ecf962 feat: add start backfill sync fn (#9580)
e2814406a feat: add EthNodeLauncher (#9575)
269c649b1 chore(evm): remove unneeded lifetimes (#9583)
f55d43c25 chore(rpc): remove use of `optimism` feature from `reth-rpc` library (#9579)
063062132 chore(rpc): move `OpEthApi` traits into `reth-optimism-rpc` (#9581)
89d0281ce chore: replace `StoredBranchNode`, `StoredTrieMask` and `StoredHashBuilderValue` types with `Compact` impl instead (#9573)
0befab52c chore: remove serde support from reth-codec (#9570)
ffb44e624 chore: bump revm 12.1 (#9567)
7bf99d8a7 chore: update `Base` to new max gas limit (#9566)
539b4e426 feat: rm HashedStateChanges, introduce StorageWriter::write_hashed_state (#9561)
fb6ea8b92 feat(rpc/admin): compatible with geth's admin_nodeInfo (#9448)
4b8a66ff0 chore: rm outdated impls (#9560)
fd117d7a7 feat(rpc/otterscan): set total_fees in ots_getBlockDetails (#9477)
9697ab254 feat: bump alloy version (#9545)
4381b0cd0 feat: impl remove_blocks_above to static file service (#9553)
d5964cae0 chore(deps): move zstd to workspace (#9552)
6a0060197 rpc: refactor `ReceiptBuilder` (#9551)
d72c210b1 chore(meta): remove myself from CODEOWNERS (#9549)
201e134c3 chore: release 1.0.2 (#9538)
e6f2dca44 chore(net): enable rust.unnameable-types = "warn" lint (#9505)
4dbf47b91 chore(op): remove optimism feature for `LoadReceipts` (#9504)
06bfce2d5 chore: more reth-codec cfgs (#9547)
458251fff chore(op): remove optimism feature from `LoadPendingBlock` (#9503)
55dc12d74 chore(op): implement `Call` for `OpEthApi` (#9502)
0a1f652b2 feat: add `StorageWriter` standalone type (#9507)
bc31f5da5 feat: feature gate reth-codec impl (#9492)
a322a7c83 test: flaky tx type test (#9542)
f93029719 feat: blockchain provider tree state integration (#9518)
2aa94e9ae chore(rpc): expose ethapi in node builder for op customisation (#9444)
fcc6307ad feat(stages): unwind prune checkpoints (#9528)
01075f698 feat: implement remove_blocks_above in db service (#9533)
d453b7ddb fix: commit receipts in write_execution_data (#9525)
484dc916c Rename main codec to reth db codec (#9501)
5ef3803dd chore(deps): bump tsickert/discord-webhook from 5.3.0 to 6.0.0 (#9532)
f7a386430 docs: document Options in get_highest_* and ensure_invariants (#9529)
466885a8b chore: rename terminal_difficulty to total_difficulty (#9530)
bc91944e5 fix: add sync-op-mainnet to book (#9527)
068220bb0 feat(pruner, stages): logs for Prune stage (#9520)
5e07dee4e typo: fix typo in rpc (#9514)
7de39bfb5 feat(tree): implement trie traits for in-memory overlay provider (#9522)
5734b1727 feat(stages): add more logs to Execution (#9524)
b51aff3b7 move HackReceiptFileCodec into reth-optimism-cli (#9499)
63e5dac0b feat(trie): write sorted hashed state (#9519)
80b02fec0 fix(stages): update prune sender recovery stage checkpoint (#9513)
e1404217a feat: subscribe to finalized and safe headers (#9402)
b1da0f703 feat(trie): sorted iterators for updated hashed state entries (#9516)
499e0f10f feat(provider): hashed state methods for trie related providers (#9510)
414df3e09 chore(grafana): re-order prune stages (#9511)
5a0395963 feat: implement generalizable rpc middleware (#9429)
71182cb69 feat(ci): add hive discord alert on failure (#9482)
9daa23c98 fix(grafana): fix broken mempool panel (#9506)
831d5a74c example(exex): move to a separate repo (#9500)
9210269d3 chore(deps): weekly `cargo update` (#9496)
cbe9a7c5c refactor: optimize eth_sendTransaction to exit early if signer not found (#9494)
ad606bbda chore: rm redundant optimism feature (#9489)
67f617646 feat: OP: keep encoded txs in payload attributes (#9467)
f8e94d317 replace optimism error variant with Other (#9483)
39c53823e feat: route commands to correct persistence service (#9435)
a49e993d7 test: add EngineApiTreeHandlerImpl integration test (#9453)
d036350d7 feat(primitives): re-export EIP-7702 types (#9481)
d8b104fce chore: some no-std touchups (#9480)
da0efbe0d feat(trie): reimplement in-memory trie cursors  (#9305)
a617bd0f3 replaced generic to box dyn (#9443)
b4363e2b4 feat: add `max_gas_limit` to `ChainSpec` (#9473)
5097ae7cf test(revm): unit test `insert_post_block_withdrawals_balance_increments` (#9194)
61c85bb3e refactor(pruner): dedicated static file segments (#9262)
d943e7829 feat(net/peer): simple support rank higher with static peer (#9471)
df9cb81ea chore: use create_test_provider_factory in more places (#9463)
91aa8bb9d chore: remove BundleStateInit dup in take/get/remove_state methods (#9464)
83f4768a4 chore: remove sender recovery dup in db provider (#9466)
f71995e5d fix(chainspec): set dao_fork_support=true for mainnet,sepolia,holesky (#9468)
b31167ba6 feat(rpc/otterscan): change BlockId to u64 in has_code (#9469)
9aa44e1a9 chore: add `COMPACT_EXTENDED_IDENTIFIER_FLAG` const to `TxType` (#9461)
e96aaa0ae book: remove not exist files links (#9360)
e8a6fe180 feat: add remove_block_and_execution_range (#9432)
345798c77 chore: use `DatabaseProviderRW` instead of `TX` on `*State*::write_to_db`  (#9460)
1c2726290 chore: move `get` methods to `DatabaseProvider<DbTx>` (#9454)
f29fefbb2 chore: replace base fee constants with native const (#9437)
805673c65 chore(pruner): remove deletion limit per block, make it per run (#9446)
95bde32cd fix: accept concurrent prometheus connections (#9459)
22df39a10 chore: use `DatabaseProviderRW` on `StateWriter::write_to_storage` instead of `TX` (#9449)
b040b86a5 feat(prune, stages): prune pipeline stage (#9419)
c31d69683 chore: use `DatabaseProviderRW` instead of `TX` on `insert_genesis_header` (#9452)
112b2332e chore: use `DatabaseProviderRW` instead of `TX` on `stages` (#9451)
11c5e3121 feat: tree hook for persisting blocks (#9365)
add3725f8 chore: resolve new clippy error w/ suggested fix part 2 (#9447)
8a0414fe2 test: ensure block reader traits are object safe (#9440)
6e70bab36 chore: use vec for encoding (#9442)
a1e93b79a chore: rm redundant is_optimism checks (#9438)
4e5162cb3 chore: remove node-core from CODEOWNERS (#9426)
fc4c037e6 feat: eip-7702 (#9214)
fc3d0eb9d docs(node): replace the old --dicsv5.addr with --discovery.addr (#9436)
797a4a1a3 feat: introduce static file task (#9234)
f384b8e17 chore: resolve new clippy error w/ suggested fix (#9427)
56cb37123 docs: remove random pub from transaction docs (#9423)
94f406647 chore: move `sigsegv handler` to `reth-cli-util` crate (#9421)
a29d8bdbd feat: remove get or take usage (#9412)
d0f78bdb3 feat: add fs-util for reading, writing json files (#9418)
aac71caff chore: rm redundant clippy allow (#9415)
169a4bd53 Optimism Cli struct (#9416)
47c038201 feat: parsers (#9366)
f479db201 Added wrapper type defaulting to prague engine caps (#9413)
ce20adcd0 chore(deps): trim cli-util crate deps (#9410)
35ab924c0 feat: add `get` and `take` methods to db provider (#9406)
022d481a7 feat: add DatabaseProvider remove method (#9405)
83ce56e8a feat: make unwind_table_by_walker take RangeBounds (#9404)
63c8a8287 fix(op): fixes impl of eth api for OP (#9377)
7dab636b0 test: add serial lock for lockfile tests (#9403)
0a2777937 chore: remove unused `chainspec` field from `OptimismPayloadBuilder` (#9397)
bb8ff6718 test: make test compile in reth-rpc (#9399)
387587a1b style: move function below impl (#9398)
d39069027 chore: move `import` command to `reth-cli-commands` (#9394)
2fa37b1ad Integrate Request evm env filling in ethapi (#9358)
e97e379e4 chore: move `node` command to `reth-cli-commands` (#9395)
d59939377 chore(deps): rm reth-codecs dep (#9390)
b97ace200 chore(deps): bump revm 11 (#9391)
05ad78376 fix: support additional eth call bundle args (#9383)
41382557b chore: release 1.0.1 (#9388)
5272a5309 feat(rpc/ots): implement ots_getTransactionBySenderAndNonce (#9263)
e4d16eb1a chore: update private-testnet.md (#9389)
67478b7a5 feat(rpc/ots): implement  ots_traceTransaction RPC (#9246)
38f4c6118 chore: fix clippy warnings for needless_borrows_for_generic_args (#9387)
9c0bc8477 refactor(rpc): remove intermediate types from rpc start up process (#9180)
94f1adfa7 feat(rpc/ots): implement ots_getContractCreator (#9236)
17af21f82 chore: move `stage` command to `reth-cli-commands` (#9384)
454416809 feat: add support for payload bodies (#9378)
3e8a2a29c Integrate permits for getproof (#9363)
2f8a860bb feat(tree): pre-validate fcu (#9371)
5b81fc1ee clippy: rm useless clippy statement (#9380)
a9ebab4c7 perf(pruner): delete history indices by changeset keys (#9312)
ad403b467 docs: typos (#9379)
b14192fca feat(tree): validate state root (#9369)
2c2098c05 feat: move mev rpc types to alloy (#9108)
aaa27d6f5 feat(pruner): log stats as an ordered list of segments (#9370)
1b41bc8e1 chore(deps): bump alloy 0.1.4 (#9368)
923cda79c book: add troubleshooting commands to check disk and memory health and performance (#9364)
cbf19c165 replacing network_handle with peer_info trait object (#9367)
92fb25137 feat: eip-7251 (#9335)
9e45c82fe feat: Add required trait impls for OpEthApi (#9341)
5b85567aa feat: adds eth request panels to grafana (#9026)
1b3209ae0 feat: add entrypoint and main loop to EngineApiTreeHandlerImpl (#9334)
61f2505d4 test(tx-pool): add unit tests for `BestTransactions` `add_new_transactions` (#9355)
6e4bc4f1f chore(deps): weekly `cargo update` (#9354)
2adf2d336 chore: remove unused private stream type (#9357)
abf3aff19 fix: encode block as is in debug_getRawBlock (#9353)
7579f91d0 chore: remove cfg'ed use serde (#9352)
3b976bc9f chore: make eyre optional in reth-db (#9351)
a4ba294fa chore(meta): remove security link from issue template config (#9350)
1498acb09 chore: dont enable serde by default for eth-wire (#9339)
b94d8324c chore(deps): rm discv4 dep from eth-wire (#9344)
98b755b98 chore(meta): fix link in issue template config (#9349)
3d999c3a2 test: make eth-wire tests compile with --all-features (#9340)
d7f546643 chore: rm unused optimism feature (#9342)
862304770 chore: use usize in internal functions (#9337)
b4577597c chore: remove `test-utils`, `arbitrary` and `proptest` from built binary (#9332)
569555516 chore: move featureless commands from `bin` to `reth-cli-commands` (#9333)
0ce192921 move header.rs to eth-wire-types (#9345)
ebe3ef5e7 chore(deps): trim tokio features in eth-wire (#9343)
6e1521456 fix: format_gas show two decimal places (#9336)
b3a559345 chore: disable `test-utils` for `stages-api` on `stages` (#9331)
c7e34fbd4 chore: move `reth test-vectors` to `cli/commands` with feature (#9329)
a41c21697 chore(ci): improve `hive` workflow (#9320)
239b98451 chore: use `*_GENESIS_HASH` constants on ethereum chainspecs (#9328)
08feab1a5 feat: log throughput in execution stage (#9253)
c13af1e6d feat: implement `HistoricalStateProviderRef::proof` (#9327)
3b29ed74c feat: op eth api scaffolding (#9324)
36d74400e feat(trie): pass state reference to `StateProofProvider::proof` (#9308)
61b8ff1dc Remove fullprovider trait restriction in backfill impls (#9326)
26b7b9720 qol: purge goerli (#9310)
21a9dfc9e chore(evm): turn associated `ConfigureEvm` fns into methods (#9322)
b2bbd0025 use op-alloy genesis types for genesis parsing (#9292)
fe94078e0 fix: no_std build (#9313)
68167ef18 github-workflows: delete the direction of dead(deleted) code (#9316)
f37725f08 feat(trie): `HashedPostState::account_proof` (#9319)
1fcd81946 feat(trie): allow supplying prefix sets to `Proof` (#9317)
6b1c3bade fix: holesky genesis hash (#9318)
53d0f73e1 perf: resolve trusted peers (#9301)
93f9a857c feat: backfill job single block iterator (#9245)
4447f658a feat(trie): allow setting hashed cursor factory on `Proof` (#9304)
ed203356c Fix: fix the issue of not being able to specify bootnode through command parameters (#9237)
a6430d48f chore(trie): return mutable prefix sets from `HashedPostState::construct_prefix_sets` (#9306)
e8af47636 feat: extract proof generation into `StateProofProvider` (#9303)
ddc6ab902 fix(rpc/ots): set block_number as u64 instead of NumberOrTag (#9302)
180b81af2 fix: remove useless arbitrary feature (#9307)
f759ca603 chore(cli): move utils to `reth-cli-utils` crate (#9297)
610110bb6 feat(rpc/ots): add rpc erigon_getHeaderByNumber (#9300)
af280b98f chore: remove unused async (#9299)
afe86895f feat: feature gate tokio::net lookup (#9289)
27ed81317 ci: re-enable hive tests (#9240)
38f2d00c8 feat: add empty optimism rpc crate (#9295)
a81c1e44a perf: spawn eth proof on IO pool (#9293)
e7803f3e1 perf: resolve trusted nodes concurrently (#9291)
0373c5875 chore(trie): revamp inner in-memory trie cursor representation (#9287)
edbbc9636 chore: rename eth engine module orchestrator -> service (#9288)
f0c97cab7 fix(cli): don't init datadir if it doesn't exist in db command (#9264)
9f55a6a70 chore: move `withdrawal_requests_contract_call`  to `reth-evm` (#9272)
f74b8ce72 chore(rpc): rm dup getters `EthApi` (#9283)
5ccff2a6f chore: use direct link to threshold docs (#9284)
4dc832ab0 chore: Expose `TrieUpdates` inner fields (#9277)
4db0edd72 ci(hive): build `reth` externally  (#9281)
a7caf0d28 feat(rpc): enable historical proofs (#9273)
f3fd7e73c fix: always evaluate build_profile_name at compile time (#9278)
2f3104b4c test: rm useless unit tests for `calc_next_block_base_fee` (#9280)
ba370918c clippy: rm some `type_complexity` (#9276)
4f3f5067c test(transaction-pool): add unit tests for `BestTransactionsWithFees` `next` (#9274)
7401f4679 feat: add resolve blocking for TrustedNode (#9258)
335b93425 chore(rpc): `EthApi` builder (#9041)
84c5c3376 test: add unit tests for `save_receipts` (#9255)
78d4f8c4b feat: add empty ethereum cli crate (#9268)
3440b2f2b feat: add ethereum engine chain orchestrator (#9241)
7a647f4f1 chore: move `pre_block_beacon_root_contract_call` to evm crates (#9244)
08fc298e5 feat: moved optimism commands to create and remove from bin (#9242)
1998f44b1 trie: revamp trie updates (#9239)
aa13539a3 chore: simplify p2p subcommand (#9265)
c5167a478 refactor: move write_peers_to_file to NetworkManager impl (#9134)
d41aac380 feat: add non feature gated noop block reader (#9261)
b5d61d80e feat: add pruner to persistence task (#9251)
8e5204c11 refactor(evm): set prune modes optionally for the batch executor (#9176)
71041b06a feat: add ChainspecParser trait (#9259)
5827c2599 chore: fix pruner exex height docs, add run docs (#9250)
405b73045 chore: remove prune_modes from BlockWriter (#9231)
e95c6dba9 chore: use format_gas and format_gas_throughput for gas logs (#9247)
95f228155 chore: add send_action method to persistence task (#9233)
82770b092 chore: move `fill_block_env` to `ConfigureEvmEnv` (#9238)
6eca557db feat: add pruning related persistence API (#9232)
116d7a3f1 chore: disable discovery for --dev (#9229)
ad8ec33dc chore(trie): return nibbles from `TrieCursor::current` (#9227)
52068ccee fix(rpc/admin): missing enode/enr in admin_peers endpoint (#9043)
8d55e6bb5 fix: typo in book intro (#9228)
984e89efe feat(clippy): add `iter_without_into_iter` (#9195)
6db598da1 chore: extract db commands (#9217)
d2cf129e5 feat: implement write method on persistence task (#9225)
898d17bb9 chore(trie): store only deleted keys in `TrieWalker` (#9226)
20713e978 docs(book): remote ExEx chapter (#8992)
e5a634cec chore(execution): verify cumulative gas used before receipts root (#9224)
158377f45 chore: rename pipeline references to backfill sync (#9223)
9d4722eb6 chore: remove unused `static-file` code (#9178)
cf8a9163a chore: remove usage of `tx_env_with_recovered` (#9222)
d317b4a0f chore: add builder with rng secret key fn (#9218)
db191c82a chore(trie): clean up trie update operation matching (#9202)
feb6a37a1 chore: remove unused `MIN_LENGTH_EIPXXXX_ENCODED` (#9211)
01979c4bd feat: new engine API handler (#8559)
068bf57c0 fix: ambiguous deposit mint value in arbitrary (#9216)
e6842fb8b refactor(chainspec): simplify `genesis_header` using default pattern (#9198)
90c60cb26 refactor: some simplifications around revm database (#9212)
3a9fbbc8e refactor: small refactoring (#9208)
d4fa9defb feat(net/peer): set rpc added peer as static (#9201)
9cd377881 docs: fix the links to code in discv4 docs (#9204)
91d45871b refactor(revm): simplify `fill_tx_env` (#9206)
84e385753 refactor(net): some refactor in eth requests (#9205)
2a9fa4869 chore(trie): rename in-memory trie cursors (#9203)
a31b8b0d3 chore(deps): weekly `cargo update` (#9199)
f16fd02d9 chore(deps): remove igd-next (#9200)
fffeefbca chore: finally move node-core to node folder (#9191)
1ce76f2e9 chore: replace raw usage of revm evm builder with EvmConfig usage (#9190)
b93e70c42 feat(net/peer): add peer with udp socket (#9156)
57c4f7e57 chore: rm leftover mods (#9188)
f4689f35b chore: update audit doc to v2 (#9177)
d1efe2b19 chore(ecies): expose ECIESCodec for fuzzing (#9182)
6e564cd06 chore(trie): remove database-related types from trie keys (#9175)
b24ca7637 chore: remove `tx_env_with_recovered` from rpc crates (#9158)
5416adf97 chore: rm redundant clone (#9174)
9129b97c5 feat(exex): backfill executor (#9123)
9a2cfe5a5 fix(net/peer): remove the duplicated disconnect logic (#9162)
3bf3b9e3e fix: derive arbitrary for tests (#9167)
87cdfb185 refactor: reduce number of args for `post_block_balance_increments` (#9154)
e81c0798c chore: fix wrong function name (#9164)
c12ca9943 dev: update `NodeExitFuture` (#9153)
ce8bcd8f1 chore(storage, provider): rename bundle state with receipts (#9160)
3fd5df3d0 feat(trie): in-memory trie node overlay (#8199)
472093a3e chore: fix clippy (#9163)
530e7e896 refactor(net): move node record constants to network-peers crate (#9161)
d8e6d0130 chore: move `revm_spec` methods from `reth-primitives` to chain specific crates (#9152)
9fd2cf027 chore: rename `TrieCursorFactory::storage_tries_cursor` to `TrieCursorFactory::storage_trie_cursor` (#9145)
867be500c refactor(node-core/matrics): refactor the register version metrics function (#9149)
50ee497c7 feat: use new `ChainHardforks` type on `ChainSpec` (#9065)
c23fe39dd feat: integrate CLI runner in CLI trait (#9146)
26b79f84f chore(static_files): fix hacky type inference (#9150)
5b2cd27a1 chore: remove unused methods from `EvmEnvProviders` (#9148)
5aaf91dbc refactor: clean-up discv5 configuration (#9143)
6d8cbae3e chore(rpc): add me to RPC codeowners (#9144)
1b9f5871f chore(rpc): move impl of eth api server out of `reth-rpc-eth-api` (#9135)
933a1dea3 chore(rpc): `reth-eth-api` crate (#8887)
acc07537b fix(docs): Fix links node builder docs (#9140)
e09ed75a9 fix: use 8 byte SHA in getClientVersionV1 (#9137)
793aa8526 chore: move engine-primitives to engine folder (#9130)
d3091cbb5 chore: rm utils.rs from cli crate (#9132)
16fc18bf5 chore: remove empty ban_list.rs file (#9133)
7a82f4eae feat(trie): forward-only in-memory cursor (#9079)
18eef6a99 refactor: extract configuration types to `reth-network-types` (#9136)
9542f3bcf feat: add parser functionality to `RethCli` (#9127)
818375438 feat: add base fee metrics (#9129)
cbdd56af6 fix: remove temp docker tag action (#9128)
4308e1b22 feat: add temporary docker tag action (#9126)
063c08f56 Subprotocol example (#8991)
1fde1dca1 refactor: move node-core/engine to standalone crate (#9120)
8775a93d3 feat(cli): `reth prune` (#9055)
bdabe6642 refactor: move `DbTool` type to `db-common` (#9119)
1d1fb797e feat(ci): update GPG key in release workflow (#9121)
221035d73 chore(deps): bump ratatui 0.27 (#9110)
2a2eb0e0e chore: rm beta checks (#9116)
832f7a517 test: fix flaky connect (#9113)
ce5a191af chore: import from static files crate directly (#9111)
b36bd58db feat(cli): fail on invalid config (#9107)
83ef1f764 Add a metric for blob transactions nonce gaps (#9106)
aa952309e feat: reth stage unwind --offline (#9097)
270df3eeb chore: add optimism cli crate (#9096)
e1af75dad ExEx Discv5 (#8873)
a3a472a78 fix: do not drop sub protocol messages during EthStream Handshake (#9086)
6e146e114 chore(trie): hold direct reference to hashed accounts in cursor (#9078)
c3cae9543 test: include unexpected event in panic (#9087)
e2015143b chore(trie): add helpers to return trie keys as variants (#9075)
6dffb92c0 perf(trie): hold direct reference to post state storage in the cursor (#9077)
46fdc3883 feat: initial cli abstraction (#9082)
6699c6a3d feat(examples): remove Remote ExEx (#9085)
23d8e4e6f readme: rm wip note
ec5795f7e Using associated trait bound for db error (#8951)
bbc4f308f chore(hive): update failed tests comments (#9080)
4984bc6cc fix(ci): use correct profile for iai benches (#9081)
eb5217e2a chore: simplify OptimismGenesisInfo extraction (#9031)
aac16ac60 chore(trie): `TrieOp::as_update` (#9076)
c885257e5 clippy: rm outdated clippy allow (#9070)
de6332b51 fix(ci): inherit profiling in bench profile (#9072)
667c38d3d fix: check the correct block in op-sync (#9073)
5585cb8cf chore: add empty commands crate (#9039)
4cb84a443 feat: add AnyNode type (#9056)
0c1687f38 feat: use a binary for sync tests (#9071)
f5403882d docs(examples): add Remote ExEx to README.md (#9067)
580711a93 fix: move base sync test comment (#9066)
31aad3254 feat: add base mainnet 10k block sync test to CI (#9062)
37cb1194a chore: move sync test to separate github action (#9061)
83d412da7 fix(op): configure discv5 properly in op builder (#9058)
c5aee02ff fix: Change Arc<KzgSettings> to EnvKzgSettings (#9054)
81b5fbf57 feat(examples): remote exex (#8890)
07def85cd chore: tweak profiles, rename debug-fast to profiling (#9051)
42bbafff2 ci: use reth-prod.png for release notes (#9047)
08b1e8827 feat: integrate Node traits into LaunchContextWith (#8993)
bd0f676d0 feat(node): derive `Clone` for `FullNode` (#9046)
31e247086 feat(rpc): remove ipc future and now using ServerHandle and StopHandle from jsonrpsee (#9044)
8a5308672 chore: release 1.0.0 (#9045)
3c595f7d1 feat: add `AnyNodeTypes` type (#9034)
8f2522eff refactor(rpc): add builder pattern for `EthHandlers` (#9035)
97de9d27b Change the wrong 'Child' and 'Auxiliary' usage (#9033)
572d4c182 chore(deps): weekly `cargo update` (#9036)
f137ca847 chore: remove some more usages of BytesMut (#9025)
a34e41c27 chore(deps): rm reth-rpc-types dep from reth-network (#9023)
17c5121b5 chore(deps): replace fnv with fx (#9024)
0712adc4c chore(op): add link to op labs bedrock datadir download (#9014)
b0b2abb42 chore: rm default serde feature in reth-dns (#9021)
08cc16e4f chore: rm serde for network builder (#9020)
16b10dc1a chore: remove unused type (#9019)
2473ed880 chore: remove `serde` from `ChainSpec` (#9017)
b9b61b377 chore: rename net-common to banlist (#9016)
a493b6270 chore: remove `AllGenesisFormats` (#9013)
b567f66fa chore: move different chain hardfork sets to `reth-ethereum-forks` (#8984)
50c1a8e48 chore: move ratelimit type to tokio util (#9007)
d6072e79f chore(deps): rm provider dep (#9006)
a03306eb9 chore(deps): rm unused dev deps (#9005)
8492ab3d5 chore: remove proptest arbitrary from codec derive and tests (#8968)
6b2c3af8b test: disable dns discovery (#9004)
135e11b19 fix: skip failed new payload submission (#9003)
13b581914 feat: add _with_senders_unchecked methods to SealedBlock (#9002)
4fcf26c5a chore(deps): bump revm 10.0, un-git revm-inspectors (#8997)
27d26ac10 chore: rm custom chainspec parser (#8998)
d213c1ead chore: bump alloy to 0.1.2 (#8990)
542bcf054 fix(pruner): prune history segments first (#8996)
ef2088d57 chore: weaken engine type requirements (#8976)
55831500c chore(deps): bump interprocess and others (#8982)
f571183d0 perf: memoize address pruning filter as a hashset (#8989)
b3cb1fde7 docs(book): add sigma_prime_audit_v1.pdf (#8942)
e90b526a6 Update docs db (#8979)
93b82469b Make ReceiptFileClient generic (#8955)
abbc0e633 feat(stages): clarify Merkle error (#8981)
554e8b191 feat(exex): derive serde ser/deser for `ExExNotification` (#8963)
8b6ca877d chore: use alloy-genesis imports for Genesis (#8973)
bf9cac757 feat: add stage unwind to sync 100k CI flow (#8974)
50cf64bfb fix: make sure to commit static file provider on `stage run` (#8972)
e2b8254a3 chore: use execution-types instead of provider where possible (#8971)
da4935848 chore: remove cursed comments from broken proptest impl (#8969)
aed612052 chore: update CODEOWNERS with updated layout (#8970)
88dbb9bd3 feat: make FullNodeComponents Clone (#8966)
5293a2f58 chore: add stateful precompile example to readme (#8965)
8e452016e implement `From` for `ChainSplitTarget` (#8962)
152b2765b use watch channels instead of rwlock (#8950)
5a1c99034 chore: move `GotExpected`, `log` and `gas_units`  to `reth-primitives-traits` (#8958)
d0b27f063 fix: enable autoseal in op correctly (#8961)
254647c42 chore(ci): exclude examples from docs (#8953)
b5b15f03a chore: remove `revm/compat` from `reth-primitives` (#8960)
a21a2b72e chore: move `StorageEntry` to `reth-primitives-traits` (#8949)
01766217b chore(makefile): remove cfg-check (#8959)
32500aa9a chore: move `Bytecode`, `Requests` and `Withdrawals` to `reth-primitives-traits` (#8954)
590356b34 fix(ethereum-forks): add missing `transitions_at_timestamp` (#8944)
d0b241c0c chore: move `IntegerList` to `reth-primitives-traits` (#8948)
a3fd11291 feat: move calculate_intrinsic_gas_after_merge to tx pool (#8914)
5edf44963 feat(consensus-auto-seal): fix missing logs_bloom gas_used receipts_root for dev env (#8946)
9d49abb2b chore(deps): bump curve25519-dalek (#8947)
7bfc604a1 fix(rpc/trace): include block rewards in trace_filter rpc (#8868)
da0004e36 fix: don't drop the TaskManager (#8941)
450f06aea feat:  Add `no-std` support to `reth-chainspec`  (#8939)
1557b7b57 ci: fix no_std script (#8938)
655799f5b feat: extend LaunchContext with more components (#8937)
8d4cf43d6 feat: re-export test types (#8936)
63248bc4e chore: make reth-ethereum-evm compile with no-std (#8935)
0f88965fd chore: make reth-evm compile with no-std (#8934)
87d6bcde6 chore(cargo): rm enr default features (#8933)
b5f55d9a2 chore: make reth-revm compile with no-std (#8931)
1f2bd941d chore: simplify optimism tx compat (#8925)
cc502523c chore: rm codecov.yml (#8923)
a4f0d5738 chore: remove enr TODO (#8926)
e25e1d72e chore: move audit (#8922)
636e85638 chore: use `BLOCKHASH_SERVE_WINDOW` from revm (#8924)
d786b459d feat: implement conversion of optimism deposit tx from alloy to reth (#8763)
3a1e4e9ad chore(deps): enable missing arbitrary in tests (#8921)
148c11e22 fix: enable enr secp256k1 feature (#8919)
a5054084d chore: release 1.0.0-rc.2 (#8918)
770cac874 feat: reth-primitives-trait no-std support (#8869)
fe817c045 move forkcondition and displayhardfork types to fork crate (#8909)
d865e4447 fix: edge case divide by zero (#8912)
7c773a1d3 feat: add stateful precompile example (#8911)
9de1cc6c9 chore: fix repeat words (#8916)
8a9591155 chore(deps): bump docker/build-push-action from 5 to 6 (#8910)
c008a1fa0 fix: typo (#8908)
5f998f704 feat: no_std CI integration (#8871)
7d55a14b1 fix: Add missing fjord condition to revm_spec_by_timestamp_after_merge (#8906)
3db106955 chore: remove `reth-primitives` dependency from `reth-static-file` (#8903)
de6cdff7e chore: remove `reth-primitives` dependency from `reth-stages-api` (#8902)
d05be8a46 chore: remove `reth-primitives` dependency from `discv5`, `discv4` and `etl` crates (#8900)
f967f9eb4 feat: replace engine types in payload stack (#8893)
ed9f36b54 feat: calc block base reward use block number only (#8876)
20102ee4a chore: remove `reth-primitives` dependency from `reth-node-ethereum` tests (#8898)
8182d2e63 chore: remove `reth-primitives` dependency from `reth-prune` (#8897)
2219d7d23 deps: bump alloy to 0.1 (#8892)
2a5c93fab chore: use `reth_chainspec` where possible (#8891)
01d81b4dc feat: move builtpayload to payload types (#8858)
15cca65f4 refactor: extract Chainspec type from primitives  (#8055)
420754097 fix(commands): prevents potential arithmetic underflow in debug commands (#8883)
34d697eb1 chore: use blob explorers from crates (#8885)
26d8bd6a4 fix(docs): `op-node` flags (#8884)
d13154035 feat: support `no_std` for `ethereum-forks` (#8877)
43a49ed41 chore(deps): bump revm dd98b3b (#8882)
ff4a114e4 docs(book): tracking state in ExExes (#8804)
333a86db1 chore: bump alloy and rm `EvmOverrides` (#8875)
859b96388 chore(dep): bump secp256k1 (#8880)
4b22b83e7 fix: division by zero when reading from nippy jar archive (#8878)
8d54f2f8d feat: support `no_std` for `reth-primitives` (#8817)
ce0559d6c fix: manually override certain chainconfig fields for adminNodeInfo (#8874)
9b50226f5 feat: add is paris active at block fn (#8872)
0d55e5b8b feat(rpc/block): simplify the block_receipts rpc (#8866)
35f7e0b00 chore: Upgrade revm (#8870)
038d48fd1 rpc: make revm utils pub (#8860)
e92dbe949 chore(deps): weekly `cargo update` (#8863)
22d7f3369 fix: re-add `validate_against_parent_4844` to optimism header validation (#8835)
925d40618 chore(deps): move futures-core to workspace (#8857)
c69443367 feat(primitives): gas limit setter (#8850)
22e6afe3f fix(net): use real tcp port for local node record (#8853)
343ff13fb chore: use new quantity mod (#8855)
6768243ee chore: remove reth-rpc-types dep in node-events (#8854)
352d57655 chore: clean up reth-bench payload status checks (#8852)
3b27da59d chore: move gas units to primitives constants (#8849)
f9165fb9a feat: add some utils to `EvmOverrides` (#8848)
d7af166d8 chore(deps): rm unused arb feature (#8846)
40d588470 chore(rpc): use `TypedData` type in `eth_signTypedData` signature (#8845)
e6017c3cd chore: rm unused clap feature (#8843)
cc46db3aa chore: re-export payload types from engine types (#8841)
e33177512 chore: move `primitives/constants` to `reth-primitives-traits` (#8842)
05c67a870 chore(mbdx): use std::ffi, remove unused files (#8839)
b88065d6b docs(book): clarify what ExExes are not (#8805)
8719490be chore(deps): bump jsonwebtoken (#8840)
217ff958c chore: move `Header` and `SealedHeader` to `reth-primitives-traits` (#8831)
ca574edbc chore(primitives): use `derive_more` where possible (#8834)
3af5bd857 chore: add address constants with 0x prefix (#8833)
69bf592ec test: add unit tests for `Chain` execution type (#8826)
5c2e86894 chore(evm): rename `bundle.rs` to `execution_outcome.rs` (#8832)
f21877495 chore: bump rust version 1.79 (#8829)
579da56e9 fix: split requests in `split_at` execution outcome (#8823)
697cbd8b9 feat: implement `deref` and `derefMut` for Requests (#8816)
7d80164fa chore(deps): use workspace deps (#8824)
b7ce1de00 chore: fix references (#8820)
68e902db2 chore: move header validation from `reth-primitives` to consensus crates (#8802)
f3bd25500 `reth-primitives`: Hide `alloy-consensus/arbitrary` behind `reth-primitives/arbitrary` (#8821)
fc770423b fix(ci): add missing `const fn` (#8822)
bc15e6c03 fix: truncate request vectors when reverting exec outcome (#8815)
560080ee1 chore(deps): replace reth-primitives in dns (#8814)
a96884d67 chore(ecies): replace reth-primitives with alloy-primitives (#8812)
a568535b8 chore(deps): replace reth-primitives in discv4 (#8813)
23fc18db2 chore: use sha2 from workspace (#8811)
be12177a2 chore: rm HasRemoteAddr trait (#8809)
8bb1270d5 chore: remove educe dependency (#8810)
d4bd1c8f5 fix: only check that base fee is not zero (#8808)
de46a4684 fix: windows build (#8807)
ff33c281c fix(grafana): fix broken panel (#8806)
76c8f4842 chore: move proof types and root functions from `primitives/proofs` into `reth-trie-common` (#8724)
763317d35 chore: bump inspectors and alloy (#8803)
e5111f033 feat: add append_receipts function (#8718)
41933b76d refactor: disable default features for alloy workspace deps (#8768)
f9493fd1f docs(book): start documenting ExExes (#8779)
9cfd588a7 fix: migration of ethereum-package to ethpandaops (#8797)
ce5c6e948 feat: log debug log directory on startup (#8785)
46c8255fa feat: support `no_std` for `reth-storage-errors` (#8790)
686a40466 feat: support `no_std` for `reth-consensus` (#8792)
a80f0126d fix: separate Base Sepolia and OP Sepolia BASE_FEE_PARAMS (#8789)
73adc91a0 fix: disable sysinfo multithreading (#8783)
7b5864329 fix: add a 5 second timeout for `tokio_runtime` shutdown (#8771)
8398625d1 fix: prometheus graceful shutdown (#8784)
b8cd7be6c chore: bump version 1.0.0-rc.1 (#8775)
0de932d17 chore: remove HeaderSyncMode::Continuous & debug.continuous (#8714)
fcd28f69a feat: introduce reth benchmark command (#8284)
e9a769174 fix(rpc/trace): wrong calculate of block ommer rewards (#8767)
571c261a2 fix(rpc/trace): trace_filter check block range (#8766)
0a49d47dc fix: ensure that a new offset file ends with the zero data file length (#8770)
c2650388b fix: add `start_time` to `ProcessUID` on `StorageLock` (#8753)
1c148e7f0 chore: dont depend on reth-primitives (#8762)
2bc164204 feat: support `no_std` for `reth-execution-errors` (#8729)
268e768d8 feat: introduce payload types (#8756)
92d2f29ab chore: Remove optimism flag from eth consensus crate (#8760)
64d6853fc fix: add `requests` in `ExecutionOutcome` extend (#8761)
5eecc4f91 fix: Use OptimismBeaconConsensus in the OptimismNode (#8487)
3b8cc0653 feat(provider): `BlockReader::sealed_block_with_senders_range` (#8750)
a5d825edb refactor: rename `BundleStateWithReceipts` to `BlockExecutionOutcome` (#8730)
95719da04 chore: adds `reth-primitives-traits` & `Account`  (#8722)
b8759733d chore: move `primitives/stage` to `reth-stages-types` (#8749)
87c22d22f test: add unit tests for `BundleStateWithReceipts` (#8741)
830a1f56d example(exex): tests for In Memory State (#8682)
892d5dd04 test: unit test for `TransactionGasLimitMoreThanAvailableBlockGas` (#8740)
3202c9072 refactor: move discv5 logic for op to reth-node-optimism (#8690)
55317eb00 chore(deps): bump http, hyper etc. to 1.0; jsonrpsee 0.23 (#7018)
e9d8cdab4 chore: add a few missing trait bounds (#8731)
218526c1f fix(db): format tracing log fields with Debug (#8738)
d772344d3 chore(deps): remove libffi dependency (#8736)
bd1f5ba8e feat: add gas throughput debug log to execution progress (#8734)
79113551e feat(stages): send a notification to ExExes only when Execution stage commits (#8720)
7a69941e8 chore: disable currently failing engine hive tests with reasons (#8733)
08cb77545 feat: move `RethRpcConfig` to rpc-builder (#8684)
7eec20d56 chore(book): rotate gpg keys
22e18ac2d fix: dont panic on invalud fcu response (#8725)
1bc9d8b14 Add the Sigma Prime audit (#8728)
ad0be4ca0 refactor: replace `BatchBlockExecutionOutput` by `BundleStateWithReceipts` (#8709)
3a8baa010 feat: --debug.etherscan for fake consensus client (#8082)
b16a6ec02  chore: move `primitives/trie` to `reth-trie-types` (#8717)
76a1a3d00 refactor: simplify `Receipts` implementation (#8710)
e5832d518 chore(stages): remove `execute_inner` method (#8719)
8717ed757 feat: add secp256k1 feature in reth-network-peers (#8712)
ee7a829a1 feat: add ExExLauncher (#8693)
53f4ecade feat: add launch_with_fn (#8694)
40fc19f08 chore: move workspace.package to top of Cargo.toml (#8691)
ab8b4587a feat: add storage consistency checks on CLI commands (#8667)
da1536f9c docs: improve custom-evm example docs (#8703)
2216b4b53 chore: replace secp256k1 with fully qualified path (#8701)
c7fd50768 feat: remove Bandwidthmeter type (#8698)
2852893a7 chore: rename network-types to network-peers (#8699)
c1d69d3a7 chore(deps): weekly `cargo update` (#8697)
70b6bc45a fix(example/op-bridge): ethereum Receipt needless update (#8695)
6b9623366 fix: ensure jsonrpsee logs are off by default (#8689)
08a0a909f chore: add link to new_payload_v4 docs (#8686)
53f5bb049 feat: add ExecutionPayloadV2 to ExecutionPayloadInputV2 conversion (#8685)
dd9e417d3 fix: atomically write to static file configuration file (#8666)
314da2756 chore: rm unused launch functions (#8663)
a7152eda3 chore: move `primitives/exex` to `reth-exex-types` (#8677)
d0e3504ec example(exex): tests for OP Bridge (#8658)
ade059235 chore: move `primitives/prune` to `reth-prune-types` (#8676)
977def880 fix: bad unwrap on resolve (#8675)
4fc289b9d chore: move static file crates in static file folder (#8671)
264437a5c test: fix flaky test (#8673)
007b0ebd6 chore: move ethereum payload builder to ethereum (#8490)
e4a08fbbf chore: misc stages docs (#8669)
bbfb81bbd refactor: extract trusted peer resolve into separate function (#8660)
280aaaedc docs: updates `README.md` regarding `reth-codecs` and `Compact` (#8665)
04d3191ca fix: ensure tx forwarder is set (#8664)
e0c22ace3 test(exex): improve `PollOnce` trait error handling (#8653)
c7338593a chore: reintroduce receipts verification debug log (#8662)
c362fc6c3 feat: Introduce payload primitives (#8642)
f80b05417 feat(node-builder): move network setup to node-builder launch/ BuilderContext types (#8648)
7b435e0d6 chore: bump revm-inspectors 53aa2b2 (#8656)
19a9b3ffd chore: add enum_glob_use warn lint (#8655)
961b855b1 chore: Release 0.2.0-beta.9 (#8654)
87ba096e9 fix: do not calculate requests root pre-prague in dev mode (#8652)
e2cba9fd2 feat: add missing payload behaviour (#8649)
827e081e0 Add Fjord timestamp conditions to OP+Base Mainnet+Sepolia (#8645)
49c8c9689 chore: change build_empty_payload to require &self (#8646)
a583defad fix: save last finalized block (#8473)
37f598ab9 chore: update CODEOWNERS for new crate structure (#8601)
40d8ac099 test(exex): introduce utils for testing (#8636)
b11c83cee Fix code spell lint in CI (#8634)
ffd315358 fix(op): fix import blocks benchmark (#8620)
ef3f67743 feat: resolve domains in enode strings (#8188)
c5e38073b fix: check for empty tx root in BlockTransactions::Uncle match (#8600)
097f65520 chore: add canonical cgroup docs in memory profiling docs (#8621)
8fc5f842f Add fjord activation times/blocks for Base (#8619)
ad80ad89a feat: add mgas per second log (#8618)
93f776d19 feat(node-builder): expose block executor (#8617)
5a4b3985c chore(node-builder): use datadir from config (#8615)
01fd9b3c7 chore: disable default feature for reth-db in workspace (#8476)
7e60bc4da feature: loglevel value parser (#8573)
1e0d72459 chore(net): `get` and `peek` for `LruCache` (#8508)
51a28f22d chore: split db abstraction into new crate (#8594)
a8095740f chore: add `EnvironmentArgs` and use across all CLI commands   (#8590)
e1f39bdc2 feat: move RPC cache constants and type (#8597)
ae9ab69f5 refactor(node-builder): use datadir provided by the config (#8592)
d59fcf5ee ci: only run action lint if action changed (#8598)
a1d7b870d chore: bump alloy 5796024 (#8596)
d8096aec4 chore: remove GRACE_PERIOD dead code (#8595)
05255bec3 fix: metrics typo (#8593)
8d95a750d chore: add logs to `StaticFileProvider::check_consistency` (#8591)
7ec2ab510 fix: allow the same PID to acquire `StorageLock` (#8582)
6dd8400f1 chore: remove `StaticFileProvider` field from `StaticFileProducer` (#8583)
60f665798 feat: move core rpc server types to standalone crate  (#8515)
adb360584 impl. set_block_gas_limit for EthTransactionValidatorBuilder (#8585)
f6efcb11e fix `EthTransactionValidationBuilder::set_eip4844` and `no_eip4844` (#8586)
13fcb885c feat(op): docs sync to tip (#8584)
4c6e5be87 add `manual_assert` clippy lint (#8578)
56859b417 chore: rm println (#8576)
343a5f7b5 feat: Add fjordTime to OP genesis config (#8571)
279183d71 add a few more lints (#8574)
2b4fa9606 add `explicit_iter_loop` clippy lint (#8570)
6e446084f feat: Support unnamed OP chains (#8488)
b68687271 add `explicit_into_iter_loop` clippy lint (#8569)
e02b935e9 add `match_same_arms` clippy lint (#8549)
0f1bad98f chore: log endpoint as path (#8567)
9e611e82a chore: OptimismPayloadAttributes Re-export (#8555)
4d067ec25 chore: remove `chain` field from `DbTool` (#8562)
9aacba859 add `type_repetition_in_bounds` clippy lint (#8568)
c0e744069 release: 0.2.0-beta.8 (#8566)
57610bc7a feat(trie): hash post state in parallel (#7190)
4522fd8ba feat(cli): override static files datadir (#7212)
994f98f12 chore: downgrade error message (#8561)
fdd401db4 fix(rpc): add invalid block range error (#8558)
655bb3f42 docs: mention beacon node API endpoint for ecotone (#8560)
7c17c6e46 add `doc_markdown` clippy lint (#8552)
34af610b8 chore: remove `reth db create-static-files` command (#8554)
db3d1335a feat: adds `StorageLock` to `StaticFileProvider` and `mdbx::DatabaseEnv` (#8528)
063807b3a fix auto-seal consensus duplicate notification (#8548)
f9959b0cc add `unnecessary_struct_initialization` and `string_lit_as_bytes` (#8551)
99c951a8b chore(deps): weekly `cargo update` (#8543)
e75edf3be add `iter_on_single_items`clippy lint (#8542)
b311de91c small fix in `estimate_gas_with` gas used (#8541)
da233bf32 add `empty_line_after_doc_comments` and `remove option_if_let_else` (#8539)
dfce570ce test(rpc): payload V4 decode hashing (#8531)
72d594745 improve `estimate_gas_with` (#8535)
a4df6bbd6 feat: run `StaticFileProvider::check_consistency` on start up (#8143)
105570ded fix: pruner config use toml over default (#8533)
fc8dce5ee chore: bump alloy 61140ec (#8534)
b80469d9f fix: replace storage action metric recording (#8501)
ce9154d9b chore: expose blob_versioned_hashes methods on block (#8530)
b8e8ce1f4 fix(evm): validate requests in block post-execution (#8529)
256f6a954 feat(engine): process pending fcu after release of db write hook (#8315)
411c96136 chore: use new urls for book/docs (#8527)
d2187093f fix: added 4844 transaction in documentation (#8521)
aef5a6022 Expose more tx pool types (#8526)
d7c854d93 feat: accessor for ethconfig (#8525)
dde2c4104 chore(deps): bump revm-inspector with js tracing fix (#8523)
21613bb58 fix(engine): do not ignore provider errors (#8519)
daad63827 fix: replace broken canonicalization metrics (#8500)
38fcae51f Introduce total gas and gas per second metrics on new payload (#8398)
0774d16ce stlye: use new NetworkConfigBuilder::apply fn (#8520)
a8a4f67ab perf(net): decrease budget `EthRequestHandler` + metrics (#8497)
2a8a69384 feat: add `tables_to_generic!` macro to convert between table values and types (#8518)
80c0d618b fix: make reth-db compile without default features (#8509)
e89e4c92f chore(deps): bump metrics to 0.22 (#8517)
80809a491 feat: implement EIP-6110 (#8507)
9a08ad784 chore: resolve external IP with just an http request (#8516)
716976f0d feat: implement EIP-7002 (#8485)
f43ccc760 chore: move more traits to storage-api (#8511)
633b655fe feat: implement EIP-2935 (#8431)
bafec99f6 Refactor: Clean up `RpcModuleSelection` API (#8504)
ba03d93a2 fix(rpc): use hex arg for feeHistory (#8506)
837b8f3e6 chore: bump alloy 7320d4c (#8505)
d58e69e4a chore: make networkconfig builder setup nicer (#8496)
3d3f52b2a Add `missing_const_for_fn` clippy lint (#8498)
99068198d fix: update broken link (#8502)
072d4225d chore: minify almost all JSON files (#8495)
09006f586 chore: put stages types in folder (#8489)
e67bb28be chore(net): test utils improvements (#8493)
fd495eb50 chore: group trie crates in trie folder (#8492)
a6800771c chore: rm optimism gated imports (#8491)
42667e1cf chore: rm reth-interfaces (#8486)
bab8aaa29 chore: rm reth-interfaces from bin stages (#8484)
d388fc0be feat: create_transport_rpc_modules (#8482)
944180348 chore: add _total suffix to counter metrics (#8263)
d7e822f9d chore: rm reth-interfaces from bin reth (#8483)
77b872c3d chore: rm reth-interfaces from op blockchain tree (#8481)
43bfa2ecb chore: rm reth-interfaces from payload builder (#8479)
09f1ee160 chore: rm reth-interfaces from op e2e (#8480)
1d428cbba feat: add blockexecution msg fn (#8478)
13c914598 chore: name std threads (#8475)
bd59c1bad chore: rm reth-interfaces from stages-api (#8472)
bed246c0a chore: name rayon threads (#8471)
53bcb2c9e Fix: manually impl Clone for BlockchainProvider (#8474)
0d2050390 chore: rm reth-interfaces from db-common (#8467)
269e3a9c4 chore: rm reth-interfaces from engine api (#8468)
69c65302b chore: rm reth-interfaces from prune (#8469)
19c529e8d add `use_self` clippy lint (#8325)
0cb5358fe chore: use noop consensus for op import (#8462)
7262d08f4 chore(rpc): rm unused fn (#8463)
fe823cba7 chore: rm reth-interfaces from consensus (#8461)
efccfbfc6 chore: rm reth-interfaces from beacon (#8456)
dd2113173 Rexport tx pool identifiers (#8458)
e21a2578d chore(deps): remove useless deps (#8453)
97cb38354 chore: rm reth-interfaces from stages (#8455)
25e2b2425 chore: rm reth-interfaces from provider (#8457)
2bfe5a9f9 perf(mdbx): propagate `-C target-cpu` (#8452)
d777d5f27 chore: rm reth-interfaces from node-core (#8449)
7843ce994 chore: rm reth-interfaces from payload basic (#8450)
76b32c8b5 chore: bump revm/alloy (#8447)
c6b18ff90 chore(tree): remove unused `BlockchainTreeViewer` methods (#8426)
1f2b68b8e chore: rm reth-interfaces from static file (#8441)
c67ed1d5a chore(deps): rm reth-interfaces from examples (#8445)
9f38a67fa chore(deps): txpool deps cleanup (#8443)
5dd1d88a4 chore: rm reth-interfaces from trie parallel (#8442)
023222171 chore(deps): rm reth-interfaces from rpc (#8444)
409c15dde chore: rm reth error variant (#8440)
3e7f1377e fix(op): filter out receipts for dup txns (#8400)
d78c5b71f chore: extract retherror to reth-errors (#8439)
03c3d5182 chore: rm reth-interfaces from node-builder (#8438)
3b7089782 chore: rm reth-interfaces from downloaders (#8436)
de4e0ba04 chore: rm reth-interfaces from network (#8435)
a5c3c63fe chore: rm reth-interfaces from auto-seal (#8434)
329634256 chore: move generators module (#8429)
911a3a4a9 chore: replace reth-provider dep in reth-evm (#8430)
9874a1b34 chore: move Chain type (#8433)
c54276e74 chore: misc storage api (#8432)
b4a1b733c feat: implement EIP-7685 (#8424)
f6e1c7f76 chore: remove reth-interfaces from static file (#8428)
c16fb4e49 feat: extract storage traits to storage-api (#8427)
14f035633 chore: extract bundle state type (#8425)
d5bdb8ecd feat:  sidecar fetcher (#7443)
1e2a0c372 chore(tree): misc tree cleanup (#8423)
20aeb2be0 chore: use BlockId functions directly (#8417)
66c072c92 fix(metrics): bug tx fetcher metrics (#8416)
48be58cbb chore(engine): reduce number of canonical tip lookups from engine (#8421)
21b23862f chore: rm reth-interfaces from reth-trie (#8419)
749d68b5e chore: move EvmEnvProvider (#8420)
c8a18a2f2 chore: fix lint (#8415)
4545b015e chore(rpc): remove redundant trait bounds (#8414)
e54398308 chore: rm NetworkError variant from RethError (#8413)
07dfb9fdc chore(engine): tree action on downloaded block (#8409)
a14e54922 chore: remove more reth-interfaces from provider (#8410)
beaa0fe26 chore: add internal boxed error variant (#8412)
cfc134445 chore(trie): dedup node iters (#8381)
b4d7d368a chore(trie): simplify hashed cursor abstraction (#8380)
2bf5c9303 chore(docs): clarify tree canonical chain docs (#8408)
2e47e9fb0 feat: add udp packet ratelimiting (#8406)
ed926ec9b chore: move `generic-array` to workspace (#8404)
f3013e4ea fix: validate received ENR response in discv4 (#8407)
89e55c483 feat: reset trie updates on make_canonical (#8370)
4dd2ad99f chore: extract blockchaintree types to blockchain-tree-api crate (#8393)
2d33c17bc chore(deps): weekly `cargo update` (#8401)
50590aa18 chore: rm redundant pin (#8397)
72f2f1b85 chore: rm unused functions (#8396)
a6cfa2c08 chore: remove rpc-layer dep (#8395)
df83befcf chore: replace reth-interface usage (#8394)
7dd787707 refactor: extract init from node-core (#8373)
0056f2f09 chore(deps): use error imports directly (#8388)
46fd454d8 chore: reorder struct account hashing struct defs (#8392)
a8e5eb618 feat: implement clientVersionV1 in engine API (#8016)
59622dbd4 chore: add 0BSD to deny.toml (#8391)
b06433c9e chore(trie): account specific hashed storage cursor (#8377)
789260416 chore: simplify tree result types (#8390)
4ee75d57a chore: move sync to p2p crate (#8389)
91f288d48 chore: remove wire-types optimism feature (#8383)
e0a93193f chore(deps): rm reth-interfaces dep from reth-revm (#8387)
9f61d1856 chore: extract block execution errors (#8386)
6df2b1c1e fix(book): rethdb usage with op-node (#8375)
76d7f4e1b chore: import codecs directly (#8385)
05fddd345 chore: replace interfaces dep with storage-errors (#8384)
df7c9ee31 chore: extract p2p types from interfaces (#8382)
d7172b660 chore(deps): shrink some deps (#8376)
1287bbcac chore: extract provider types (#8372)
8263480a7 chore(github): run update-book-cli in the lint workflow (#8335)
0e87ff4da chore: sort workspace members (#8374)
62e05b505 fix: disable timeout on DbTool level (#8357)
39d24b495 feat: return parent beacon block root in payload conversion (#8349)
a4933e72a chore: remove peer types dep (#8368)
c73af6298 chore: remove network setup from config (#8364)
bc4dd3787 chore(editor): set indent size=2 for the yaml files (#8366)
b8eebbd3d chore: add docs for using personal tag in kurtosis (#8354)
3312dc26c chore: make unknown block error lowercase (#8355)
f447db1ee feat: add static-file-types (#8361)
4250c33da chore: clippy happy (#8362)
155876d28 chore: improve HaveNotReceivedUpdatesForAWhile warning (#8356)
c5bc960d3 fix(storage): use u8 for NippiJar's DataReader::offset_size (#8360)
8158c284b doc: remove missing link (#8363)
3eddaf31d  feat: implement table range checksums for reth db checksum (#7623)
bc914a64d fix: check for files in is_database_empty (#8351)
dbc65ad69 style: small refactor for `txpool_inspect` (#8348)
7653e81d6 perf(primitives): avoid cloning receipts when calculating the root (#8350)
d0386b816 feat: use broadcast channel for event listeners (#8193)
f45ca7477 refactor(consensus, evm): move post-execution validation to consensus (#8321)
90713300b docs: add warning notes about using NippyJar and Compact encoding formats with untrusted data (#8345)
e2a5857c2 docs: add panic comments in from_compact() (#8346)
ea2c31375 dep: bump `alloy-trie` to 0.4.1 (#8344)
c34b31ef5 chore(trie): `PrefixSet::iter` (#8343)
cd039d362 feat: bsc p2p network (#8061)
5eb41d408 fix: disable db shrinking (#8324)
50f1f1c03 fix(op): disable execution stage (#8317)
affafa8cf feat(op): docs sync op mainnet (#8309)
e089c5c37 docs(book): trim any white space at the line right ending (#8242)
8a02e6e0e chore: rm leftover test assets (#8328)
97156a8e7 feat: add actions lint to pull request workflow (#8183)
106d44930 fix: disambiguate use of next when validating ForkId (#8320)
c97963b35 fix(op): skip tx root validation for filtered out dup txns (#8316)
6b14cbc5e fix: reject trailing bytes when decoding transactions (#8296)
0b8ab1e08 fix: remove some `expect` usage in blockchain_tree (#8278)
043b4a9cd fix(op): fix logs (#8329)
23738e6db fix(cli): tx fetcher args help (#8297)
54cd8cf9b fix: Chain::split returns NoSplitPending for block number > tip (#8285)
5100ddd28 fix: prevent CREATE tx for EIP-4844 types (#8291)
adbe1ba9b chore: use with_chain_id for CfgEnv (#8327)
5943c4707 feat: add additional message type metrics to EthRequestHandlerMetrics (#8319)
383693762 fix(txpool): local transaction configuration (#8323)
de79f2657 chore: integrate discv5 config builder in networkconfig builder (#7856)
db9c55924 refactor: Replace JwtSecret with alloy's version of it (#8299)
3daec1d9b feat: remove relay types (#8314)
4b2d5eb83 chore: bump alloy (#8312)
bcfa5780e fix: calculate parity of legacy EIP155 txs correctly in alloy compat (#8302)
e45496a2a chore(deps): weekly `cargo update` (#8311)
3541edf86 fix(op): reorder supported chain (#8310)
69223307f fix(make): use the default rust dir for build/build-op (#8259)
ac0a005dd docs: add comment about potential overflow of base fee per gas (#8280)
9441d984a Move reth-primitives::fs module to fs-utils crate (#8286)
b177c29f9 feat(e2e): add helpers to TransactionTestContext (#8237)
78c02299d rpc `txpool_content` typo (#8292)
31b6bdd13 wip: lru changes (#7484)
0edf3509a chore: remove unused file muxdemux.rs (#8287)
aefcfff25 feat(storage): implement `BundleStateDataProvider` for `BundleStateWithReceipts` (#8282)
530dbdbb5 chore: dont exclude crate (#8275)
f0681947d chore(rpc): cleanup rpc-layer (#8274)
79d505adb fix: Make L1 tx data fee calculation aware of Ecotone hardfork (#8268)
e7d85e11d chore: install apt-get deps before cargo deps (#8262)
aa5c52b94 chore: add alloy-compat for signature and transaction (#8197)
2e2c8e1d6 fix: allow to call V1 methods post-Shanghai (#8250)
d1f38f166 feat: proof verification (#8220)
19e5fcb00 docs(network): update command instruction for the --trusted-only (#8246)
081796b13 feat: impl `Compact` for `FixedBytes<N>` (#8222)
12f1e9c94 chore: remove validate_block_regarding_chain (#8224)
4fa627736 feat: add prague timestamp conversion from genesis to chainspec (#8216)
aed78a6e4 chore: bump alloy dd7a999 (#8215)
c2a05f07d chore: bump revm to latest with placeholders for EOF (#7765)
3efab6421 refactor(ethereum, primitives, evm): use Alloy EIP-4788 constants (#8208)
d9f9504db chore: refactor `DefaultStages` to take `StageConfig` (#8173)
487f7e302 refactor: move all alloy-compat code to a standalone module (#8192)
8288207cd chore(deps): weekly `cargo update` (#8205)
e20cb9182 Extract layers module from rpc crate (#8163)
bab96bedb fix: skip s value check in trace_filter recovery (#8200)
ef01d5023 chore: use engine types crate for types (#8170)
12cce00ec chore: move optimism payload crate to optimism folder (#8169)
efa5d41bf chore: bump alloy 899fc51 (#8195)
a8bbab247 chore: implement traits directly for futures::Either (#8172)
b86c6a591 avoid double function call in `validate_one` (#8194)
a44e08573 fix: do not use cross for x86_64 apple darwin (#8189)
e6fe864e7 fix: use --show-sdk-platform-version instead of os-version (#8185)
ad54af840 fix:   copy and prune data from database with `move_to_static_files`, before a pipeline run/unwind (#8127)
ee3c93916 chore(deps): remove outdated dev dep and comment (#8184)
87fee5e8b fix: use yaml lists instead of objects in release.yml (#8182)
4bbc8509d chore(pruner): set default timeout to `None` on `PrunerBuilder` (#8181)
539c70256 fix: use configs object list in matrix to release all platforms (#8179)
1184e8c45 chore: use `NoopBodiesDownloader` & `NoopHeaderDownloader` on `stage unwind` command (#8165)
aa07257d3 fix: use op-build instead of build-op in release workflow (#8167)
d46774411 release: v0.2.0-beta.7 (#8164)
dd7c02147 feat: feature gate rpc-types import for alloy conversions (#7963)
db868208f feat: introduce statewriter trait (#8160)
d852f7f01 chore(op): simplify op cli args (#8146)
331d1a0c6 feat(ci): add op-reth to release workflow (#8132)
bdb8238d7 chore: remove type aliases (#8155)
18b7edb19 fix(examples): ExEx rollup reverts (#8151)
72e5122e7 fix: prevents potential arithmetic underflow (#8156)
04d2c10c4 chore: rm outdated executor types (#8157)
ad00e83e6 chore: move dashmap to workspace dep (#8153)
6a6fe4cec fix(discv5): update metrics wrt unverifiable enrs (#8149)
8954ffb42 chore(grafana): dashboard names like public (#8148)
a7d8da5a2 feat(grafana): State & History panel (#8144)
0ad9c7866 feat(op): import receipts (#7914)
9bd74fda9 fix: use `--syncmode=execution-layer` from `op-node` for optimistic pipeline sync (#7552)
7c4d37b27 perf(net): constraint algorithm fill request with hashes (#8142)
1188898da fix(net): max inflight requests (#8139)
e172a8e38 Move and rename ```BeaconConsensus``` to ```EthBeaconConsensus``` (#8140)
00f9acb94 chore: remove reth-revm optimism (#8141)
a2623e836 fix: ensures that pruning data from static files only happens on calling `commit()` (#8101)
05e434eae feat: rm txmeta associated type (#8138)
bcb0bff38 chore: rm redundant optimism feature (#8136)
f281bbdcc fix(op): stages checkpoints init-state (#8021)
cbc6f268c replace reth BlobTransactionSidecar with alloy's (#8135)
5b4e10cbd Add helpful text for tx pool flags in reth --help (#8134)
5f82993c2 chore: replace beacon types (#8125)
6f72c0ab5 cli(op): simplify init-state cmd (#8126)
c79c18874 fix(discv5): no address cli arg (#8130)
077f7310c fix: ensure valid parent hash in prepare_invalid_response (#8123)
47dade7c1 fix: set mainnet timestamps in op chainspecs for consensus checks (#8129)
16f85c433 fix(discv5): decouple rlpx & discv5 ipmode (#8080)
c70b17a55 feat: prague engine api types (#8119)
614e1bccd chore: move NodeRecord type (#8121)
b77473cfa fix: add checks for hardfork-specific fields to ensure_well_formed_payload (#7993)
5e778317f convert ```OptimismBlockExecution``` error variant into a general purpose error variant (#8100)
7fd091536 fix(rpc_server): remember to set ipc config for auth server (#8120)
1d9894fbe chore: bump alloy 17c5650 (#8118)
00a02f5b5 chore: remote `try_` prefix from block to payload conversion methods (#8117)
68920b830 feat: add exex for in memory state (#8108)
f83a872dd feat: improve exex examples' validation (#8116)
8f8b29b3c refactor: replace futures_util pin and tokio_pin with std pin (#8109)
199503531 chore: bump alloy 0bb7604 (#8107)
fa59ec807 chore(deps): weekly `cargo update` (#8104)
101e99f57 ci: remove check-cfg job (#8106)
d01996103 replace U64 fields with primitive u64  (#8099)
4b78706ed chore(cli): fix displayed block range in merkle debug script (#8091)
bff14c603 chore: rm leftover peer.rs file (#8098)
2c70e2ab3 feat: rm reth-primitives dep (#8097)
ac1d5324e chore: rm unused file (#8096)
82e4ad9e7 docs(book): update CLI (#8093)
f8cd8c56a feat: add helper functions for batch executor (#8087)
ead753db4 fix(cli): debug merkle script (#8067)
66f70838a chore: move dao hardfork constants to evm-ethereum (#8078)
d9f4adc2e chore(deps): bump alloy, evm-inspectors (#8077)
1cf65e339 feat(op): pass unverifiable ENRs to rlpx (#8059)
43599f983 chore: move node-ethereum to ethereum/node (#8076)
f20e4cbad debt(discv5): discv5 integration into network (#8065)
90f316125 chore: remove InspectorStack (#8073)
067b0ff42 feat: integrate ExecutorProvider (#7798)
ec45ae679 chore: log only number & hash when skipping payload (#8069)
aef1bcc43 chore: make clippy happy (#8068)
a590ed7ce chore(discv5): pub methods (#8057)
2ac2433a9 feat(examples): add blob support to the rollup ExEx (#8028)
232e7bf19 feat(cli): make `db stats` non-detailed by default (#8056)
1a1c24ba2 dropped ```RUST_LOG=info``` from recommended commands (#8054)
e90dc44be feat: remove field ```max_gas_limit``` from ```BasicPayloadJobGeneratorConfig``` (#7949)
9eb7d961d integrate FullNodeComponents in exexcomponents (#8051)
29be4072c fix(op): bootnodes (#7990)
0e3f031ad feat(engine): make new payload canonical action (#8042)
5378dd79e feat: new payload skipper (#8050)
7845c9c89 minor typo fix  (#8052)
2af2f0ba4 chore(engine): new payload blockchain tree action (#8041)
e68ab2f58 refactor: engine interceptors (#8048)
1603113ce docs(libmdbx): more `static_files` -> `snapshots` (#8047)
78f62dd34 feat: add spawn_replay_transaction to EthTransactions (#8036)
2eee1920e fix: check for oob offset access in nippy jar (#8037)
14d91c3ba fix: make discv4 packets adhere to eip-8 (#8039)
f6649c31b docs(libmdbx): `static_files` -> `snapshots` (#8046)
aba48a550 perf: add `ETL` to `init_from_state_dump` (#8022)
7428573d7 feat(discv5): bootstrap cli (#8004)
10ef202d7 chore: update 1.0 release ETA to May (#8040)
978be33a9 chore(deps): rm builder dep (#8043)
bb7f1135d feat: write pruning config if --full is present (#7938)
4f002f6ef  chore(engine): introduce blockchain tree action (#8029)
2334317dc chore: deduplicate fork timestamp configuration in `ChainSpec` (#8038)
0aa7d4d05 feat(rpc-builder): add tower layer for updating bearer token in auth client (#8010)
f94ce6e78 chore: cfg ImportOp behind optimism feature (#8033)
9d2ca45c3 chore(engine): flatten fcu processing (#8027)
9ae9af484 feat(pool): make mock transaction validator eth-compatible (#8034)
1c1cbe923 feat(pool): add `chain_id` to transaction mocks (#8031)
0938504f4 chore: reduce number of Evm monomorphizations (#8030)
399afd802 feat(node_builder): allow borrowing self in `ConfigureEvm::evm` (#8024)
f157ec83b chore: remove redundant suffix in ChainPath methods (#8025)
c1f5b45bb fix(grafana): tx pool dashboard units (#8020)
99924e424 perf(build): make maxperf-op (#7967)
99db2b352 feat(op): nonce replay (#7781)
f832b66f9 chore: rm uneccessary trait bounds (#8019)
fb960fb3e refactor: remove _args prefix from modules in node_core (#8015)
074c5c301 feat: introduce external context GAT in ConfigureEvm (#7842)
bf9d9745e fix(op): use canyon,ecotone fork timestamps for op mainnet (#8011)
8e65cb3aa Bump `evm-inspectors` and `alloy` (#8006)
d532217af fix(op): discv5 ENR (#7991)
e09895257 feat: add `Deref` impl for `PayloadTaskGuard` (#7971)
afbb265b4 refactor: use `reth_rpc_types` `BlockId` in optimism rpc (#8003)
d04d9556f feat: make nodetypes stateless and move evm to components (#7992)
581682605 fix(net, discv4): call find_node with valid endpoint (#8002)
9153d8848 chore: remove unnecessary Debug implmentation (#8001)
e158542d3 feat: ensure offset size is at most 8 bytes (#8000)
6d7cd53ad chore(discv4): limit number of queued pings (#7999)
d0973bb6d fix: correct expiration for discv4 lookup requests (#7996)
b99d367c1 fix: ensure peer exists b4 marking txs as received (#7998)
29e0e8150 feat: add with_canon_state_notification_sender fn (#7997)
d03150e13 chore: rm more unused deps (#7995)
996f1efb7 docs(storage): chain of blocks should not be empty (#7809)
a6661d695 chore(exex): display `exex_id` log field using `Display` (#7994)
c3cdd8c64 feat(examples): sqlite rollup exex (#7826)
0f9658cfa chore: use `FnOnce` on `WithLaunchContext` methods (#7989)
b3d7b7d50 feat: `StaticFileProviderFactory` (#7983)
1fe00a7c3 feat: use `FnOnce` for node hooks (#7975)
053b14abd feat: add method to EthBuiltPayload to get blob sidecars (#7979)
5d795b934 fix: handle Multiplex P2PStream.poll_ready errors (#7988)
d281699c2 chore: rm clap as dep of `reth-static-file` (#7980)
9fc75c624 chore: pin ethereum tests (#7986)
490fbb0f5 docs: minor doc nits in reth basic payload (#7977)
4c01856e6 chore: pool type must be unpin (#7974)
d9faaa80c chore: rm unused consensus fns (#7972)
6619faf42 docs: correct `encode_for_signing` docs (#7973)
593b2b6d0 feat(rlp): custom rlp encoding tx type (#7968)
081978002 feat: add `extract_chain_id` method (#7921)
55017ef02 chore: less restrictive bounds (#7970)
3754b1e18 feat(ci): add cfg check (#7965)
33f4c3fa9 fix(op): genesis (#7969)
12873d515 feat: expose fields of `ResolveBestPayload` for remote construction (#7947)
fd8fdcfd4 refactor: remove futureUnordered in ipc (#7920)
a8cd1f71a chore: add test to `Compact` derived types to avoid backwards incompatibilities  (#7822)
ee7035175 test: rm redundant helper trait (#7962)
b2c3d0c0b chore: update codeowners (#7961)
af2da06a0 chore: add required trait bounds to DB type (#7960)
14ed7196c chore(storage): use `TAKE` const instead of `UNWIND` (#7959)
76e3aa9fa feat: enable optimism hardforks on genesis parse (#7935)
3fc5cf646 feat: use ComponentsBuilder as associated type in Node trait (#7957)
0501a4371 feat: expose `PendingPayload` from `reth-basic-payload-builder` (#7946)
1fbcdeb06 Tracking current stage on pipeline unwind (#6558)
1f6753b84 chore: mode node-builder to node dir (#7952)
cf6d34cf3 expose `PayloadTaskGuard` from `reth_basic_payload_builder` (#7945)
ead0fbf8f chore: rm anyhow dep (#7944)
c535d59c8 refactor: extract GenesisAllocator type from primitives (#7932)
f3ba80093 chore: simplify accesslist extraction (#7942)
e18869f25 chore: rm redunant log fn (#7941)
1e94d9007 chore: rm redunant withdrawal fn (#7940)
bf66a3dd2 Move network.rs example to its own folder (#7936)
b3bac08f6 chore(deps): weekly `cargo update` (#7937)
2b6921b16 chore: replace fnv with fxhashmap (#7927)
2deb259ea feat: replace duplicate Withdrawal type with alloy (#7931)
5f15af540 chore: bump ratatui; rm unused (#7934)
43f58f16d chore: get rid of compat call (#7930)
cc4a418dd refactor: extract peer types to net/types (#7912)
6bdba8a2a chore: misc clippy fixes (#7926)
2f052a811 feat: replace low level IPC with interprocess (#7922)
ffa36b734 use default implementation for `BlockId` (#7917)
704b3e3ac chore(sync): add block number to body validation error (#7918)
51bdc6afe fix(exex): skipping logic of the notifications (#7919)
953ba043a chore: bump alloy 4e22b9e (#7895)
7f0e81e47 refactor: remove WsHttpServerKind enum and simplify server launch (#7531)
b6b2cf816 Add windows Ipc Client implementation (#7187)
73ea68692 chore: move reqwest to workspace dep (#7910)
bb0809ce2 chore: reuse validation fn (#7911)
688ee06e9 fix(discv5): fork id list in ENR (#7909)
d833f1aed feat: add new crate op-beacon-core (#7848)
4278bc24c Bump `alloy-dyn-abi` and `alloy-sol-types` (#7903)
fd46df069 feat: move db-access example into a separate module (#7902)
6425064d0 fix: use enrforkid in dns (#7900)
57d09e84b deps: remove `webpki-roots` from `reqwest` deps (#7887)
7efdbf492 fix: account for legacy tx in `try_from` tx to `TransactionSignedEcRecovered` (#7882)
adf1d25a8 feat(op): cmd init at block (#7784)
e2e5201d8 chore(deps): bump enr, discv5, secp256k1 (#7000)
3ad3bbc59 chore: more launch builder style function (#7897)
844bcb86b refactor: replace rpc TransactionKind with alloy_primitives::TxKind (#7885)
062b3d76b refactor: move network-txpool.rs example to its own folder (#7892)
16ae64061 chore: decrease local pending block expiration time (#7896)
663a7185e chore: more LaunchContext helpers (#7894)
d312dbbea fix: chain spec for op mainnet (#7883)
57e3f40dd chore: unpin cc (#7891)
6d1aab538 refactor: minor `Signature` refactors (#7888)
9567b256c feat: support max_request_body_size (#7880)
35ac20b8e feat: LaunchContext helpers (#7884)
1c81fae4d refactor: rename some examples (#7881)
29e5df81a chore: bidirectional eq for TxType (#7876)
6f22621f4 chore: rename BlockChain to Blockchain (#7840)
421888d22 fix: log actual notification id in exex manager (#7874)
ed45c3c10 chore: some touchups (#7873)
79235a74f chore: add `node-*` crates to `CODEOWNERS` (#7869)
1c17f08ad Replace TransactionKind with alloy_primitives::TxKind (#7859)
08cdd67cb fix(auto-seal): build dev blocks with withdrawals (#7857)
33e7e0208 fix: derank peers that responded with bad data (#7854)
f6e68e28e feat(op): timestamp below bedrock (#7768)
c7008deef fix(cli): set start header (#7725)
0f7e3541b chore: add `cli/*` to `CODEOWNERS` (#7870)
132f7fbd8 chore: remove `evalir` from `CODEOWNERS` (#7868)
90bf4005e chore: merge consensus and revm owners (#7867)
d0382fb88 chore: add `trie-parallel` to `CODEOWNERS` (#7866)
9f0874d59 chore: add `reth-stages-api` to `CODEOWNERS` (#7865)
652be135c feat: adds panels for execution extension metrics (#7605)
4cef3809e docs: update examples readme (#7852)
0e8e57318 chore: rename exex example crate names (#7851)
766e77a81 chore: log failed tip fetch only after 20 tries (#7850)
a22cf2189 fix: still delete headers from db in headers unwind (#7579)
76a3d8278 feat: add thorough error message to state root error (#7607)
659059c67 feat: split nodebuilder generics into separate states (#7847)
ddc5ed326 fix(rpc): correct `Other` error msg (#7845)
66c6cbc57 feat(exex): do not log ID on ExEx start (#7846)
90da3205d refactor: remove unused map_err (#7837)
784d8dc59 refactor: replace OP error variant with general purpose error (#7844)
1f84c27c3 chore: delete empty files (#7843)
4f81f3acc feat(discv5): recycle clean up code (#7727)
dc6a02ce7 docs(book): recommend running with Docker Compose (#7637)
f372db40c feat: blob e2e test (#7823)
9db17123b refactor: replace `to_primitive_transaction_kind` by `From` impl (#7831)
dcad03c9b refactor(reth-basic-payload-builder): remove unnecessary assignment (#7835)
86980836b fix: dont panic on invalid l1 blockinfo calldata (#7834)
7a593882e chore(github): use codespell to inspect and correct spelling issues (#7775)
665e67ec7 ci: use `HOMEBREW` secret (#7829)
0f9145b72 chore: add CanonStateSubscriptions to NoopTree (#7828)
a75d6cd75 chore: rm dbg (#7827)
cfeead759 add `reth-evm-optimism` (#7821)
c659e28aa feat(storage): replace Tree generic with Arc<dyn TreeViewer> (#7810)
a8a434d2c chore: flatten more deps (#7824)
ce1e401d2 docs: add warning regarding `increment_block` necessity on `write_to_storage` (#7816)
ee1c811c4 feat: integrate RpcMiddleware in IPC (#7790)
00ca9cd02 feat: add prague helpers to spec (#7817)
b3db4cf56 feat: add UX improvements on e2e testing (#7804)
9fd35f948 chore: move TestConensus to reth-consensus (#7813)
672e4c512 chore(bin/stage): add explicit doc of the use of to-block and hashing stage (#7805)
eabd0220c feat: support short issue links in label workflow (#7814)
6d2e20cd8 chore: Move consensus trait to standalone crate (#7757)
322483752 fix(args/txpool): duplicate arg of txpool.max-account-slots (#7806)
d1e38966a fix(stages): send revert chain notification instead of a reorg on unwind (#7808)
d6b861ea5 feat(exex): send `ExExNotification` instead of `CanonStateNotification` (#7803)
c499797a6 chore: export tables macro (#7807)
b9db4cb61 Implement Compact for Withdrawal (#7604)
a2027c817 chore: add network or chain question to bug template (#7800)
ac29b4b73 release: v0.2.0-beta.6 (#7802)
9179e4e8a feat(rpc-engine-api): add engine API response type metrics (#7801)
9a1d6ea9c feat: base fee param fetching at a specific block (#7783)
24a820248 fix(cli): read exact chunk len (#7777)
250da4e44 chore: ask for debug logs in bug template (#7795)
31801c7bc chore: flatten beacon-consensus test deps (#7796)
8382529f7 chore: pull async-stream into workspace deps (#7794)
b0cb2d0df chore: remove consensus setup from node-core (#7793)
cf789dce7 chore: use workspace deps in nippy jar (#7792)
cab4420b4 chore(deps): move http crate deps to workspace (#7791)
adcc0643b chore: relax some bounds (#7789)
fa9f23db9 feat(op): signature encoding (#7769)
ce2f1602a bench: fix `reth-stages` criterion benchmarks (#7786)
c0926ba10 feat: enable OP hardforks in DEV chainspec (#7787)
612cfcbc9 Implement `try_from` rpc tx for `TransactionSignedEcRecovered` (#7752)
02314927f chore: enable optimism e2e tests (#7776)
4f10d377f chore(deps): weekly `cargo update` (#7778)
223dde200 fix(tree): disable cached trie updates for chains with >1 block (#7753)
d81cf8aa5 fix(discv5): fix bug flip byte lookup tgt (#7764)
3750edd90 chore(e2e): refactor e2e tests (#7773)
66d5ecbd4 chore: bump alloy 39b8695 (#7774)
e35abf842 feat(op): init genesis alloc (#7748)
6728a5518 feat: gracefully shutdown prometheus server (#7728)
615e90b0f fix(exex): properly check ready state in `poll_ready` (#7772)
db5bd0685 chore(lint): duplicate attributes (#7770)
9df9c03a8 fix(tracing): wrong header in error (#7767)
566a7804a fix(stages): block number in error (#7766)
71f8e678a chore: relax some bounds (#7762)
d599ce468 fix: dont await changes (#7760)
16b747e20 fix(deps): bump rustls (#7758)
20568b881 perf(discv5): populate kbuckets & improved RLPx peering (#7683)
4f1099b9d chore(debug): allow first fcu through in `EngineApiSkipFcu` interceptor (#7756)
e3c566478 ci: stop github from fighting us over labels (#7754)
4f7f690ac fix: enable --dev for op-reth (#7755)
34c5b4252 docs: add more docs to recover_signer (#7751)
bd4757b3b chore: make alloy impls feature gated (#7747)
d214daebb chore: move engine primitives (#7746)
49c02c3b8 feat: send `CanonStateNotification`s from execution stage (#7578)
6646a329a chore: move node-api to node dir (#7743)
6a6b3cc3e chore: introduce ethereum folder (#7744)
4c60ed05b chore: remove todo comments from #7599, and improve the visibility of certain methods. (#7741)
8a0f8cf83 chore: stages crates touchups (#7742)
f4dda95cb feat(op): allow import without state (#7661)
cf163ba9d feat: group optimism crates (#7740)
defe5ff0a refactor: split reth-stages into reth-stages-api and reth-stages (#7666)
f14bf14d1 chore: relax some trait bounds (#7739)
e7945f921 fix(engine): remove block execution error matching (#7735)
04aef71d7 chore(engine): extract fcu make canonical result processing (#7737)
1c46e5ae7 feat: block executor provider and ethereum + op impl (#7594)
93871b3ea chore(engine): extract fcu pre-validation (#7736)
d5858adc0 chore(engine): remove map insert error (#7733)
61acd7801 docs: update base sequencer url (#7731)
a1059bed9 chore: extract cli runner from node-core (#7719)
1a61d29af chore(engine): remove `find_canonical_ancestor` (#7716)
18725f142 fix(examples): send finished height from minimal exex (#7730)
fae308ee7 fix(grafana): adds missing panel for tx fetcher (#7700)
643cae776 feat: add pre bedrock recovery check (#7726)
528f1e904 fix: set ETL directory inside `datadir` on `reth run` and `reth import`  (#7722)
e401c4848 feat(pruner): respect ExEx finished height (#7673)
6863cdb42 chore: introduce node dir (#7720)
f57bef718 Revert "feat(op): import bodies (#7659)" (#7724)
4ca86fb4d chore(storage): use chain spec from provider field (#7723)
58cb524d7 chore: rename `parent_block_hashed` to `parent_block_hashes` (#7715)
7b16f0d0b chore: Move node-core/events to standalone crate (#7713)
027f920eb ci: enable eth_getProof hive test (#7710)
979e5427b nit: use ref slice for `random_account_change` (#7714)
3a3b95796 fix: don't import ipc client on windows (#7712)
0ff3b0e3a Dencun readiness - pin Lighthouse image tag in base Docker Compose setup (#7066)
27ddfae9a ci: update runners for apple builds (#7408)
b846f47fd feat: `--debug.skip-fcu` (#7709)
9557ce05a perf(discv5): boost bootstrap lookups (#7695)
69370e989 fix(discv5): fix panel filtered peers (#7696)
992e08cc7 fix(docker): obsolete syntax compose file (#7697)
21ab76b89 fix: disable read timeout for tx in db list (#7689)
db4a4a34e fix: add discv5 config to p2p cmd (#7662)
4f8d90b10 chore(engine): refactor sync target determination on failed fcu (#7704)
0a62b2735 chore(engine): inline `update_tree_on_finished_pipeline` method (#7703)
3508e5651 chore: convert tab to space and trim trailing space (#7705)
9286cc6c8 chore: bump alloy (#7701)
7cda5945d chore(engine): refactor pipeline outcome processing (#7692)
dc39fd68f fix: check for genesis block on pool validator init (#7699)
4911febe6 feat: add Prague hardfork variant (#7694)
4c4aaafff test: add `test_requests_timeout()` for disv4 (#7693)
f4386c9cd fix(docker): Add support for RUSTFLAGS and feature flags in Dockerfile (#7658)
70db3d827 storage: fixes behaviour of cursor delete_current on start item (#7646)
24225d0a8 chore(engine): dedup consistent forkchoice state check (#7677)
b386a8d50 fix(discv5): remove todo (#7684)
86d8f0b0e fix: add enable missing arbitrary feature (#7688)
d39a8d740 feat: add native compact impl for alloy TxKind (#7686)
bb67c40d5 chore: remove DOS line endings from basefee.rs (#7685)
8fc124f2e chore(node): unify the format of command args (#7656)
fb3f6f155 chore: flatten node-api dep (#7682)
566480b47 chore: move optimism bootnodes to `reth-primitives` (#7657)
493f41a12 feat: add missing hardfork convenience fns (#7678)
20aa3c45c chore(engine): `BeaconConsensusEngine::current_engine_hook_context` (#7676)
49ceeaf0c refactor: Drop reth_primitives::Log (#7651)
90b07427b chore(tree): `CanonicalError::is_block_hash_not_found` (#7675)
f8fb334e3 chore: include block num and hash in bctree debug logs (#7665)
5c2542778 feat(discv5): add enr to tracing (#7664)
0aae8c421 chore: move BlockExecutorStats (#7672)
cd5be8e08 chore: extract evm processor batch handling (#7671)
af2dce3e6 P2P Sync e2e (#7529)
7f6a2b4cb refactor(exex, primitives): move finished exex height to primitives (#7670)
8105291af chore: convert FromRecoveredTransaction into TryFromRecoveredTransaction (#7497)
b67f7f090 safer `TryFrom<reth_rpc_types::Transaction>` for `Transaction` (#7667)
33b195af3 fix(tree): overlapping parent block hashes (#7669)
516e83687 feat: add rpc trait bindings for optimism specific endpoints (#7621)
711de3b08 feat(discv5): add tracing (#7663)
d4a8ef92d refactor: replace ```calculate_next_block_base_fee``` with alloy's builtin function (#7641)
fc4bb53f9 fix: check if regexp match is null in label-pr script (#7654)
c59c41701 Convert `Header` and `Block` rpc to primitives (#7660)
6f210f136 docs(discv5): additional info regarding requested enrs on bootstrap  (#7655)
855988994 feat(op): import bodies (#7659)
f387f7bd9 refactor(exex): make finished height an enum (#7652)
bc485d939 refactor: remove unused codecs (#7639)
8f1f386f5 feat(op): chunked chain import (#7574)
288b7fb37 ci: automatically set pr labels upon open (#7613)
58cd4c5ed chore: update `decode_enveloped` docs (#7645)
ceeb0da03 fix(op): headers above merge (#7622)
62eb8fd2b chore(tree): remove `BlockchainTreeEngine::unwind` (#7647)
a2654650b Implement `From<Block>` for `BlockBody` (#7643)
cfbebc159 docs(book): update node size numbers (#7638)
3e8d5c69c feat: replace reth native AccessList type (#7636)
d4ea41528 fix(cli): import cmd boundaries (#7620)
f6f713ddd chore(discv5): add comments for op bootnodes (#7634)
8cdeacf38 chore(deps): weekly `cargo update` (#7627)
aa32f7bfa fix: crash ExEx task when the ExEx future returns (#7633)
4d175cb78 feat: add a metric for the number of ExEx's on a node (#7632)
4d7996733 chore: simplify DisplayBlocksChain (#7624)
96e3619ea use alloy's BaseFeeParams (2) (#7617)
987e59744 Implement compact codec for alloy eip access_list (#7554)
3237ad2a8 feat(rpc): add anvil and hardhat and ganache trait bindings (#7495)
a89add094 chore(deps): bump alloy+evm inspectors (#7616)
041e29347 feat(rpc): add block timestamp to logs (#7606)
234d258ce feat: impl TryFrom<reth_rpc_types::Transaction> for Transaction (#7551)
2dcc01210 feat(exex): add `Pool` to `ExExContext` (#7573)
7918759b2 feat: Implement BlockReader::block_with_senders_range (#7402)
aa1fbfcba refactor(exex): use async fns in op bridge example (#7601)
d970e51c8 fix(cli): bug fix import cmd (#7602)
bc4119b38 fix(cli): import cmd logs (#7592)
d950bce3f refactor: use async fns in minimal example (#7600)
1edd9d1e4 fix(test): add missing dep (#7595)
e1ebc2f06 chore(node-api): move `FullNodeComponents` from builder (#7597)
9a4c01fbe chore: rm node api deps (#7593)
dd28a4ca7 fix(cmd): get tip block (#7591)
9b5fc9fd8 chore: extract engine type defs to dedicated crate (#7589)
fe58f3502 docs(docker): improper docker volume path causes data loss (#7590)
4fb55eacf feat: introduce reth db stats --checksum (#7581)
b6fc756b4 chore: move pipeline setup to node-builder (#7588)
9c5aea8c8 feat(op): import below bedrock blocks (#7555)
47d533217 chore: clean up some errors (#7585)
c738087f1 chore(tasks): comment formatting (#7583)
210158fba refactor: rm unused fns in `NodeConfig` (#7584)
6a83391a5 chore: move tree setup to builder (#7577)
830478055 fix: disable long read transaction safety in db diff (#7575)
39dea65b6 feat(examples): minimal viable ExEx (#7565)
3ffc72983 feat(examples): OP Stack bridge stats ExEx (#7556)
007e5c2c4 feat: exex manager (#7340)
dc9fc372c chore: make function private (#7569)
33dea48e6 chore: rm unused fn (#7568)
8d65186db chore: relax stateprovider db trait bound (#7567)
681b1a598 feat(storage): non-optional committed chain in CanonStateNotification (#7566)
80f8707a1 chore: add `reth-exex` to CODEOWNERS (#7563)
05d9cf950 ci: fix iai benches the sequel (#7562)
b8b735e8e feat: add `reth db checksum <TABLE>` command (#7257)
dd83c9c4f Feat: support for engine api over ipc (#7428)
69355affb ci: fix iai job (#7544)
e48bae9a0 perf(pool): send blob sidecars as `Arc` to listeners (#7545)
00420477c chore: reserve an upper bound in `ReusableDecompressor` (#7523)
2e10ffb0c feat: set local enr in nodeInfo (#7543)
8d3085617 Update iai benchmarks to use iai-callgrind (#7534)
b9c677ef9 Update revm-inspectors link (#7541)
4b84b9935 feat: add PeersInfo::local_enr (#7539)
e50f942d4 chore: use alloy nodeinfo (#7512)
2e3a827b0 refactor: launch disc services concurrently (#7533)
3338a0350 chore: bump jsonrpsee 0.22.4 (#7538)
5c99d0690 chore: bump sse example (#7537)
cf97b2337 chore(stages): log hash insertion progress as Display string (#7535)
283b56c1b chore: move request hashes failed log to trace (#7524)
862918474 test: add forkid rlp tests (#7528)
6c633e933 chore: use builtin optimism fn (#7522)
fe27dc64d feat: integrate evm in OP payload builder (#7527)
cfd335b9b feat: auto impl Arc, & and Box for StateProviderFactory (#7526)
e43b2f482 fix: Remove extra return when init uses too much gas (#7521)
5efe17370 test: extend `test_pending_ping()` to respect limit of `pending_pings` (#7520)
2e87b2a8d chore: add `asm-keccak` to reth crate docs (#7518)
91a150307 Implement Compact codec for alloy_primitives::Log (#7474)
33d335837 feat(exex): use unbounded sender for events (#7517)
382677288 chore: fix some warnings (#7515)
6a104cc17 chore: rm unused execute function (#7513)
6beb53ee1 feat(node-builder): add `install_exex` to `WithLaunchContext` (#7514)
03fa7ee85 feat(tree): disable long read transaction safety on `newPayload` (#7511)
d6dd1c2da chore: use `while` for all `poll_tick()` to make code consistent (#7510)
9d2fdd5e3 chore: remove ethers deps (#7508)
f4f039de0 fix: ensure transfer gas estimation succeeds (#7485)
8c89d9ca8 feat: exex crate (#7506)
f5073e654 feat: add beacon api headers types (#7493)
cc2d84a80 chore: set expiration duration properly (#7507)
c6857efa8 chore: bump alloy (#7502)
7f3c934ad chore(deps): weekly `cargo update` (#7499)
15131c723 chore: allow transmute annotations (#7494)
b89af430e feat: extract optimism sequencer client to node-optimism (#7482)
71c404d9c E2e improvements (#7453)
48ce6324a feat(grafana): bad imports (#7481)
30cf40591 feat(grafana): remove networking (#7483)
9265a539e fix(grafana): reth-mempool (#7480)
67cfb06fb chore(deps): migrate to jsonrpsee 0.22 (#5894)
3236baef5 fix(grafana): warning tx fetcher hashes panel (#7462)
89409992f chore: add `pid=host` to docker-compose.yml (#7479)
9e343c398 chore(tree): unify `remove_and_split_chain` method (#7468)
e20c52445 feat: integrate evm in rpc (#7470)
fa4c66323 chore(tree): refactor `make_canonical` (#7469)
7d25ea2dd chore(tree): remove useless oneline methods (#7467)
57e25be05 chore(tree): accept owned block hash in `make_canonical` instead of ref (#7465)
67558db6f feat: change evm trait bound (#7463)
17c410c4b feat: add evm-ethereum crate (#7464)
0adaad312 chore: display total storage size in Grafana (#7455)
ca82ff5be feat: add block timestamp to meta (#7460)
9c1196148 fix: Add more observability on `stdout` during ETL stages execution (#7377)
2ebbd3812 feat(discv5): disable noisy logs (#7458)
405d386e4 feat(discv5): Grafana panels (#7461)
8d1d13ef8 chore: bump revm+alloy (#7431)
633806ef3 feat(discv5): plug discv5 crate into network (#7446)
4a8d2f4ab fix(pruner): highest pruned block metric (#7441)
57ee0c31b fix: race condition in test setup (#7448)
f892b5c51 feat: move transact and inspect calls to trait (#7438)
68c753b79 feat: add SequencerClient (#7440)
0ac29bf21 chore: change README.md and release images to beta (#7447)
54f75cdcc release: v0.2.0-beta.5 (#7442)
1f39b619d fix: use provider for header range on fn block_range (#7429)
50fc3aa24 feat: add helper functions to obtain a fully configured evm (#7439)
e6d0d7e00 feat: add dev suffix to version if not on a git tag (#7337)
7cb05d582 Convert panic to debug log (#7436)
3cafd586c feat(discv5): config via cli (#7394)
05c9f61a3 docs: fix broken op spec link (#7433)
933317c62 perf: replace BytesMut with alloy_rlp::encode (#7432)
f71d9c000 feat(prune): timeout (#6958)
68727699d chore: update kurtosis config in assertoor and book (#7261) (#7262)
ebc4bc893 feat(discv5): add crate for interfacing reth network and sigp/discv5 (#7336)
3726cd17e feat: use pipeline for `reth stage unwind` (#7085)
16c76b6ce fix: use modify specid instead (#7427)
f63cebbdb fix: reduce merkle clean_threshold to 5000 (#7364)
b653b3de1 fix(static-file): run producer only if passed non-empty targets (#7424)
112c8a3f1 chore(node-core): unify stage progress log style (#7426)
41049af99 chore: move FullNodeTypes to node-api (#7425)
bd2099a11 fix: off by one trace_filter (#7422)
a2d53a6f7 chore: move FullProvider trait to reth-provider (#7423)
afa33a2a4 fix: dont unwind genesis block in stage run (#7418)
8fc7a13cc feat: make more descriptive errors instead of ProviderError (#7380)
e087e7ef8 Remove outdated debug assertion (#7417)
4fb5889aa fix: check finalized sync target is not zero (#7412)
1ad13b95d feature: eth-wire types standalone crate (#7373)
9e55ba6d1 feat: add helpers to obtain the engine API client (#7413)
2de0bc497 feat: add reth-evm crate (#7397)
d6933bad9 fix: shrink_to_fit PrefixSetMut on freeze (#7342)
ab8a4f1ff CI: Disable hive job on forked repositories (#7405)
0be61cd5f fix(grafana): time frame (#7407)
1b9a76875 e2e eth node tests (#7075)
51aea1448 chore(docs): fix database mermaid graph (#7409)
0c363ea01 fix(tx-mgr): report peers that send known bad transactions (#7400)
283d51c2f Add fix lint to make file (#7393)
4c82d271e chore(deps): weekly `cargo update` (#7403)
bfadc26b3 Add metrics for observing tx fetch outcome (#7401)
9de7b4152 chore: enable 4844 support by default in validator (#7399)
a81e7e41d chore: add EthApiError::Other (#7398)
16456ccc8 chore: add spawn helpers (#7396)
87c4ae744 Clean up log messages (#7390)
c13d7da68 chore: move pk2id and id2pk to primitives (#7382)
b1026e0e2 Fix body stage insufficient backpressure (#7350)
be1607272 chore: simplify examples recipient matching (#7385)
00a4555b7 chore: downgrade dns debug! to trace (#7384)
8b8830690 fix: handle optimism deposit transactions on `SenderRecovery` stage (#7376)
79e15b195 Add announcement tx types panel (#7383)
d022b5be3 feat: `--db.exclusive` flag for nfs volumes (#7346)
43c72b022 Do no use feature `secp256k/rand-std` in project level Cargo.toml (#7378)
bd2945a98 fix: return an error if block does nit exist (#7374)
33c466d88 chore: add `.editorconfig` (#7369)
83cd84863 feat(node-builder): ExEx (Execution Extensions) installation (#7235)
8d488f598 fix: eth_callMany pending tag (#7351)
d6e4eab52 fix: err if no incoming capacity and no trusted nodes (#7361)
e2e09b428 feat: public ::new() for BuilderContext (#7358)
09de0ac13 crit(dep): bump zstd (#7356)
415efc82a feat(discv5): open dns for discv5 (#7328)
f3c3063a8 fix: only set blob versioned hashes for 4844 (#7354)
1a7ba845b docs: add builder flow docs and diagram (#7348)
8b4898b65 bump alloy version (#7344)
4d798c7b6 feature: Add timeouts for handshake functions (#7295)
3f34db3fb fix: don't write blob to disk if it already exists (#7338)
c04dbe6e9 release: v0.2.0-beta.4 (#7341)
57fc4e072 fix: ignore BlockHashNotFoundInChain error for unexpected canonical error log (#7286)
bdca72273 fix: return error on type 0 enveloped decoding (#7339)
8e1d78123 fix: spawn batch ranges from a tokio thread instead on `SenderRecovery` stage (#7333)
e3d8ceb4b feat: add `ETL` to `HistoryStages` (#7249)
96e39d29b feat: add `ETL` to Hashing Stages (#7030)
1939939bc fix(provider): consider static files in last block num/hash lookups (#7327)
5968e9f3d feat(reth_db/mdbx): fix API regression in `DatabaseArguments` (#7323)
d9ce894fa feat: enable nursery lints without findings (#7334)
e97c97348 fix: prevent duplicate events for single blocks (#7335)
903fc2dcd Implement `ots_getInternalOperations` (#7332)
d611f11a0 `reth-primitives`: Allow feature gating zstd for non default feature set (#7296)
d2fb8f245 fix: some minor nits in txpool code (#7330)
074af7b90 Check RequestPair payload length during decoding (#7292)
172fd4066 perf: rm header lookup in feeHistory (#7329)
a6d4f6bd1 feat: Implement ots_getBlockTransactions (#7315)
c9e326185 chore: rm match arm for op deposit (#7324)
c6abf0ca8 chore: misc static tx range (#7326)
28935daa9 fix(node-core): log stage progress only after the first stage run (#7319)
eed60d914 feat: Implement ots_getTransactionError endpoints (#7316)
61801b98b fix: Returns an error if multiplex message is empty (#7314)
b58cca7f9 fix: race condition concurrent in and out from same peer (#7317)
10854e598 feat(node-core): omit stage progress from Status logs if empty (#7318)
a31202670 chore: apply some style suggestions (#7307)
7e6d61a66 chore(stages/metrics): use Counter instead of Gauge for mgas_processed (#7234)
7efd5b09d chore: move paste to workspace deps (#7306)
dc4e2e228 chore(deps): weekly `cargo update` (#7313)
71474b87b chore: make types pub (#7308)
1dc0aab51 feat: Extend fork activation blocks data with Arbitrum data (#7305)
88186a257 chore: make Session established log debug (#7301)
a3d2e903a Safe rlpx capability id masking (#7297)
f96d79066 fix: validate empty item in p2p start_send (#7294)
30d79a98a Add `try_from` method for `TxType` with `U64` (#7291)
ea5535cc2 fix: DisconnectReason::decode should return error on zero length list (#7284)
6eb7397aa chore: remove trusted setups (#7274)
f4b5000a8 Indicate that Syncing FCUs are not affecting sync progress during pipeline sync (#7245)
56b63adec perf(tree): integrate parallel state root (#7161)
aac0b00f5 fix: configure global rayon pool to `available_parallelism() - 2` (#7267)
7753a17a3 docs: clarify how SubPool is determined from TxState (#7269)
31b94581f chore: move nodetypes to node-api (#7268)
0da7b7c31 chore: fix typos (#7264)
1a42b0929 fix(cmd-p2p): split off `create_db` from `init_db` (#7265)
ffbe8be2a chore(bump): revm v7.2, c-kzg v1.0 (#7240)
c868c5206 Enable clippy's large_stack_frames linter (#7258)
52668c6de fix: do not rlp encode extradata (#7256)
28b983403 chore: move op types; less op cfgs (#7255)
713da1bde Integrate new pending session metrics into grafana (#7231)
1c6ea1e30 feat: support any node format in admin API (#7247)
a4e32c84f chore: remove unused op dep (#7252)
672bdcc57 chore: make blockchain tree error results more specific (#7237)
b2ab33e3c chore: replace op cfg with default match arm (#7253)
6b28fa430 fix: skip block tracing if empty (#7251)
0a803c49a Integrate Config into admin_nodeInfo response (#7206)
c1f051a9d dev: `with_capacity` for HashMap (#7246)
6801869c0 feat(storage): bump mdbx to 0.12.10 (#7236)
9d039a233 chore(deps): use tikv-jemallocator instead of jemallocator (#7232)
ce89a2be8 feat: add BeaconConsensusEvent for live sync download requests (#7230)
d86d4d238 fix: enforce max inbound == 0 (#7229)
709d8a16d Enable clippy's useless_let_if_seq linter (#7220)
1bf5d6a53 feat(node-core): omit stage progress from logs if empty (#7218)
8cddc40bd Enable clippy's branches_sharing_code linter (#7223)
aed833b3a fix: tell jemalloc to use 64-KiB pages when cross building aarch64 (#7123)
11bedc188 Enable clippy's or_fun_call linter (#7222)
553a27153 Decode with EMPTY_STRING_CODE and buf.advance() (#7227)
1ad50d148 fix: enforce timeouts for pending sessions (#7219)
a8c692c5b feat: add metrics for pending connections (#7225)
4a347b5a7 Add AllTransactionsMetrics graph in txpool dashboard (#7141)
78d15d4c2 `reth-primitives`: Fix warnings when default features are off. (#7213)
c108a2476 Enable clippy's equatable_if_let linter (#7221)
170306d3b support IPv6 for NetworkArgs.addr and DiscoveryArgs.addr (#7210)
332e412a0 docs(primitives): transaction method comments (#7217)
28157f0da feat: Display the reth version in the log (#7207)
d4e969555 perf(trie): calculate state root from `BundleState` (#7186)
6ffd6ef8f Small refactor (#7208)
d91274eaa Enable clippy's redundant_clone linter (#7202)
b7ef60b89 Enable clippy's uninlined_format_args linter (#7204)
5b94dbb69 perf: replace BytesMut with alloy_rlp::encode (#7170)
f7d3cc5a0 Enable clippy's trait_duplication_in_bounds linter (#7201)
3861bc05f Enable clippy's derive_partial_eq_without_eq linter (#7203)
89b188e9a fix bug: synchronized local node record with discv4 (#7181)
804c54a3e feat: autoscale session event capacity (#7149)
80c5fcbd3 Enable clippy's empty_line_after_outer_attr linter (#7200)
abce09cc7 Return invalid header on error in consensus validation methods (#7175)
038a63359 fix: decrease pending out on already connected (#7197)
de9fb8955 chore: remove txpool optimism feature (#7199)
cee35a0af docs: fix metric doc (#7198)
9962c3949 fix: propagate try_make_sync_target_canonical error (#7164)
273f3c734 chore: add AllTransactionsEvents::new (#7192)
56d688b93 Small refactoring in transaction pool (#7179)
7b3e41895 feat(net/manager): apply trust-nodes-only for incoming nodes (#7177)
7c03881cf bugfix: setup discovery addr appropriately (#7182)
a5e662dab chore(node-builder): display the hardfork info in new line (#7185)
3a10c319f chore(grafana): fetch each query with instance as filter (#7173)
5000c32b9 chore(hardfork): add hardfork upgrade url (#7184)
e88b16e6e chore(deps): weekly `cargo update` (#7180)
4e49aa9df Comment pool import error is not nonce gap (#7145)
11dc546d1 feat: support trusted peer ids without address (#7155)
3b4726a71 fix: use tempdir when testing static files (#6962)
5e9e21dec chore: bump rust-version in Cargo.toml to 1.76 (#7172)
82ec589de fix: panic conditions for concat kdf in ecies (#7171)
e7c23ed44 bin/reth/db: use macro to dry (#7159)
6f0b1292d release: v0.2.0-beta.3 (#7166)
7012e04d2 fix: use unit workflow for README CI badge (#7168)
bddd1c6df chore: bump revm inspector, bump msrv (#7167)
96149f05b docs(node-core): add document of build_blockchain_tree (#7120)
26f290eb7 fix: decrease connection info based on current state (#7165)
4c3ab9a95 feat(node-core, stages): stage preparation notification (#7156)
4e1c56f8d Track PendingIn state separately (#7163)
94954593e Check that `excess_blob_gas` is a multiple of `data_gas_per_blob` (#7160)
52d49832d fix(static-file): pass producer as `Arc<Mutex<_>>` to ensure only one is active (#7143)
189de79bd chore: add ipv6 related cases in NodeRecord UT (#7152)
b66b8e9c1 chore: remove unused deps (#7151)
27194def0 chore: move tower+hyper to workspace (#7150)
fdbe63b13 chore: rm duplicated code (#7147)
9312424db Always accept incoming connections from trusted peers (#7140)
5584468e5 dep: lock enr (#7148)
3d86c4ac5 chore: add safety check on `StaticFileProviderRW::increment_block` (#7137)
41c6f2439 fix: payload builder london boundary block gaslimit and basefee (#7136)
baa45c6a7 fix: enforce soft response limit accurately (#7142)
6e059ed6a chore: add cancun mainnet block (#7139)
520d63580 feat(primitives): OP Sepolia `ChainSpec` (#6812)
b032120ff fix: estimate gas (#7133)
d2c8b77e6 perf: replace BytesMut with alloy_rlp::encode (#7087)
455b2afa5 fix: apply block overrides before create env (#7135)
28f3a2e2d feat: add `EtlConfig` as well as setting the directory to datadir (#7124)
5d6ac4c81 Make ETL file size configurable (#6927)
c9c269b64 fix: receipt for non EIP-4844 transactions (#7129)
8fbab739c add more helper functions to PooledTransactionElement (#7126)
610731ced feat(db): record client version history (#7119)
884fd71a0 chore(stages): debug logs with progress in sender recovery (#7113)
bf18bf50d docs(txpool): fix docs for cancun activation check (#7128)
b05f8a90f test: headers first stage (#7127)
8b0292db0 chore(make): run doctest in `make test` (#7125)
10aeeb02f release: v0.2.0-beta.2 (#7122)
c15f2d502 chore(primitives): remove static file stage (#7116)
c949308f2 Adds metrics for All Transactions (#7067)
027d50fc1 feat(ci): tag docker image as latest only for beta (#7103)
fb3061919 fix(op-reth): non-deposit txs have depositReceiptVersion=1 (#6784)
eb6828350 fix: check that data is large enough to fit header and mac (#7118)
f75bebd8d fix: use checked math for read_body (#7117)
074747a41 fix: refactor ecies message parsing to check bounds (#7108)
cab230112 fix: use INVALID_PAYLOAD_ATTRIBUTES code for attribute validation errors (#7059)
99711550d fix: use concat_kdf crate instead of hand rolled NIST SP 800-56A KDF (#7106)
22d585df1 fix(chain_spec): Set correct paris block and chain difficulty (#7111)
913f5c3a1 feat(grafana): trie charts (#7112)
7a83143ae fix: `eth_getRawReceipts` (#7101)
024bb264b rm nippyjar from reth-interfaces (#7081)
9707cb2b8 chore: remove test structs that are never constructed (#7107)
ff56ce42d Fix misleading comment (#7105)
e4f34e79a feat(book): update CLI section (#7102)
3c2d3a083 Feat: add signers (#6826)
ef1a196c5 fix: ban trusted peer for a short period (#7071)
82b6504ef chore: use safe math when calculating missing senders (#7099)
1156be213 cmd/debug: use inline cfg to reduce optimism/ethereum code duplicate (#7095)
63dd5d48e docs: add note about hashing (#7073)
5ce803446 reth/db: make code more readable (#7094)
66c9403ea primitives/chain: dev chain support cancun upgrade (#7033)
72bea5f11 feat(rpc): Add 4844 checks to `ethCallBundle` (#7078)
f217482d8 fix: add timeouts to the hive CI (#7092)
81291ff0f chore: more Vec over BytesMut (#7084)
72d6e953a fix(storage): backport read-only FS database support (#7091)
76c1d0526 feat(storage): bump mdbx to 0.12.9 (#7090)
a828d12dc fix(bin, node-core): commit genesis header into static files after db (#7089)
8e5c943d2 chore: mount all datadirs in docker-compose.yml (#7088)
494361992 fix(rpc): less clones in logs filter (#7060)
84e970414 fix(rpc): cache transaction hash when filtering over receipt logs (#7074)
cc3b20e73 chore(deps): weekly `cargo update` (#7080)
4aecad803 chore: inspector stack from evm-inspectors (#7076)
a8345e3e6 grafana/overview: add RPC QPS dashboard (#7025)
6dbc5e0ce fix: remove redundant checking for if peer is banned (#7069)
51761b687 Remove tx pool row from reth dashboard (#7029)
9cae775f9 perf: use special geth tracer config setups (#7062)
d4ff65bfa bump: revm v7.1.0 (#7064)
48b763f88 chore: bump max concurrent outbound dials (#7057)
78f9dbda6 chore(txpool): update size metrics on every insert & removal of transactions (#7051)
486945f15 feat(rpc): add support for `muxTracer` (#7053)
bf948d171 chore: be less strict when slashing trusted peers (#7052)
e21304947 bug template use multi-line input for version (#7055)
3c028e5ef chore: fix typos (#7049)
7fa35042d perf: replace BytesMut with alloy_rlp::encode (#7047)
9569692d4 feat(trie): parallel storage roots (#6903)
820b12240 chore: bump Grafana version in docker compose (#7032)
ed0dce85e chore: make clippy happy (#7045)
43bb4ccbb chore: remove repetitive words (#7041)
5d83de223 fix: revert filter_logs type (#7046)
eb6a95949 chore: mem take topics when converting logs (#7048)
91c7dd04b Revert "chore(github): skip some heavy jobs when PR is not related (#6667)" (#7035)
1cd05b09e decrease default tracing permits (#7010)
4017b3ac6 docs: more node-builder docs (#7034)
6557da136 test(ef-tests, storage): do not `sync_all` static files in state tests (#6914)
9f21d1ca0 feat(storage): improve current process detection for MDBX HSR (#6917)
3308ddbc2 chore: condition export of generate_blob_sidecar on its cfg (#7023)
968354c70 Update panel descriptions (#7020)
aec59b730 release: v0.2.0-beta.1 (#7021)
efa6bbc2d chore(github): skip some heavy jobs when PR is not related (#6667)
b66f54d9e chore(deps): bump ethers to 2.0.14, enr to 0.10, unpin discv5 (#6634)
914b1657d docs: update static file documentation (#6878)
bd01fd81a Add new mempool panels + existing mempool panels to new dashboard (#7014)
64854c1fb bugfix: hive build-args (#7013)
6f8d1a813 Rename TxType variants to UpperCamelCase (#7012)
dd6742e8b test(stages): fix deadlock with multiple static file writers (#7011)
d681dbf12 fix: setting GH_TOKEN for hive tests (#7009)
ed086497b Shorten error message  on debug assertion (#6988)
a1df97246 chore: remove most ethers mentions and code (#6999)
c7826cb55 fix: immediately refill slots (#6997)
422b8f8e7 Prioritisation network manager + transactions manager + eth request handler (#6590)
e42fb32c7 ci/test: speed up tests (#6987)
d1dc906d9 chore: use `IntoIterator` more (#6998)
23a72d3fc remove clique related tests (#6996)
9226488b3 Node tests crate (#6972)
f5be92573 chore: use cache to determine hardfork (#6989)
00f97f34a fix(staged-sync): correctly calculate total entries in bodies checkpoint (#6992)
2d6ad17b8 fix: Canyon timestamp overflow (#6990)
0633fa569 test(storage): fix flaky read transaction safety (#6995)
588c2f2e6 test(storage): make read transaction safety tests faster (#6994)
56376b9bd chore(node-core): add stage id to eta overflow log (#6991)
da0c7e535 feat(grafana): override Jemalloc chart axis (#6984)
e41b184d8 chore: update cargo deny to handle deprecated config entries (#6980)
ff91824c1 chore: rm more optimism features (#6981)
6725d43f0 feat: add trace opcode gas (#6977)
f2da01fd8 feat: support any Inspector for block + tx tracing (#6978)
da51dd389 chore: rm coverage badge (#6976)
04f24d457 feat: add engine API metrics graphs (#6963)
176ce4f96 Fix smallvec dependency conflict (#6956)
173c4927f feat(node-core): stage progress decimal places (#6974)
c8df17206 fix(stages): calculate checkpoints from static files (#6973)
33d01d320 chore(node-core): log errors in debug when ETA fails to calculate (#6971)
405f9ab07 feat: add OP specific txpool (#6902)
96fcdfbac feat(api,rpc): improve engine API abstraction (#6871)
b24f9de14 feat(bin): delete static files from highest to lowest in `drop stage` (#6970)
024c21756 fix(stages, etl): clear ETL collectors in Headers stage when done (#6964)
ec401aa78 rm deposit from pooledtx (#6941)
c09de8012 chore(deps): bump actions/setup-go from 3 to 5 (#6968)
b8e6c0519 chore(deps): bump actions/deploy-pages from 2 to 4 (#6967)
b857bf0f3 chore(deps): bump actions/download-artifact from 3 to 4 (#6966)
1214f2df0 txpool: track failed delete blobs in cleanup (#6952)
ebe72f7ae Tx fetcher metrics (#6951)
0d3b77f3c restrict max concurrent outbound dials (#6860)
a792f160d Comment `TransactionsManager` (#6651)
53e67c2b9 feat(trie): metrics (#6943)
796d818ef chore(ci): run clippy with `--locked` (#6955)
a7b5f4de4 cargo: missing once_cell (#6953)
cf277bd25 chore(deps): bump docker/build-push-action from 4 to 5 (#6950)
b63b3cabe chore(deps): bump docker/setup-buildx-action from 2 to 3 (#6949)
0891a4766 chore(deps): bump actions/upload-artifact from 3 to 4 (#6948)
6ce048f48 chore(deps): bump peter-evans/create-pull-request from 5 to 6 (#6947)
f0bc93714 chore(deps): bump actions/stale from 8 to 9 (#6946)
404909361 feat: dependabot to keep github actions workflows up to date (#6942)
a79f1951c feat(storage): log debug commit message only on commit (#6918)
3e54d9415 feat(storage): use `mdbx_txn_reset` to time out transactions (#6924)
b75862010 fix(tx-fetcher): only remove peer from active_peers when inflight_count <= 0 (#6928)
d6bd0a67e Small tx response verification optimisation (#6911)
ba1061a04 Return fetch error on response that fails verification or validation (#6864)
7fa772607 Add panel for observing network manager future (#6892)
7c2c4a836 feat: creating issues when hive fails (#6938)
4161f5a9b chore(deps): weekly `cargo update` (#6939)
1c6c80452 chore(task): move blocking pool to `reth-tasks` (#6929)
ef7ce3601 Filter announcement txns pending import (#6932)
b6dca6301 feat(transaction-pool): remove deposit variant for mocktransaction (#6931)
a79db0f83 fix(db): race condition in Tx cached handles (#6923)
c82a84c77 Add test for tx response verification (#6926)
abab5a693 Bump Prod-readiness status (#6921)
d32a8efb1 Revert "feat(storage): use `mdbx_txn_reset` to time out transactions … (#6919)
200978436 feat: raw_tx_by_hash (#6827)
e7018cafe fix: do not attempt clique header sender recovery on genesis (#6916)
c353b0639 feat: print a backtrace on SIGSEGV (#6907)
ea44c1d63 feat(node-core, storage): static files segment metrics (#6908)
8ea032ada Remove accidentally merged fields (#6912)
02111c421 feat(provider): consistent database view (#6896)
3d4cac87d feat: add activation timestamps (#6865)
11fdad600 Add grafana panel for maintenance txpool metrics (#6719)
5e2cac442 0x/rm unused dep (#6899)
defe34f04 chore: unify decode enveloped fn args (#6904)
cdca09e15 feat: sat math for tx value (#6900)
1d28fc606 bound hashes inflight and pending fetch size (#6877)
2df0d91f8 fix: use replacement transaction hash in PoolError (#6898)
907d8ff12 perf: rm redundant collect (#6895)
2a2c56dbc Compute min length mempool transactions message by type (#6853)
74dc0e36d feat(storage): use `mdbx_txn_reset` to time out transactions (#6850)
771951429 fix: use HashSet for transactions_by_peers (#6893)
c5955f130 feat: integrate builder (#6611)
7d36206df fix: handle both compressed and uncompressed disconnect reason decoding (#6862)
9468527aa chore: remove unused dependencies to speed up building time (#6882)
b00e3f98b chore: remove `cargo-udeps`-related workflow and metadata (#6889)
19ff1fb35 chore: downgrade discv4 debug! to trace! (#6879)
a0d6b9337 fix(ci): header check in integration/sync (#6880)
17818e79d chore(cli): fix clap deprecated warnings (#6872)
6b5b6f7a4 Breaking changes (#5191)
025fa5f03 feat(storage, libmdbx): same code style in build.rs (#6867)
7d6fb37e3 Revm example (#6855)
2eb2a0c25 node: don't subscribe to consensus health events for dev node (#6868)
70d786af9 Remove unconstrained generic in `ProviderFactory::new_with_database_path` (#6869)
f82963376 consensus/auto-seal: simiply the complete_header for op or non-op (#6870)
559124ac5 Performance metrics for `NetworkManager` future (#6746)
859406666 chore(net): use smallvec only if debug_assertions configed (#6866)
455971709 Add panels for observing tx manager future (#6814)
00ac218db Downgrade all logs in validation to trace (#6863)
210eefe73 feat: assertoor integration in CI (#6833)
ecfe4b6bc fix: rm Signature optimism cfg (#6858)
2aa5f5ddc chore: add commentes clarifying evm trait (#6857)
3519270c6  remove proptest specific encoding logic  (#6503)
790bc62e7 chore(trie): thread safe trie cursor (#6854)
329082d81 feat: Implement eth68 announcement metrics, track entries by TxType (#6786)
d36180dec chore: add cancun timestamp to hardfork (#6847)
f1edb6ab5 chore(node-builder): make network component unpin (#6849)
fa4277cdd chore(trie): safe to share prefixset (#6846)
0f26cd6df fix: get MAX_NODES_PER_BUCKET when respond closest (#6842)
210d09023 chore: reuse raw transaction by hash for debug_getRawTransaction (#6845)
72ffde43f perf: use cached encoded len for limit check (#6838)
44f026a7b chore: add required bench feature (#6841)
ecba340c9 Ensure consistency between aborted set and reused ptrs (#6844)
5475a1208 Db exclusive mode (#6755)
3179391cf fix(storage): add active txn before sending result (#6840)
27f1496da chore: make clippy happy (#6837)
e0c220efe fix: actually use envelope encoding for pooled tx (#6832)
7bee4a071 feat: add eth_getRawTransaction (#6830)
d93d8ea84 release: v0.1.0-alpha.21 (#6828)
0007c9a4d Verify tx response data against request (#6439)
a47c62c84 feat: Add dumpgenesis subcommand (#6797)
3f6d55bb0 fix(primitives): sealed block senders check (#6822)
0c529220e Fix units for tx manager poll metrics (#6817)
9a949e905 fix(ChainTree): set first block on forked chain (#6821)
8d258bb7e feat(node): dev node print genesis account (#6819)
a27626cc2 feat: NetworkHandle get access to TransactionsHandle (#6780)
649db667f fix(downloader): remove optimization for single full block download (#6820)
0931fe197 fix(docs): Remove op-node Rollup Config CLI Flag (#6813)
802819a4d Add alexey as code owner for db (#6816)
f5ce869c0 Clone read transactions into TxnManager message listener (#6809)
c268c71d4 Downgrade log level for remote client spec bug (#6815)
95667b0d5 Ship `TransactionFetcher` panel in Grafana dashboard and fix `InsertedTransactions` panel bug (#6646)
6cf9e9114 chore(op): Clean up `ChainSpec`s (#6810)
54db85a21 feat(primitives): Add Base Mainnet `Ecotone` fork time (#6806)
ce28fe32d chore: pin cc (#6804)
a5aff7584 release: v0.1.0-alpha.20 (#6800)
facad24ad chore: downgrade backoff counter to u8 (#6799)
285312ea6 chore(deps): bump nybbles, correct some unchecked usages (#6794)
ac36fa96e perf(db): cache db handles using OnceLock (#6750)
156384940 chore: simplify collect DatabaseProvider methods (#6747)
323bad271 Replace async trait with ->impl Future (#6791)
f90822ada fix: saturate blob metrics (#6779)
4fe0f2797 fix(ci): allow `non_local_definitions` on false positives (#6790)
be6d50574 chore: retrieve single pooled tx by hash (#6785)
6930734a1 fix some typos (#6789)
92396b39c Remove `async-trait` as dependency from crate `stages` (#6771)
d3d994ced Improve eth_getLogs performance for latest block  (#6305)
2a10306e3 chore(deps): weekly `cargo update` (#6783)
3669d9e04 docs: improve pool imports + pending transactions docs (#6781)
8abbe1939 `doc(hidden)` for `TransactionsManager` handle only used in tests (#6748)
94cb6a8bc chore: use Display instead of Debug for most errors (#6777)
da3f46975 chore: rm duplicated remove_pending_session call (#6773)
b7ac2d6fd chore: use fmt::Formatter helpers (#6775)
12b3bae53 fmt: format some tests (#6774)
6890e0231 fmt: format tracing macro calls (#6776)
5cb0258ce Disable jemalloc when cross-building aarch64 (#6766)
2699262a6 config cache from cli (#6767)
39abdaa42 chore(trie): prefer accepting `IntoIterator` args (#6772)
a7e183d1a feat: introduce evm config trait (#6461)
0ddb753d6 fix: make config backwards compat (#6768)
21bc1a861 feat(op): Cancun support in payload builder and processor (#6731)
be1ebeea6 Replace #[async_trait] with `->imp` for traits in `rpc_testing_util` (#6757)
34402caee Replace `#[async_trait]` with `->imp` for traits in eth_wire (#6756)
761c707e4 refactor: rename `blob_gas_price` to `blob_base_fee` (#6721)
4c439e0b9 feat: using smallvec (#6740)
300336465 replace `#[async_trait]` with native async trait for trait `Resolver` (#6751)
9f91c6ad9 Meter tx manager poll duration (#6688)
e03ab418b chore: rm unused op dep (#6743)
9ca813aee chore: remove some unnecessary calls to `unwrap`/`expect` (#6727)
c7ae4efc6 chore: add missing trace targets (#6739)
755ce9efc perf(metrics): cache handles for database transaction metrics (#6730)
9c7b2b5f1 Fix(rpc) Effective gas_price for simulations (#6722)
a272bbb76 feat: add BestTransactionsWithAttributes blob fee checks (#6674)
d7a212318 Bug fix, filter out already imported transactions (#6723)
9760d906d docs: fix typo (#6733)
ca98261d4 fix: `BlockNumberAddress` related doc and namings (#6732)
a4c034903 fix(op): Correct `Cancun` activation check in OP payload builder (#6729)
39cd90087 chore: don't box some futures (#6728)
1269528aa chore: remove unrelated SAFETY tags on comments (#6726)
2cb9fe184 chore: a few parked pool touchups (#6725)
f475adf24 Clean up tx manager (#6681)
4a386d578 perf: track last sender's submission id (#6718)
619d0bfef perf: update added result in place (#6715)
17d0f30f1 chore: add exceeds fn (#6716)
4487886fa test: add pprof flamgegraph bench (#6712)
84b13286f chore: rm unused var (#6713)
a554c1fbf chore: remove unused genesis_hash in NetworkState and NetworkManager (#6704)
a43885e5d chore: move cli runner to `reth-node-core` (#6710)
c8c422e27 chore: set test-fuzz to workspace dep, bump c-kzg (#6705)
86788c618 perf: make truncate_pool no-op if pending is under limits (#6706)
2eef0dc1a chore: improve docs (#6702)
2f3c3089b chore: provide mined transactions in order (#6700)
35e1f122a perf: pre allocate unique senders list (#6689)
8aa6a825a fix: dont include invalid responses (#6697)
6dc30b426 docs: rm duplicate notes (#6694)
9911e02cc  feat: add `debug!` log on database commit times (#6693)
ca2c883cd fix: Duration serde execution stage (#6691)
a5dc8d667 feat: add queued pool truncate benchmarks (#6684)
123b95aec chore: change consumer in docs of remove_transactions (#6685)
5fe367801 chore: cleanup ECIESError (#6687)
e676f8cc2 Unify txpool.remove function (#6641)
cb61334b2 Clean up docs tx manager (#6682)
99d1d8daf Fix broken test pack request (#6676)
0192934a8 release: v0.1.0 alpha.19 (#6677)
264125189 fix the issue of network is not known to be merged (#6649)
2356dec1f Downgrade log level in net::tx target (#6675)
d05b36d18 chore(grafana): take back the messages in channel panel (#6665)
d7da5b87d Fix test, delayed changes (#6661)
c2b7a386d fix: correct nonce gap update check (#6672)
5323a790e fix: set fees correctly on eth_sendTransaction (#6671)
c72fcd4d9 fix(provider): history by block hash race condition (#6669)
7cb9eaea9 feat: add metrics for highest pruned block per segment (#6658)
477a0185e docs: finish missing doc (#6668)
044100944 Add rust bug report to gitignore (#6662)
79452eada chore: make clippy happy (#6666)
79f1fa3c1 fix(metrics): fix missing metrics by installing prometheus before creating db env (#6659)
6d8b5d58c implements 'ethGetHeaderByNumber' and 'ethGetHeaderByHash' (#6648)
6204ec729 test: fix connect many race condition (#6653)
fcc34bd5b test: enhance invalid tx test (#6652)
253d1748f chore(grafana): make network pool metric readable (#6650)
df75905eb chore(deps): weekly `cargo update` (#6647)
2b9294850 chore: discv4 touchups (#6639)
cde7a1db7 Decrease default count pending pool imports on fetch pending hashes (#6645)
a7ae6e491 chore: decrease network manager budget (#6640)
29701f648 updating block_env (#6627)
bcc95b1f4 chore: bump revm 6.0 (#6638)
632fc0599 feat: add debug_traceBlock test for entire chain (#6636)
81b5c53ce fix(revm): calculate failed transaction hash for logging (#6556)
39eb6c6d6 Bump lru version (#6635)
24b5641f3 fix: ignore nonce for call env (#6631)
208eb6d6a Make transaction manager param configurable from cli (#6594)
468cbae89 fix: missing build profile from long version example (#6625)
805e18b33 Minor documentation updates to `announce_block` docs (#6630)
3dc7214a2 chore: remove unused smallvec dep (#6629)
683b252f8 Segmenting cfg and block env impl from PayloadBuilderAttributes (#6623)
9590faefb feat: add rpc server cache grafana panel (#6622)
71837312e Accurately tracking on-disk blobstore metrics (#6399)
e24eadf62 enhance tx gossip test coverage (#6578)
3222be646 chore: dont set some ready when draining pending txs (#6620)
4a8a68b8b Implement `Deref` and `DerefMut` for `StateProviderDatabase` (#6538)
945031900 fix: check versioned hash version for EIP-4844 transactions (#6601)
c3afaa1f1 fix: update highest nonce if highest nonce (#6618)
81eb3e1b2 Update readme on how to run only grafana in docker (#6522)
db158f29f feat: add OptimismNode type (#6610)
7ef570fc1 fix: set AutoSealConsensus best_block correctly (#6612)
4c40f31dc Cache invalid txns (#6542)
7c93d8efa fix: add missing depositReceiptVersion field (#6607)
99764b896 fix(op): set handler cfg correctly in EvmProcessor (#6609)
66264e253 oneline change set excess_blob_gas in local pending block header (#6603)
c0655fed8 docs: add a few more docs for network loop (#6595)
4c8f31a8c fix(op): Add optimism in node api, few cfg transitions (#6598)
eb8a805a9 chore: remove redundant map (#6600)
fbfa2ceda chore: impl default for PendingPoolImportsInfo (#6596)
11bb778c1 ci: auto-update homebrew formula (#6591)
4b21cf610 fix(op): set optimism flag correctly (#6593)
cfc914669 feat: declarative builder v2 (#6447)
11dbd0867 release: v0.1.0 alpha.18 (#6588)
c0f3d38ad Speed up request buffered hashes (#6318)
f925e5f6c chore: add exit future back (#6587)
64c33394e chore: bump alloy revm + inspectors (#6586)
ada3547fd chore: move events mod to node core (#6585)
7c16846cc chore(tree): log state root calculation time (#6583)
933da735f Payload Events (#6549)
7917279b6 chore: move init to node-core (#6581)
eb1cafa40 chore: simplify networkbuilder (#6580)
271cbaa6f fix(bin): do not display stage progress when we start executing (#6579)
cfcbaed55 feat(grafana): use reth_info to query Reth instances (#6387)
9814d3c0d small refactoring in rpc crate (#6577)
0e166f0f3 perf(db): pre-populate metric handles hashmap on env init (#6573)
d4cf706ed chore: improve BundleStateWithReceipts docs (#6572)
749903ad8 chore: remove EitherBlockExecutor (#6567)
1c21789e6 fix: use real hash for derived from latest (#6561)
b4bb7f042 chore: bump revm v5.0 (#6560)
613b6f08a chore: use `Table::TABLE` in more places (#6563)
2a5efb2a9 refactor(db): unify table macros (#6552)
17eca361e chore: remove unused `Default` requirement in `Table` generics (#6551)
f2f1f0955 More raw rpc request testing (#6554)
43b795163 perf(db): introduce environment-level cache for metric handles (#6550)
3c1f3ac4e chore: remove non-existant `test-utils` cfg (#6555)
0977249e6 More raw rpc request testing (#6539)
0d10af415 reuse alloy-eips constants (#6540)
09c6d098f perf(trie): reduce key copying (#6548)
d730d2d7a chore(deps): weekly `cargo update` (#6545)
8cfa5efe6 small refactoring (#6531)
1bc75d974 chore(deps): remove build-time dependency on libgit2 (#6537)
78772425d fix: update broken links to Kurtosis (#6536)
cc1c02a3a chore: bump revm +revm-inspectors+alloy (#6535)
3c3c7b36a chore: remove chain_spec from ExecutorFactory (#6523)
cd0a2f34b chore: remove op-flagged arguments from receipt root calc (#6517)
cede8b7dd replace &Bytes with &[u8] in optimism functions (#5896)
3ae2611c9 chore: actually impl clone regardless of trait (#6514)
1127af684 dep: pin alloy & revm inspectors (#6512)
e23eeeee0 chore: move type def (#6511)
c78ba8588 chore(trie): export node iter (#6509)
41361d8b4 refactor: rm `CallRequest` (#6364)
bbc73d862 Update ci hive eth test suite (#6505)
84efe1406 refactor(trie): prefix sets (#6502)
20e59153d Cache update on chain action (#6484)
3f57fc8cc feat: Enhance block import log line (#6095)
51ffa822c chore: make timestamp fork tests better (#6499)
e9f6f7e9d feat(bin): do not show target on INFO level (#6498)
5ab57bd81 perf(trie): hashed state from revert range (#6485)
ac4b99a8e chore(deps): bump curve25519-dalek, revert nightly pin (#6497)
e56a520e0 fix(docker): disable jemalloc feature by default (#6495)
e781a6cb3 feat: add cancun mainnet timestamp (#6493)
787c9b176 Feat: add blobs to eth history (#6469)
51d367a7c chore(deps): rm unused dep (#6491)
672246d40 add `test_discard_blobs_on_blob_tx_eviction` unit test (#6445)
48bd37e7a fix(trie): hashed state extension  (#6483)
2dd760fbc fix: update outdated op links (#6486)
838e6179f feat(txpool): discard_worst compat with suffix comma (#6477)
85d4f1858 Add serde feature to ethereum-forks crate (#6476)
d08d72e5c feat(op): `Ecotone` reject blob txs (#6480)
d05504f99 feat(op): `Ecotone` L1 fee parsing (#6479)
b05bd2749 feat(op): `Ecotone` hardfork spec (#6478)
281486c55 chore(txpool): fix some format and typo (#6481)
02c3f8586 chore: fix validate_payload_timestamp engine spec comments (#6474)
1f90f0a81 fix/ci: check individual crates in ci, fix features (#6472)
29e8aab08 fix: sealed header should not be immutable borrowed (#6456)
7a57d8957 chore(`reth-primitives`): add decode/recover test for 4844 tx (#6470)
e085f4524 perf(trie): pre-allocate prefix sets (#6466)
2bcdec94a chore(net): downgrade unseen hashes log to trace (#6459)
34216727d chore: bump rpc deps (#6458)
93e213c21 add unit tests for `BlobTransactionSidecar` (#6431)
daba4cf7e feat: add txpool eviction property tests (#6437)
13947e509 chore: Bump revm to newest (#6357)
37a8780a4 Add clippy fixes and minor refactoring (#6450)
189d76735 fix: initial total_bytes value for response limit and typos (#6449)
466adc4b1 add minor improvements (#6448)
2c119b8d0 Encapsulate `validate_header_regarding_parent` inside `SealedHeader` (#6404)
2895ed30d chore(rpc-types-compat): use SealedBlock.raw_transactions to reduce deplicate (#6406)
52f78bad0 chore: bump some deps (#6443)
4afc3b7f5 Drop lock on listener as early as possible (#6414)
aac72f444 fix(consensus): skip building only for ancestor (#6442)
9d9d7ee33 chore: Alignment testing style for tx tests (#6436)
a015c97a4 fix: remove debug assert dependend traces (#6434)
e810687ba fix: put noop helper behind feature (#6433)
25d2a6757 chore: move alias top of file (#6428)
dee1faeaa ci: tmp pin nightly version (#6435)
5c69eecba Lock evm-inspector rev to fix reth-revm build (#6430)
521b57922 chore: rename EvmEnvConfig to ConfigureEvmEnv (#6423)
75132dabb Fix bug hashes buffered for busy peer gave false-positive on eth68 check (#6427)
5b847cba4 feat: add size generator to MockTransactionDistribution (#6426)
925c39f11 chore: remove `ahash` (#6422)
32460a183 chore: log long tx backtrace on a new line (#6419)
8ef88105a test(ef-tests): remove stack size increase (#6409)
6c1263e00 fix(tracing): prioritize `RUST_LOG` and verbosity CLI arg (#6413)
f8a71047d release: v0.1.0 alpha.17 (#6412)
613ef9186 test(ef-tests): disable HighGasPriceParis (#6416)
58ccf73fa grafana: add build version,gitsha,timestamp into dashboard (#6374)
b9ade51c0 Deprecate `best_transactions_with_base_fee` (#6394)
1a8440ae1 chore: rm trait bounds (#6402)
09e5e7c76 Disable filling eth66 request from pending hashes and fix index bug (#6385)
1f1220372 add `TestPoolWrapper` around `TestPool` (#6395)
b7e511dca feature: move node-api example into examples (#6390)
35ab1b158 feature: better Address in use error message. (#6397)
5d24b08c4 fix(engine): skip payload building on already canonical (#6400)
c29af0ce5 Disable tx refetch logic (#6384)
721353354 Fix bug, rebuffer hashes that were received over broadcast (#6316)
62303cb06 chore: improve `Withdrawals` interface (#6401)
2c867d77d Example/polygon p2p (#6393)
190e8ffd4 chore: remove prune serde helpers mod (#6378)
2414707cd chore(make): add build/build-op subcommand (#6391)
2d01f3608 docs: add more docs for on_canonical_state_change (#6380)
9d1642fc7 feat(tree): re-enable trie caching (#6276)
ae9158c95 chore: bump strum (#6392)
05c1d1d4a chore(deps): weekly `cargo update` (#6386)
10f443437 fix: rpc-builder crate compilation (#6371)
4dc6aeefa chore: apply missing const for fn lint txpool (#6381)
44a9975f7 chore: rm unused reexport (#6377)
fddabe88a chore: remove node-api optimism feature (#6375)
57eef7ea0 feature: add Blob pool metrics (#6373)
72b7caa4c fix: add test for truncating parked with large transactions (#6366)
d4dffa2ee fix: bad blob pool eviction (#6368)
965656817 Fix reth book optimism sequencer outdated link (#6365)
c7a4bc9f9 feat(db): propagate text error messages from mdbx (#6353)
e86b2c175 feat: remove blobs associated with discarded blob txs (#6361)
3dcb04d55 small refactoring in payload crate (#6358)
98e5dfe1a  feat: benchmark blob validation  (#6355)
30aa3e679 perf: do heavy blob validation last (#6352)
648a084ba docs: a few more validation task docs (#6351)
855d5b0a9 chore: bump revm (#6340)
021941a2c fix: Remove redundant Result wrapper (#6345)
4e5ae6c54 chore: add test for invalid devnet block hash (#6339)
ce4641953 chore: add all-forks genesis forkid test (#6338)
39f96027f feat: add all transaction types to MockTransactionDistribution (#6337)
ae3ec6611 Fix bug, limit for broadcast message (#6325)
55fae2ca9 Add `Withdrawals` struct (#6267)
cac6a5275 Introduce async budget in transaction manager (#6295)
1104ea7b4 fix: use ecrevored transaction for tracing (#6327)
7f2167f1b fix: set excess blob gas and blob gas used for empty payloads (#6328)
9f82af20f fix: op features for op crate (#6320)
01d3df30f small refactoring (#6321)
a3128ae36 Example/custom payload builder (#6269)
9193b1757 fix(primitives): don't double-hex signature bytes in `Signature#to_hex_bytes` (#6313)
4807d0260 fix: ensure backwards compat config (#6319)
76a6a8f50 refactor(trie): hashed state (#6244)
231e6437e feat: add with-unused-ports cli argument (#6314)
b3020716c General purpose best transaction implementation (#6203)
82b20403c opt-out of filling space in request upon announcement (#6310)
e5cd8ccac check `suite_path` exists in ef-tests `Suite` `run` (#6303)
262a9c16c chore: add missing is functions (#6309)
dd40ea54d feat(net): batch-import received txs (#6299)
122389546 feat: separate node-builder crate (#6302)
34cda3a99 Sanitise eth68 announcement (#6222)
606640285 Bug fix, increase tx response soft limit (#6301)
ff49b95d6 use `matches!` macro in `ForkCondition` implementation (#6297)
641cb16e6 fix: use matching image tag as upstream hive in hive action (#6288)
d4dd26773 fix: manual trigger for hive in addition to cron schedule [RET-241] (#6287)
642166032 fix: pool eviction bug (#6284)
add3c6a3a feat(ci): `RUST_BACKTRACE=1` for all tests (#6283)
11f50f873 add a way to generate random balances in `MockTransactionSimulator` (#6279)
677c0a095 fix: remove direct link to container download (#6278)
7ad81d52e add unit tests for `is_empty` method for `Account` (#6265)
3faf9d87a feat: NetworkManager hibernate command, NetworkHandle hibernate funct… (#6186)
abb7fe6fb fix: only adjust ipc path if multiple instances are run (#6275)
c46ff698b test(tree): clean up tree testing utils (#6270)
273a101ed chore: new max trace response size unlocked (#6271)
5b3ce6731 small refac in rpc crate (#6264)
f56ee798c fix(evm): constantinople hardfork reward adjustment (#6263)
4e0bead8b add `ConsensusType` enum for `Hardfork` (#6259)
ba4f536f9 Separate `activation_timestamp` and `mainnet_activation_timestamp` methods (#6261)
d68a3daca get queued and pending transactions by sender in tx pool (#6256)
a2ac07db2 chore(deps): weekly `cargo update` (#6260)
2d6dbbc59 add `mainnet_activation_timestamp` for `Hardfork` (#6257)
4cb5eb23b Improve maintainability of Makefile (#6253)
1bcd48e8d Fix bug, rename make docs to make rustdocs (#6251)
30ee74693 docs: add some notes about tracing (#6246)
039a69696 Solve some clippy stuffs (#6247)
3043244db add `builder_pubkey` to relay queries (#6236)
0aa22466d chore: use Display when formatting addresses and hashes (#6245)
556741abb chore: use Display instead of Debug when printing internal errors (#6242)
7db5edf46 chore: remove clippy global ignore-internal-mutability config (#6243)
b3ed3016c Hashed post state cursor works on top of a trait instead of &Tx. (#6226)
4ea455620 fix(tree): disable state trie caching (#6239)
ed575db3d small refactoring for transaction field length (#6233)
b9d392e29 small refactoring in `ethereum-forks` crate (#6234)
f2c45150a fix(book): op-reth specs links (#6235)
acccf1441 feat: EvmEnvConfig trait (#6051)
abe3358b3 feat: move NodeBuilderWithDatabase to reth bin (#6231)
9c9be5796 doc(eth-wire): add missing documentation for `message` mod (#6232)
720815a83 chore(node-builder): make `DB` generic `Unpin` in node components (#6227)
2de10a15b feat(trie): historical & sidechain state root (#6131)
e78ae7768 feat(cli): local tx propagation toggle (#6224)
227d7972d fix(libmdbx): build without `read-tx-timeouts` feature (#6225)
2901b3cb3 feat: NodeExit future core implementation (#6166)
dad9ebd0a feat: strip debuginfo, enable thinlto for release (#6221)
f2702243f Make limit on tx packet size soft in tx fetcher (#6201)
d2cafa80a chore: bump igd dep (#6197)
575b5d3f5 feat: expose version information over prometheus (#6195)
92908b190 fix: ci will now fail if a hive test fails (#6212)
ad8c908d3 feat: Support transaction context in trace_transaction (#6092)
afafe790b test: use similar-asserts instead of pretty-assertions (#6208)
66ac0fdc5 feat: Implement fixed vec arbitrary manually for NewPooledTransactions68 (#6184)
dd2c6ead3 chore(deps): remove unused deps (#6206)
cff0b1240 add `is_post_merge` implementation for `Hardfork` (#6204)
02c69d066 fix: include jemalloc-ctl only in node-core (#6199)
f9374d1d7 fix: pass down optimism feature in node-core (#6200)
247d87fd2 chore: rm unused build.rs vergen (#6198)
e1483d822 chore: remove node-api dependency from payload builder impls (#6194)
733d6ced3 fix: ensure tokio rt is always dropped on separate task (#6191)
3fafa8c50 chore: node-core cleanup (#6189)
b9f45a7ed feat(ci): add image and title to GH release draft (#6188)
d8a9b581d release: v0.1.0-alpha.16 (#6182)
ede3b8ce5 feat(storage): make it possible to disable read tx timeout (#6181)
4e24ba743 chore(trie): simplify next entry selection in post state cursors (#6175)
b78f2239e feat(ext): provide direct access to database tx (#6178)
1e4d12561 feat(storage, blockchain-tree): disable backtrace on long read tx when it's safe (#6177)
a6f8e449f feat(storage, mdbx): transaction manager (#6126)
9a5120a88 chore(deps): clean up new crate deps (#6174)
e1e81059f Validation on decoding NewPooledTransactions68 (#6090)
2b97e0cb9 chore(meta): require more stuff in bug reports (#6172)
c80784f2c fix(tree): reset cached trie updates on prepend (#6167)
7e982ef3a chore: delete duplicated node args types (#6169)
021d236f8 Bug fix, tx fetcher `fill_request_for_peer` (#6150)
a30d149b0 add `ensure_transaction_root_valid` method for `SealedBlock` (#6163)
8dee877fb remove unused consensus `full_validation` method (#6164)
aeb08d500 meta: add @emhane as net codeowner (#6162)
18bf17e9b add `is_timestamp_in_past` and `exceeds_allowed_future_timestamp` for `Header` (#6160)
fe63b1089 chore(meta): require platform and version in bug reports (#6161)
3cf0e3a95 add minimum check in `check_gas_limit` with unit test (#6157)
b71340833 Bug fix tx fetcher RUST_LOG=trace & add state dump to `debug_assert` error (#6146)
7ceec05e6 Moving more types from reth crate to node core crate (#6102)
b65aea267 chore: bump shlex; advisory RUSTSEC-2024-0006 (#6156)
e58a93d9c add `has_access_list` method to `TxType` (#6153)
6740897d1 test: add sanity envelope encode test (#6155)
a8574b699 feat(access-list): refactor and add some utils to `AccessList` (#6144)
ade779754 Add commands from CONTRIBUTING.md to Makefile and update ci (#6141)
ea36b58cb add missing documentation and minor refactor (#6152)
ccafe0f2d small refactor for `Account` implementation (#6143)
734109e96 improve documentation and refactor transaction-pool gen test utils (#6142)
90e1c432d feat(discv4): small improvements and documentation for discv4 (#6149)
501bedf4f chore(deps): weekly `cargo update` (#6147)
bf3264b25 feat: use alloy genesis now (#6135)
51b40a029 Fix bug, buffered hashes of different eth versions from same peer (#6139)
48d07eddb Shifted build_empty_payload method (#6078)
924ef8de2 fix: use non-None enveloped tx for trace_call (#6136)
a18d1f553 chore: flip if else arms for eip155 check (#6134)
77f38574e chore: update JS inspector (#6129)
25a7b67da chore: use alloy engine rpc type (#6123)
8349cb320 optimise TransactionFetcher (#6012)
9300e5392  feat: add with_unused_ports method to rpc and network args  (#6109)
db80ed112 test: add additional recover test (#6124)
663d877ec chore: update cargo.lock (#6125)
a3e56eaff Cap max graceful disconnects (#6117)
63adf3929 fix: enable tls feature correctly (#6120)
7c9949962 chore(dep): replace unmaintained dependency tui with ratatui  (#6114)
28921d966 chore(deps): bump h2 dependency (#6116)
5dba51650 feat(trie): construct `HashedPostState` from revert range (#6072)
d919f3da1 refactor in trie crate (#5897)
aeee4486e  feat: add optimism canyon engine tests  (#6107)
43167eabd feat(stages): duration threshold for `Execution` stage (#6073)
f23250d88 chore: reuse alloy rpc serde helpers (#6105)
5637eed19 fix: return TaskManager in spawn_node (#6101)
afa860757 feat(book): update CLI section (#6097)
5a623a9c1 fix(ci): conditional asm feature (#6096)
be2d6f0fb release: 0.1.0-alpha.15 (#6094)
4d3c9c59c chore: bump alloy rpc types (#6093)
fd12aba49 chore: use diskfile blobstore (#6084)
630fd45da fix price bump issue in is_underpriced (#6076)
93c0eeac1 chore(dep): bump revm with max blob fee fix (#6081)
7ed87433d chore: add missing outgoing message check (#6082)
9d65a4cfb feat: add version_specific_fields method to EngineTypes (#6050)
685d1c51e feat: add BuiltPayload associated type to EngineTypes (#6028)
1cc357671 Added extension support for auth rpc module (#6060)
38559a9a8 chore: improve `HashedStorage` (#6068)
8572e2a6f improve usability of schnellru::LruMap and LruCache (LinkedHashSet cache)  (#6016)
e2687c452 chore: avoid `.as_ref().to_vec()` when `Into<Vec<u8>>` is available (#6071)
d0b04f885 refactor(trie): hashed post state (#6066)
5354c5044 chore: remove reth-codec dependency from ethereum-forks crate (#6055)
6fb67172f fix(cli): db tui serialization (#6069)
49106d508 chore(db): skip serializing phantom data (#6070)
c6c307be4 ci: update aarch64 linux in release workflow (#6067)
276feb7b3 update clippy commands in `CONTRIBUTING.md` file (#6064)
cb515d4e9 fix(op): activate node-api optimism feature (#6065)
220a2715e fix tui to ignore key release event (#6057)
5127d40f4 Remove non existing feature-flag from alloy-rpc-trace-types dependency (#6061)
a075c3154 feat: test tracer (#6025)
030a1fd0f some refactoring in `transaction-pool` mock utils (#6043)
b08371b56 feat: add `activation_block` method for Ethereum hardforks (#5723)
876107297 asm-keccak added (#5997)
e67567cf0 fix(cli): snapshot up to the best block number, not last (#6042)
94e8b8084 chore: bump aquamarine (#6048)
cea638108 fix: change vergen features to match foundry (#6047)
bc229c67c fix: use proper decoding types in Header::decode (#6046)
9d8fbd3ac fix: path of rpc-db in README.md in examples (#6041)
3ce9fcf7e add alloy_chains (#5952)
3675c632f fix: Activate shanghai with `Canyon` on Base Mainnet (#6040)
16a6e000b resolve some missing doc and clippy (#6027)
daf6eb6d4 chore(db): format backtrace (#6039)
c474d89a6 docs: instructions for GPG verification (#6032)
00d6bffc0 feat: add GenesisAllocator for easier genesis alloc creation (#6021)
ee199bb5d fmt: run nightly-2023-10-15 and remove semicolons (#6035)
49621631a test: add base payload serde test (#6038)
8686e9729 chore: make clippy happy (#6033)
622ac2e9b fix: Add canyon to `base mainnet` (#6034)
955d343af chore: remove redundant cfg_and_block_env method (#6029)
6430731ff feat: Exclude private txs for pending block (#6015)
4660da4a3 fix various clippy (#6020)
08dff3642 chore: remove empty EngineHookAction (#6019)
26e31f319 Move `FileClient` and `BlockFileCodec` out of test-utils (#5998)
43cdd73ac chore: move optimism payload attribute types to optimism.rs files (#6011)
e881773c1 docs: close brackets (#6009)
df4774c70 fix: randomly sample peers in `NetworkState::announce_new_block()` for block propagation (#5930)
56a354891 chore: fix clippy warnings for windows (#6005)
873df0920 chore(deps): bump alloys (#6001)
362782c24 chore: cleanup Cargo.lock (#6003)
573c73fd8 fix(storage): gate MDBX HSR with macro (#6000)
0588fa44c fix: use cfg attributes over macro (#5999)
cb96fe6d0 feat: make payload builder generic over attributes type (#5948)
42326fd2a docs: memory profiling and OOM debugging tutorial (#3819)
ee3c4ebc3 Fix lru cache to match docs (#5995)
57ebe9dae chore: remove unnecessary test-utils usage in reth cli (#5993)
19f481006 chore: move revm-inspectors to a separate repo (#5992)
0efbf893e fix(storage): disable MDBX HSR on Windows (#5991)
3fdb24ebd chore: move revm inspectors to alloy rpc types (#5990)
c80831cdb release: v0.1.0-alpha.14 (#5987)
467c22b38 test(tracing): allow tracer init to fail (#5988)
514750fb1 feat: preload cachedreads with tip state (#5804)
75608610a add `ChainConfig` utils for block and timestamp comparisons (#5978)
d421120a2 Use text instead of bash for CLI docs (#5977)
a1225be07 fix(bin): process metrics version mismatch (#5985)
6ad221fd2 feat(storage): downgrade tx open log to trace (#5984)
7cd659f40 feat: Support txpool.locals in txpool.cli (#5971)
a3d2b224e chore: add TracingInspector::config (#5982)
ac104d09e feat(cli): debug replay engine (#5972)
8078c515c Json structured logs (#5784)
e12277303 docs: update MSRV to 1.75.0 (#5981)
ae329773b chore: improve BLS constant documentation (#5976)
189cf490e feat(storage): log tx opening location (#5973)
bb7dcfaf1 perf(tree): cache canonical trie updates (#5871)
408d1c7e9 feat(storage): handle-slow-readers callback for MDBX (#5941)
228739240 feat: Add random lookup for discv4 (#5975)
5353ac3c0 chore: update MSRV to 1.75 (#5974)
1208f6b87 Update full node prune config docs (#5933)
d51375c4f refactor : Simplify is_some in Header (#5969)
8d6880c1d chore: add non critical spawn with graceful shutdown signal fn (#5962)
313e5b782 chore: cleanup max block fetching (#5960)
434b43af8 chore: use existing fn for loading network secret key (#5961)
3038c3c7b feat(header): add `is_zero_difficulty` util function for POS (#5966)
c6de11730 chore(deps): weekly `cargo update` (#5967)
a5a0fff51 test: enable ignored tests (#5958)
bc192d936 chore: make clippy happy (#5959)
8910f76ab chore: use available created_address fn (#5957)
11dfe5662 Improve mapping of MDBX error codes to human-readable errors (#5955)
8b56f50f3 chore: bump rpc types (#5953)
2a4d02f0c chore: simplify Database impls (#5951)
92f33b071 add missing documentation for various crates (#5950)
9a25470ae feat(`rpc-types`): use `alloy-trace-rpc-types` crate (#5949)
d02cc4b83 doc: Improve documentation for `StageEnum` to remove `#[allow(missing_docs)]` (#5945)
b828867f8 lints: use rust-2018-idioms to eliminate `#![allow(elided-lifetimes-in-paths)]` (#5944)
0520c62bb feat(cli): enable backtrace on panic by default (#5942)
09f04a0f6 feat(`rpc`): use `alloy-rpc-types` for ethereum-related types (#5947)
e3c3ddc14 chore: move OP payload builder error to OP crate (#5940)
3b0e7a510 add documentation for `SecretKeyError` to remove `#[allow(missing_docs)]` (#5946)
b30c42caa chore: use workspace lints for new crate (#5939)
9aa44093c lints: move top-level lints to [workspace.lints] manifest table (#5935)
17b75dd40 chore: move BeaconConsensus to its own crate (#5937)
ae4d48730 fix(BlockchainTree): remove forked chain receipts/reverts (#5921)
22ba0adae chore: simplify some features for env (#5928)
d5975a329 fix: merge_ws doc comment (#5924)
1c32340b9 chore: update licenses to use 2024 (#5926)
bfb395323 chore: improve forkchoiceUpdated doc comments (#5925)
62d2cedff chore(storage): warning log about long read db transaction (#5929)
32a75dd26 Update broken links to `docs/crates/discv4.md` (#5923)
dcf1d5090 docs: improve rlp transaction encoding docs (#5922)
5f53545f4 fix: use unchecked sender recovery when loading from disk (#5919)
962809e19 feat(tx-pool): refactor `PoolInner` implementation using `get_pool_data` util method (#5920)
7fa4cddc7 feat: restore tx pool after reboot (#5665)
4cd30bdc9 feat(tx-pool): add `get_transactions_by_sender_and_nonce` for `TransactionPool` trait (#5912)
8dff31e3a chore: improve ipc error message (#5908)
069ca8268 fix: also adjust ipc path (#5909)
cdfdadd6c docs: include s/2 value in docs (#5914)
f16a22d97 feat: add `nonce_after_all_transactions` implementation for `TxPool` (#5904)
876a837d9 Fix prune docs typo (#5911)
5bfd9a6c5 chore(deps): weekly `cargo update` (#5905)
b318c5723 feat(chain): enable Holesky testnet dns with test (#5898)
4567252a7 feat: add TaskManager::current (#5900)
5b9817ae4 chore: rm redundant serde default (#5902)
92ecc2f83 chore: move LogArgs to own mod (#5901)
5cc01b63a chore: move builder to own module (#5899)
9821f7707 chore: move reth commands to separate folder (#5886)
21c7e7767 refactor(tree): block buffer (#5879)
f2bac81b9 doc: improve documentation for trie crate (#5872)
903f03351 chore: ignore reth-ethereum-payload-builder in udeps (#5890)
cd08ba825 fix: ::bytes re-export (#5885)
e5ecd4af0 refactor: move ethereum and op builder into separate crates (#5876)
365acf08d fix: better conversion error handling in `block_hash_ref` (#5870)
b1b059fe9 chore: clean up lints (#5881)
31161c954 test: enable arbitrary feature for dependencies (#5882)
a680a0365 feat: Introduce NodeBuilder (#5869)
e341f47a1 fmt: add a space between inner doc-comments and following items (#5880)
861586362 feat(tree): track state trie updates (#5875)
22a450822 chore: add enum helper functions (#5865)
ed774e9a8 feat: base sepolia support (#5697)
68b174e08 refactor: small refactoring and documentation in interfaces crate (#5866)
3aa718a56 Revert "feat: Introduce NodeBuilder" (#5868)
ff78d1e1f chore: bump itertools (#5867)
8e9b02f12 feat: Introduce NodeBuilder (#5824)
e861f2b46 feat: add `sanity_check implementation` for block headers (#5863)
fba9a5980 feat(revm): use GenericRevertReason type (#5854)
fa2fd0d50 refactor: small refactoring of revm database and documentation (#5864)
8d6e97620 log(downloader): log `count` instead of `distance` (#5860)
742c3e249 bin: run `reth` by default (#5859)
9b12f4ff9 fix(txpool): missing condition that tx gas limit equal to block gas l… (#5858)
abc168efa Trie hash optimizations  (#5827)
cbf632459 chore(primitives): extract trie HashBuilder implementation (#5832)
7b0ecceaf chore(transaction): unify the chainId type in different transaction definitions (#5853)
065d717b1 chore(deps): weekly `cargo update` (#5855)
325bc496f fix: mark pre-4844 blob txs as invalid in consensus (#5850)
8fb6ed9cc fix(consensus): correct the fork name for validating 1559 transaction (#5849)
099c83328 feat(bin): disable ETA for execution stage (#5839)
f3aa296ef chore(deps): cleanup reth-interfaces deps (#5848)
f96dc7e57 chore: remove `BlockBodyRoots` and reduce root calculation times (#5847)
cf862bb7c chore: use bug issue template link in README (#5845)
d8b1771cd feat(trie): trie cursor abstraction (#5643)
fff7d1579 feat: add testnet cancun timestamps (#5842)
521aefec7 chore: improve codec for TxValue (#5838)
b37cd833a Feature: Support db get for duptables (CLI) (#4653)
c066aa60a feat: create new methods with Config arguments for existing builders (#5837)
ad3b893c2 feat: introduce PrunerBuilder (#5834)
f97b3fc17 test: add test for eth_getLogs blockHash (#5831)
92e5b2daf chore: add optimism rpc errors (#5821)
282f4ffb9 chore: mbdx → mdbx typos (#5828)
b1d0dc41c chore: bump fdlimit (#5819)
342ee4a41 chore: add error struct for checking builder submissions (#5820)
453f69944 feat: add validation API endpoints (#5816)
98f5baddc feat: add submitblock request (#5815)
0e091dafb refactor: replace `std::fs` usages with `reth-primitives` (#5813)
18dd1b72a feat: snapshots (#5738)
900fe7ea4  feat: make NodeState generic over DB with DatabaseMetadata  (#5691)
61c9587a2 feat: add execution payload validator (#5811)
1d25829f2 feat: share decompressor buffer (#5777)
43f29fe7c perf: skip initial transaction lookup during log queries (#5805)
18c881532 feat: add SSZ encoding for `SignedBidSubmission` (#5787)
fb871bf3f refactor: small refactoring for `Header` structure (#5801)
bb6f6f43c feat: support no-std for reth-codecs (#5756)
fcdd31a6f chore: fix new clippy lint (#5806)
5e7bd64d9 chore: add note about grammar+typo prs (#5808)
b6831c66f docs: adjust arm device guide (#5799)
df5042c46 chore(deps): weekly `cargo update` (#5798)
27caf7b4c perf: random changes (#5795)
bfe12ce88 chore: log full tx object in assert (#5797)
3e500ef74 feat(grafana): sort stages (#5796)
d3fd2cd72 refactor(primitives): small refactoring for pooled transactions (#5789)
9ae7ae2b3 feat: better usage of `by_id` methods in transaction pools (#5791)
570be2469 fix(txpool): correct the EIP2930 Error logger in TxValidator (#5792)
ed7e6afa4 feat: add `sequential_transactions_by_sender` method for `MockTransactionSet` (#5741)
686129cb6 feat(network): added `NetworkConfigBuilder.block_import(..)` (#5783)
ae31d4664 refactor(primitives): add documentation and refactor `Genesis` implementation (#5788)
6af8e0f7e chore: use new aquamarine macro (#5785)
bf37c8a07 feat: add PageOps metrics to libmdbx-rs  (#5786)
cc4bd7c30 fix: use the same ProviderFactory in reth node (#5778)
30efaf4a7 chore: bump proptest + arbitrary (#5779)
d73e41059 doc(blockchain-tree): add documentation for `MakeCanonicalAction` enum (#5739)
a0129b6b8 Archify EthStateCache (#5744)
84b1bb01d More descriptive reorg log (#5671)
3f7760d85 refactor: make sender recovery explicit in provider (#5776)
faa9a22a7 refactor: use `BlockWithSenders` in executors (#5771)
1eaa3ed5a chore: add reorg metrics to grafana (#5774)
26a91c69f feat: use nybbles crate (#5766)
e622f3854 chore: remove RpcStateCacheArgs value parser (#5773)
ff183756b perf: reduce static data size (#5770)
667972c20 feat: Report MDBX commit latency metrics (#5668)
49711061c chore: add helper for getting the final total difficulty if known (#5769)
80ddf1776 chore: add note about execute fn in docs (#5768)
764c7ae26 minor improve for compression dir (#5755)
2df1e548b fix(cli): allow no PHF or compression in snapshots (#5765)
629b12a4f doc:  --dev.block_time not available (#5764)
a8e2518aa feat: add SecretKey to networkconfig (#5761)
06477320e refactor(ef-tests): clean up `run` function (#5747)
a0781f087 chore: make CanonStateNotificationStream pub (#5759)
9a26b7a8e Canonicalization metrics improvements (#5705)
db48d6b09 feat(bin): I/O metrics (#5710)
744930f1d docs: improve CLI reference generator (#5740)
013b4c93d feat(rpc):  Add `tx_hash` to `debug_traceBlockByX`  (#5743)
5062b7ea8 feat: integrate multiplexing (#5559)
701e37804 fix: dont include empty revert reason (#5736)
829d3ede6 feat(bin): parse `RUST_LOG` in journald and log file filters (#5735)
7efd0fd93 docs(book): update CLI (#5730)
c1d7d2bde feat: add DatabaseMetrics trait for generic DB in reth node (#5690)
64337f31e chore: make mixHash optional (#5732)
971e8d9b0 refactor(net): Simplified logic for determining shared capability versions (#5725)
4cda40b3c Revert 1e523049ca8d076fa1757b8bb0a9851a61cdefae (#5731)
fa1584b22 feat: add RethTransactionPoolConfig (#5729)
1e523049c feat(bin) enhance logging config to make RUST_LOG for journalId and File writers (#5687)
c4c07b86b feat: add network bench (#5728)
b83afd4b7 fix: use unchecked sender recovery in rpc (#5721)
ae8ad6f26 refactor(net): Improved Masking Function for Message IDs (#5724)
c58cdf945 Revert "chore: temporarily disable doc related CI" (#5716)
982346bec chore(deps): weekly `cargo update` (#5719)
8a670d57e fix: use receover_signer_unchecked for tx receipt (#5715)
c8a8cad9a chore(book): update some expired links (#5718)
cf5006108 chore: promote trace bad txs to debug (#5714)
32bf97d7b chore: add default gpo constants (#5662)
cd4d6c52b Cap mux simple (#5577)
27da72cd5 feat(primitives/net): export `ConnectionInfo` (#5709)
8fa48c4f8 feat(primitives/net): make `parse_nodes` public (#5708)
3947b91b7 chore: add fs read (#5706)
857f90722 chore(provider): better observability on append (#5703)
7ee3c7062 chore: temporarily disable doc related CI (#5704)
227e1b7ad feat: make load_network_config and lookup_head generic over DB (#5692)
926766d48 perf: misc changes (#5701)
b0c4d99ca test(storage): implement `DbCursorRO::walk_back` method for `CursorMock` (#5670)
7f3bbf345 fix(tree): reinsert unwound state to dependent chains (#5683)
11fd7a284 chore: remove trailing semicolon (#5699)
8d8700a5c feat(primitives): state root methods (#5694)
074d7c794 fix(provider): latest provider proof method (#5695)
dc5607891 feat(ethereum-fork) : enhance Head struct with methods (#5656)
a3ca95877 fix: use correct error if fault fn missing (#5688)
55f4c3021 fix: invoke enter,exit only for non root calls (#5686)
f7b08d4ab (storage): impl remaining todo! in mock module  (#5681)
73a5b6ced feat: add debug_getrawTransactions (#5682)
f15e87825 Fix eth message ID length bug (#5666)
055580081 add troubleshooting section on concurrency with containers (#5678)
dffa46200 chore: use `human_bytes` for snapshot sizes (#5675)
b34b0d3c8 release: v0.1.0-alpha.13 (#5676)
6f7d6d501 chore: make trace builder ctrs public (#5672)
caa7b9251 chore: clippy (#5674)
270b9e0f6 docs: nit in parity trace builder (#5673)
b3b84c4e3 chore(deps): weekly `cargo update` (#5667)
6b06382d0 feat(cli): eth state cache args (#5664)
7fdd9136c chore: use StageConfig for more reth node methods (#5663)
585bc31fb feat: add sanity tests for Args Default impls  (#5660)
542639cc6 perf(trie): use smallvec as the Nibbles representation (#5641)
5ac4a3d4c chore: simplify `Consensus::validate_header_range` with let-else (#5659)
a53e2c066 feat: add Default for NetworkArgs and DiscoveryArgs (#5658)
ba544d746 fix: invert is error check (#5657)
346f135c5 Granular canonicalization metrics dashboard update (#5454)
0d70bf45d chore: group optimism reexports (#5652)
cb52a4ca3 chore: cleanup codecs deps (#5650)
a3f77d275 chore: remove unused deps in primitives (#5651)
67d93e822 chore(evm): use provider errors (#5649)
2144b97df reth-ethereum-forks crate (#5621)
1067bb32d perf(rpc): Use block_with_senders in tracing (#5630)
4a0497ddb feat: add Default for RpcServerArgs (#5646)
8bdcce535 chore(txpool): query header on txpool maintenance bootup (#5648)
0d522e847 chore: improve Nibbles-related code (#5631)
a4ed76d05 perf: misc Codec improvements (#5642)
12d955933 fix: fetch missing cached blocks (#5612)
02a07f648 chore: apply same impl order (#5639)
c29fcf3b1 docs: more tracing type docs (#5638)
aabb58dc8  feat: add MockTransactionSet for easier dependent mock txs  (#5633)
00804191f Add stateOverrides-to-estimate-gas-call (#5604)
a7f474cb0 feat: truncate blob pool when discarding worst (#5634)
d93eac219 ci: run clippy on all targets (#5636)
afebbe64b fix: bench builds (#5635)
2c5a748c5 fix: add recover_signer that checks according to EIP-2 (#5618)
e9dfd059d perf(trie): prealloc in `Nibble::unpack` (#5629)
471c28e88 feat(pruner): limit number of blocks to prune per run (#5627)
15992d9bd feat: discard txs by tx_count of sender (#4520)
5a7644709 feat(storage): report backtrace only on read transactions (#5625)
d9ef1a14d fix: derive job deadline from attributes timestamp (#5626)
a6ad5ac42 use SealedBlockedWithSenders in block-level tracing (#5620)
320deb6a4 chore: add more payload tracing (#5624)
07265d978 perf(storage, mdbx): set rp augment limit (#5614)
9fe3b02c2 chore(deps): use rustls (#5619)
15c288e00 feat: add blob truncate pool method (#5597)
1e15241e7 ci: only check --lib with cargo udeps (#5615)
18d563dd2 chore: use U256::is_zero (#5616)
ae6f1e39c chore: improve clique signer recovery error (#5613)
43d1f5a49 perf: remove redundant collect (#5600)
f3bc7d1c9 fix log argument (#5608)
b6ce3bc99 docs: misc mdbx docs (#5599)
608f10060 perf(provider): compute hashes and trie updates before opening write tx (#5505)
98250f8b5 chore: bump stacksize even more (#5602)
503c4010d chore: lower max reload accounts (#5589)
b58bfe6e3 chore: add more pool maintain metrics (#5590)
025511baa Fix sink implementation (#5594)
3d291ea29 release: v0.1.0-alpha.12 (#5595)
8161c261d feat(op-reth): Remove `Canyon` hardfork warning (#5551)
b2be07aa3 feat(op-reth): Canyon - Dynamic eip1559 params (#5542)
cda471ceb feat(op-reth): Canyon transition `create2Deployer` force deployment (#5527)
92fecc1da feat(op-reth): Canyon receipts version (#5526)
dbe899657 chore: use task manager graceful shutdown (#5591)
7debf93f3 feat(op-reth): Canyon receipts root RLP fix (#5504)
462ea82f9 feat(op-reth): Canyon hardfork spec (#5503)
c49cda62b chore: make `traces` public (#5567)
846a377f8 chore: bump ef-tests stack size (#5585)
02e4135bb chore: move fee history cache fields to inner type (#5587)
8892d04a8 feat(storage) implement cursor walking functions (#5554)
f1e38cdb0 fix: always recover senders on mismatch (#5575)
563a683a6 Feat/improve fee history performance (#5182)
57653b1a5 chore: limited node command cleanup (#5539)
ca9f23694 feat: make PayloadBuilderHandle pub (#5578)
13af07c1f fix: return net version as number (#5570)
8667c336a feat(bin/args): enhance transactionpool with --txpool.nolocals Flag (#5538)
8e6fb6b5d docs: add panics section (#5574)
b0944fb61 chore(deps): weekly `cargo update` (#5573)
1308b6729 feat: initial relay ssz support (#5568)
7de258200 chore: export `StackSnapshotType` (#5566)
973ca0082 feat: add block+receipts iter (#5560)
7ef2d49a1 feat: add into_registry function (#5565)
4679bce41 fix(tracing): fix the parity vmTrace stack pushes #5561 (#5563)
5f38a5fbb fix: use direct conversion for payload fee metrics (#5564)
af8885172 feat: refactor generation of snapshots from the cli (#5464)
269073b2d feat: add metrics for best and resolved payloads (#5469)
62cebf064 chore: some multiplex followup (#5553)
1e1cdceb0 feat(rpc-types): implement serialization for LocalizedTransactionTrace (#5446)
8100a88f9 feat(rpc-testing-utils) : make replay transactions reponses comparaison in RpcComparer. (#5407)
2624f4667 feat(rpc-testing-utils) : implement debug_traceCall JSON-RPC method (#5418)
c37f187ee chore(deps): bump alloy 0.5 (#5557)
346821684 Results to MockEthProvider (#5556)
337fb311e chore: phase out reth-primitives from inspectors (#5552)
5ab2cf699 feat: add find by offset functions (#5541)
4eff41b12 chore: remove unused imports (#5550)
fc9bdea32 chore: reuse alloy Log type (#5548)
30f411470 chore: use rpc types Accesslist in inspector (#5549)
5a1b0def3 chore: move TracingConfig init to tracing crate (#5546)
61a688b04 chore: make fields pub (#5545)
cda5d4e7c fix: enable missing feature (#5547)
e2013b8ca feat(storage): report backtrace on long-lived transactions (#5537)
5a0493139 feat: add NetworkProtocols trait (#5543)
7c148b412 chore: get almost rid of reth-primitives in tracer impl (#5544)
3598a23cf feat: rlpx multiplexing (#5413)
5e2affb15 feat: add configure network function to cli ext (#5536)
1aa4ae8c6 test(trie): instantiate provider with util function (#5535)
de8b4526f feat: add graceful shutdown tasks (#5517)
de048c456 fix(tracing): reduce stack memory when tracing (#5528)
9ecdea7ee chore(execution): rename `EVMProcessor` factory (#5533)
5ae4fd1c6 chore(sync): migrate pipeline to `ProviderFactory` (#5532)
5e378b13c test(provider): instantiate provider with util function (#5534)
3c7f32d83 chore(tree): migrate tree externals to `ProviderFactory` (#5531)
3818dea39 meta: fix release draft cmd (#5529)
0f1f47ac8 test(provider): utility functions for initializing provider factory (#5530)
857ceebbd chore(deps): make c-kzg actually a feature of reth-primitives (#5525)
e5b33dbe7 release: v0.1.0-alpha.11 (#5523)
06eeb3536 feat(bin): improve status logs (#5518)
c825b26f2 fix: dont use Stack::default (#5521)
afdb0a314 chore(revm): freeze revm, add Optimism Canyon fork (#5519)
690419420 feat: add getters for tx by origin (#5516)
3e0caae5b fix(op-reth): clear accesslist for Deposit txs (#5513)
f8451fd98 fix: dont skip gas used ratio if empty (#5512)
1064da5d4 feat: add get_block_transactions_ecrecovered (#5500)
2f220a79b test: add serialize 0x1 test block number (#5511)
0dc90eba1 chore: remove duplicate serde helpers (#5508)
59251f0ca chore: simplify clap next heading and use clap attribute (#5507)
efe49643b chore: add Extension heading (#5506)
24ca2410b (storage): impl some function (#5499)
39a2dc6bc chore: add another module parser test (#5496)
3c7989c54 block_with_senders in ethstatecache (#5302)
1cc68fcca chore: preallocate buffer for rlp (#5494)
e6040e8f2 ci: add MSRV lint job (#5495)
bfa211019 chore(deps): weekly `cargo update` (#5492)
aea11405a feat: get rid of lifetime GATs (#5478)
631eb2b62 chore: add hash+signer fn (#5493)
14dd9e815 feat(provider): `StateRootProvider::state_root_with_updates` (#5485)
49d69c66c chore(tree): minor `Chain` modifications (#5487)
6e6e873d8 chore: add some capability helper fns (#5486)
c7a57a703 chore(pipeline): stage poll extension trait (#5484)
f29e04dad fix: track actually requested transactions (#5483)
d05dda72d chore(downloader): replace database with header provider (#5472)
6ded64355 pipeline: error on missing buffer in online stages (#5480)
4555dc1fe feat(rpc-testing-utils) : eth node testing (#5475)
e34aec23c chore: clean up `Self: Sized` bounds (#5481)
6ae86d5a9 chore: shrink ProviderError size (#5482)
716222894 chore: make Cursor iterators depend on the cursor's lifetime (#5479)
db5d01e32 refactor: split async/sync work in stages (#4636)
7f9ce6f7c feat: get rid of cursor lifetime (#5476)
9b1416b4f feat: add benchmark for blob_tx_priority and fee_delta (#5468)
f33ef66cc chore: `make maxperf`, enable GC profiling on MDBX debug (#5459)
3553cd507 chore: remove cursed env lifetime (#5474)
30dfc070e chore(provider): migrate providers to `ProviderError` (#5473)
b03d0106a feat(eth-wire) add missing docs (#5467)
c0fe64700 chore: add missing helper fns (#5471)
eadbe5dce feat(provider): `HeaderProvider::sealed_headers_while` (#5470)
7312ada85 chore: add optimism_deposit_tx_signature function (#5457)
b4cbd0b04 chore: use i64 for blob priority function (#5466)
baf407f5e feat: add eth-call-bundle module (#5465)
64500e93a chore: make decode_enveloped args consistent with other fns (#5456)
2b4eb8438 fix: fetch 4844 blob before reinjected reorged blob txs (#5460)
ec3dbfe99 chore(op-reth): Add temporary `Canyon` warning (#5462)
460b5f6fd feat(book): `op-reth` runbook (#5440)
fb981cec4 chore: move criterion and pprof to workspace (#5461)
1b39096ed chore: more libmdbx cleanup (#5455)
e5362882e chore: add recovery test (#5453)
0b46e16dc feat(eth-wire): update docs (#5450)
5e605d20a feat: add rpc-api trait for call bundle (#5449)
f9725a4f8 feat: add blobstore file path functions (#5442)
820740135 feat(bin) : refactor auth_jwt_secret function (#5451)
187f6faa0 chore: some blob reinject improvements (#5441)
8459fb0ad chore: make inner private (#5445)
49f460658 fix(net): check bounds on message logging (#5448)
0583a967d chore: make it harder to misuse raw pointers (#5447)
a389a2b42 feat: search for a snapshot that fulfills a queried `BlockHash` or `TxHash` (#5373)
dc72cad83 feat: phase out environment trait (#5439)
de0cca248 refactor: transaction internals (#5437)
4e1e0463f docs: fix spelling mistakes in eth-wire.md (#5438)
f42db5b4a chore: put env types into container type (#5436)
b98d7c8c1 chore(storage): rebuild MDBX if sources changed (#5435)
e109896db chore: remove unnecessary async_trait usage (#5433)
352721370 use reth_primitives instead of revm_primitives (#5434)
365fbb18c chore: add a few tx related helper functions (#5430)
6ee481b81 feat: `Snapshotter` triggers segment snapshots (#5287)
7b781eb60 feat: add directory paths to `Snapshotter` and `SnapshotProvider` (#5283)
fd392ba0b chore: decriptive panic on non-existing block indices (#5425)
100b6b850 feat: add on disk blob pool (#5389)
d21e346c0 feat: share `SnapshotProvider` through `ProviderFactory` (#5249)
8ecd90b88 feat(consensus): support test for `check_gas_limit` function (#5329)
efc527796 chore: make txn manager private (#5426)
fbc44e3cf docs: some tree doc cleanup (#5423)
bf47eb388 fix: network example (#5422)
f061363e6 Fix wrong check regarding EIP-155 (#5421)
2bd8c7e7e chore(state): `split_at` refactor (#5419)
fbf4873ea feat: add eviction ordering for blob transactions (#5335)
1bd79a401 chore: add rlp codec for Sidecar (#5390)
79abf2ba0 chore: remove ckzg dep from rpc types (#5392)
5baa158fb Mock eth provider implementation for EvmEnvProvider trait (#5414)
cf2fd287f perf: reduce overhead with open state (#5416)
62ec00c67 feat(rpc): implement eth_blobGasPrice (#5403)
4e2f065ab meta: add @joshieDo to snapshot codeowners (#5411)
e11ddef27 feat: changesetreader for mockethprovider (#5410)
cf542922e feat(rpc-testing-utils) :  test blocks for trace_call_stream method  (#5405)
02502adb9 feat(rpc-type) : make  TraceCallRequest with Default Trait  (#5394)
b1b27e231 chore: misc tracer changes (#5404)
c91e87eb8 chore(deps): weekly `cargo update` (#5402)
a100fb3e4 feat(bin) : refactor ZeroAsNone struct to a Macro  (#5397)
63f67d97f chore: remove `into_limbs()` call for `BlockNumberOrTag` `From` impl (#5395)
f07ae5006 chore: add @evalir to CODEOWNERS for rpc types related crates (#5396)
7734ab754 Feat/enable non namespaces (#5391)
32beaeef4 chore: support MaxU32 on more rpc args (#5393)
4f631cc77 feat(`rpc-types`): from U64 for `BlockHashOrNumber` and `BlockId` (#5385)
e8729dda4 chore: convert connection type to stream (#5384)
55db2dcd4 feat(rpc): add blob support for TransactionRequest (#5382)
277cd3ae0 fix: use SharedCapabilities (#5383)
505a192b8 fix(bin) : make rpc_max_response_size as MaxU32 (#5381)
820f67e74 feat: support additional protocols abstraction (#5360)
5beb105a7 feat(bin) : max_values Macro  for CLI args parsing (#5379)
6c4a9cd1c feat(rpc-builder): test requests params (#5267)
13fd00c11 feat(rpc-testing-utils): implement trace_call streaming (#5347)
ee351fc49 feat(transaction-pool) : impl MockTransaction for Desposit variant (#5321)
e26bc1753 fix: use saturating mul for max response size bytes (#5377)
40db0dfc9 chore: move shared capabilities to capabilities.rs (#5375)
2488aa079 feat: support hello message with protocols (#5371)
475c42eb0 feat:Support BlockHashOrNumber with block_with_senders (#5356)
46cad7042 implement Stream for Discovery (#5370)
c47a2393e chore: fix a bunch of features (#5369)
d5c5bbffc chore: add blob subpool docs on add_transaction (#5367)
e004eb8d1 fix: delete file with invalid name (#5368)
1a78f6ded docs: more shared cap docs (#5365)
ef8677f33 chore: rm default features (#5366)
011494dff feat: support multiple shared caps (#5363)
e897764ad chore(meta): manifest maintenance (#5353)
c2a33191a feat(engine): insert new payloads even when hook is running (#5364)
fc3245864 chore: support static str in capability (#5362)
e056bfb21 feat(rpc): measure request/call time in seconds (#5361)
0a3884ba8 feat(docs): MDBX freelist troubleshooting (#5358)
4865e5968 chore: add missing txvalue impls (#5357)
0e2346597 feat: add for peers functions (#5351)
80be039c7 feat: add trait for`NetworkEvents` (#5354)
aa9a8dcad feat(bin): report freelist in `db stats` (#5355)
5daaa7fe2 feat: add established timestamp to peerinfo (#5350)
1b2a4c71c fix: prevent decoding U256 TxValue on mainnet (#5344)
47669c588 feat(rpc): record call metrics per method (#5338)
fd7896fd7 chore: serde misc CallRequest (#5345)
27d70881a feat: add response type for execution header (#5342)
320ffd2a0 restrict --chain flag setting for op-reth node & fix help info (#5334)
5533ebb89 chore: update nextest config (#5341)
04c0d6f00 docs: add docs about call order of config trait (#5340)
ef2f96afe fix: output field is called value (#5339)
d762d2d9f feat: downgrade trie debug logs to trace, cleanup debug logs more (#5285)
e6ea2510c fix: use helper to deserialize mainnet TTD (#5322)
23e789f97 feat(primitive) refactor get_gas_price (#5328)
be542b2a9 feat(rpc-testing-util): rpc tracing compare testing support (#5148)
73b11de89 docs: call many docs (#5331)
7d0abeff5 feat(primitives) : support test for fill_cfg_and_block_env function (#5330)
45f3ee7b3 chore(primitives): Compact TxType Unit Table Test (#5325)
164b486d9 chore: use u64 for payloadattributes directly (#5327)
dea22ada8 feat: add TransactionsHandle function (#5198)
648f54e1b feat(primitives): format stage progress with two decimal places (#5324)
2846609b2 feat (rpc-testing-utils) : enhenced trace filter streaming for local node (#5295)
29a848998 feat: add more beacon API types (#5292)
fa803fd7e fix(ci): Optimism unit / integration tests (#5318)
22dfe96ae fix(payload): Ethereum Payload Builder Zero Type (#5313)
d090803eb feat(rpc-testing-utils) :  trace_filter test (#5293)
f8ceda9ea chore: reduce size of common types (#5304)
2d315c2f3 feat(primitives): supports test for from_compact (#5312)
1aca4b012 feat(primitives) :  test for TxDeposit  and related methods (#5317)
45628e786 chore: add nextest config (#5320)
6a5dbc4d0 feat(primitives) : match  exhaustive (#5316)
c258659dd fix(primitives): Exhaustive Matching on TxType Primitive Encoding (#5315)
18a55d240 ci: fix partitions + clippy (#5314)
3d076b159 fix(ci): Integration Test Specify Reth Binary  (#5311)
898648758 fix: bump stack size on Windows (#5301)
52670a8b2 feat: op-reth (#4377)
390abf3a4 chore: drain fetching transaction events (#5309)
2892f0265 feat(rpc-types) : Implement Default Trait for TraceFilter (#5294)
470449ff2 fmt: format doc comments (#5308)
f9c46bf42 chore(meta): add myself to .github CODEOWNERS (#5307)
e57ad4a30 chore(deps): weekly `cargo update` (#5297)
6e0cf0f33 ci: chores (#5280)
bcd8e6fa8 feat(rpc-testing-utils) : Implement trace_filter Stream Extension for TraceApiExt (#5282)
219b7db52 fix: `trace_filter` properly matches when `from_addresses` or `to_addresses` aren't set (#5291)
e11b37177 feat(rpc-testing-utils) : enhanced tansaction replay (#5275)
2412cc482 feat(rpc-builder): support jwt secret in client (#5284)
cf1824989 fix: replace mainnet TTD so geth mainnet genesis parsing works (#5290)
88cf81feb chore: add basic downloader empty response and exceeding limit tests (#5286)
535b8687a perf: gc refs for js tracing (#5264)
4fcd20c89 feat(tree): measure different parts of canonicalization (#5266)
3ab1afc9a feat: implement providers for `SnapshotJarProvider` (#5231)
38eb1ee2e feat(rpc-testing-util): support test block for trace get (#5272)
9fc0e7637 feat(tasks) : add docs (#5274)
ddcd4d600 fix: `trace_filter` matches all transactions on empty addresses (#5279)
e2ce0151b chore: make BodiesDownloaderBuilder default equal to BodiesConfig (#5276)
a98ae7fa3 feat: add --rpc.jwtsecret arg (#5271)
e6995e5cd Parse Genesis Value from Memory (#5238)
265dd56f2 feat(rpc-types): Implement Clone for TraceFilter struct (#5273)
9a56e4b91 docs: add an overview of the creation and querying of snapshots (#5270)
3fc776e38 fix: check payload length and consumed buf for pooled tx (#5153)
93fc2e299 feat(primitives): effective_gas_tip and effective_tip_per_gas functions together (#5144)
0449c5eca feat(rpc): limit block_range by 100_000 per eth_getLogs request (#5243)
24fade37e feat: feature gate c-kzg in reth-primitives (#5240)
c0e70ba8b Authenticated json rpc endpoint (#5250)
026663f1d feat(primitives): extended display and formatting for JsonU256 (#5199)
caedf7a92 feat(engine): log hook name when it's running (#5268)
b78b8b899 feat(rpc-testing-utils) : stream support for trace_get functionality (#5265)
7cc64024d chore(tree): remove redundant BlockchainTree RethError variant (#5269)
4040cd794 Update overview.json – fix description of "File descriptors" panel (#5259)
cf438d91b fix: peek returns nth element from the top of the stack (#5262)
23c4828e5 docs: clarify discovery nodes (#5260)
40e124b25 feat(rpc-testing-utils): support test block for trace_call_many (#5258)
4dfcd4e6c fix: treat invalid opcode as out-of-gas in estimate loop (#5256)
9bac558ef fix: set tx gas limit not block gas limit (#5257)
d6e7fb11c feat(rpc-testing-utils) : TraceApiExt with trace_call_many Stream Support (#5255)
e0276d278 Add missing beacon API eventstream-types (#5200)
3ed8e43ae feat: add NoopPayloadBuilderService (#5205)
ac241928b fix(rpc): return the correct withdrawal index field (#5253)
824152ecd fix: record memory if vm trace enabled (#5251)
7fd0df298 chore: bump to newest revm and c-kzg v0.4.0 (#5248)
9ca44efe9 feat(bin): separate journald and file log filters, log debug to file by default (#5197)
7907cece7 fix: dev-deps rpc-types (#5239)
fef8d7f4e feat(args) : increase default max response size (#5237)
ed9b9a7d8 feat(rpc) : support for eth_newPendingTransactionFilter full rpc function (#5206)
64d50643c feat: roundtrip fuzz harness for `PooledTransactions` (#5125)
2a5620356 test(state): in-memory state root (#5226)
7140bc29f fix: filter out empty storage entries in state diff (#5230)
ef80b4d03 feat(rpc-testing) : add raw transaction tracing to traceApiExt (#5221)
3b7d09327 fix: fetch account code if not empty (#5229)
07552ca14 style: builder style segment set (#5209)
e73ece945 feat: remove const generics from cursors and add segment masks (#5181)
74a2bf38d feat: add `SnapshotCursor` wrapper and impl `HeaderProvider`  (#5170)
d51bc45ba fix: pin `nightly` temporarily (#5227)
7039aac5e chore: use latest geth build in CI (#5219)
094d91b4e chore: remove geth zip file (#5218)
3eae861ae chore: remove unused deps (#5217)
5f0e6912a chore(deps): weekly `cargo update` (#5215)
de01f08d9 fix: use correct trace_call params (#5214)
aa4a39e21 chore: types in aliases (#5212)
76e751eef feat: Completely decouple `rpc-types` to standalone crate (#5193)
ffe1a8841 chore: move consensus instantiation to fn (#5208)
a9fa28181 feat(storage): database/transaction/cursor metrics (#5149)
7019e023f feat: add promotion and demotion for blob fee updates (#5053)
a61fe2aea chore: add log for created new payload job (#5204)
a2323c90c feat: share mmap handle inbetween snapshot providers & cursors (#5162)
006259b4f feat: move `ZstdDictionary` inside `NippyJar` and create a snapshot manager (#5139)
d232c25a9 chore: load default KZG trusted setup from revm (#5202)
e79743fe5 chore: misc tree notes,docs (#5184)
998453c50 chore: add debug log for tree during setup (#5201)
fbdf744b8 perf: introduce BlockValidationKind (#5195)
fc4fc9368 feat(primitives, stages): improve checkpoint logs readability (#5194)
c449bd53e feat(engine): downgrade pipeline inconsistency log to debug (#5196)
d06931a38 fix: spec compliant engine api errors (#5188)
0116b8041 feat: add `reth db snapshot transactions | receipts` commands (#5007)
c1a6e42d1 feat: implement transaction fetcher, w/o redundant tx hash request (#5058)
f782a3331 chore: downgrade debug! to trace! (#5186)
4891559ac chore: rm redundant trait bound (#5185)
8f0a41506 chore: bump `revm` version (#5187)
5d94aef89 test: add tx validator test (#5179)
e05dba69c chore: rewrite all error messages for consistency (#5176)
1c0373b32 perf: only record active context memory (#5174)
6ca14b517 clean up database file after testing (#5087)
df9c29582 Update noop.rs (#5180)
dd6913cd9 feat(primitives): add `_HASH` suffix for constants hashes (#5175)
98e03ee4e feat(primitives): clean up primitives `proof.rs` file (#5167)
fb5f0bac0 fix: use recorded opcode (#5171)
a24102c70 chore: remove duplicate canonical hash fetches (#5169)
d76acc24d feat(rpc-testing-util): Test for ReplayTransaction  (#5157)
0f254e16a fix: return enveloped encoded (#5156)
572a41eaf chore: rm lcov support (#5159)
4dc15c3be chore(clippy): make clippy happy (#5155)
0c8698049 fix: record touched accounts in prestate default mode (#5138)
2a4c78759 feat(storage): bump mdbx to 0.12.8 (#5123)
489000622 Patch/Auto-mine (#5042)
1eb5f4125 improve `calculate_next_block_base_fee` doc (#5135)
cb8b27325 chore: bump discv5 (#5150)
7d46db4a2 feat: add sse payload attributes example and beacon api support (#5130)
b71a8ac85 refactor(primitives): refactor `match` expressions in `Transaction` impl (#5145)
916b6b3b2 implementations for DbTx functions for TxMock (#5015)
6b7997874 feat(stage): consolidate `Validation` and `ExecutionError` variants in `StageError` enum (#5106)
36dde3647 feat(tokio-util): EventListeners with Listener Management (#5136)
fbf12de4e feat(rpc):   Replay of Ethereum Transactions with ReplayTransactionStream (#5134)
d05b32449 feat(bin): `--raw` and min size arguments for `db` commands (#5113)
2b71f0f6b fix max_fee_per_blob_gas type (#5121)
55a78719b feat(tx-pool): add `blob_sidecar` to EIP-4844 mock transactions (#5132)
0088ba455 chore: add convenience trait bounds (#5131)
82bffbfd1 docs(book): pruning distance 128 -> 10064, update node size numbers (#5122)
c74abbc6b Function builder for TransacitonRequest (#5104)
2fd2b429a chore(deps): weekly `cargo update` (#5127)
a0c463a76 ci: update test-fuzz installation (#5126)
3a8fe5a73 chore: add bundle api helper (#5119)
2045171d2 fix: load code by hash for prestate trace (#5115)
c6d279c01 fix: no value for staticcall call traces (#5117)
33df4e576 chore: remove reth primitives [tokio] and [tokio-stream] dependencies (#5111)
9dd270e4e feat: update mainnet trusted setup (#5110)
14f2b9088 chore: Patch revm to current head commit (#5109)
fafcabf68 feat: add call bundle (#5100)
a6bee7286 feat(rpc):transaction variant for all available transaction formats (#5098)
d3de32a9d fix: use block id for block receipts (#5105)
93e837e28 feat(storage): add an option to return hashed transactions in `block_with_senders` (#5095)
5d217a286 feat(primitives): move `revm-primitives` to `reth-primitives` (#5088)
5dd5555c5 feat: stale filters cleaner (#5080)
a136c33a2 refactor(rpc): remove `result_output` from `revm_utils` (#5097)
78f666e62 feat(rpc): track cache hits and misses (#5094)
2f66662f6 perf: rm thread stack size bumps (#5089)
6fd516f75 feat: re-add Arbitrary for PooledTransactionsElement (#5064)
ffe0e8900 chore: return None if block does not exist (#5091)
7796e5747 refactor(primitives): remove `AccessListWithGasUsed` in primitives (#5079)
0aeb0b622 chore(revm): remove local thread for pipeline execution stage (#5082)
38e0d5ae6 add implementation for `StateRootProvider` for `StateProviderTest` (#5060)
7ca3db8a6 chore(rpc): `eip-1159` -> `eip-1559` (#5083)
c17c3cd37 feat(rpc): use `alloy_primitives` in `rpc-types` (#5078)
05044c189 perf: get rid of body clone (#5077)
ae3914eb6 Builder style implementation for trace_call (#5074)
ce73d933c adding access list to rpc type crate (#4992)
3adc627a3 feat(rpc): enable `eth_getProof` (#5071)
c947d85f4 feat: payload future also sync (#5073)
d1f43cf01 feat: add more rpc-api bindings (#5072)
0764af691 chore(cli): allow dupsort in db list (#5068)
4b1a0ce17 refactor(trie): trie node iterators (#5048)
9d9de5805 feat(gas_oracle): Add Lru Cache for block values of recent blocks (#5062)
a25161fb9 fix(ci): verify target block hash (#5061)
68ad8feda fix: fix bug issue template (#5066)
d67730b8a fix(txpool): actually compare with previous base fee on update (#5063)
d116de741 Revert "feat(storage): make `BlockReaderIdExt` safe" (#5059)
b399e5d55 chore(txpool): use Vec in validate_all (#5044)
5efadd86e perf: improve gas price calc (#5050)
3c383bfbb fix: order transactions by nonce before inserting into txpool (#4989)
1483175e2 example simulation transportless (#5025)
ede827891 remove lifetime param in storage trait (#5046)
d3ea66bb7 chore: use u128 for update_blob_fee (#5045)
12ac1f153 feat(trie): account & storage proofs (#5041)
3eb02656c fix: geth prestate tracing (#5040)
0480f95f0 Revert "perf: move common_prefix_len out of loop" (#5043)
931065d71 fix: improve parity statediff (#5037)
1468563f2 Feat/pending transactions filter (#5014)
9ffc1433d feat(rpc): move mev types to `rpc-types` (#5035)
30ebd2f8b feat(storage): make `BlockReaderIdExt` safe (#5022)
cd67eace8 perf: move common_prefix_len out of loop (#5036)
a60dbfdd5 test: remove flaky test (#5034)
3028bbd83 fix: some trace statediff improvements (#5033)
7e088da99 instantiate Api types in reth module registry (#5031)
7389aea3d chore(deps): weekly `cargo update` (#5027)
ffcda0ddb test: improve connect all perf (#5028)
d58e4a46f test: TransactionGenerator and p2p testing support (#5023)
3bf2c8865 feat(rpc): move `trace_block_with` and `trace_block_until` to `EthTransactions` (#5021)
48cf69def chore(deps): move some deps to workspace (#5020)
920e3f0b8 perf: drop lock early (#5016)
411893eba feat: add validate transactions function (#5010)
92ceb2fca EIP4844 variant to TypedTransactionRequest  (#5005)
15fe5edf0 chore: use new type for BlockchainId (#5012)
6c8c084e3 feat: track encoded length with pooled txs (#4976)
34bc4983e Adding EthTransactionValidator::validate_all function (#5006)
e86b80a01 feat(bin, snapshot): `SnapshotSegment`, headers segment & refactors (#4979)
d3794f2c4 update trace_filter, trace block only to highest matching index (#4974)
27a0a06ca feat: add TreeState container type (#5000)
71ccd2a88 chore: replace deprecated hub with gh for releases (#4996)
d6ea90fd3 feat(ef-tests): validate state root (#4995)
422f38ac0 fix(ef-tests): seal engine typo and deserialization (#4997)
f7bffeef5 chore: extract validate tx impl from trait impl (#4993)
3ab8aece3 chore: ask for node type in `bug.yml` issue template (#4988)
2dbd142d6 feat(bin, prune): pass prune segments from CLI & refactor modes (#4964)
d2a967d4b Large tx integration test (#4959)
3a8c06257 chore: simplify HashedCursorFactory trait (#4984)
505c6bc82 docs: add note about ignore version field (#4994)
bd7b8f536 notify full transaction listeners (4902) (#4978)
d2845afdf minor doc update on how to run individual tests (#4990)
18311976a refactor(prune): impl `Segment` for other prune segments (#4899)
65cc314ab chore: rm redundant config (#4987)
a2c62cdf6 rpc tracing to workspace (#4986)
b076a0193 feat(test): add debug trace ext helpers (#4982)
00a92f526 chore: remove consensus generic (#4981)
e04292247 fix: use pending block tag for actual pending block (#4966)
39f566e7c fix: use correct payload length for blob pooled txs (#4972)
c6531b48f feat: Feat/add on rpc server started hook (#4947)
fb9636967 moving Log::from_primitive to rpc compat crate (#4968)
eb22cdef3 fix: dockerignore comment (#4971)
67773ade8 docs: fix typos (#4963)
1cccd097e perf: disable nagle algorithm for rlpx sessions (#4944)
e474c0d73 chore: phase out Substate::new (#4957)
450282cb7 Added trivial implementation of MockEthProvider for completeness. (#4960)
ee5b8c906 fix: Match prestate tracer to Geth spec, fix storage diff misattribution (#4483)
b62db459d builder functions for GethDefaultTracingOptions (#4956)
e823c4082 feat(prune): transactions segment (#4937)
9ca0cdcf1 feat(prune): headers segment triggered by snapshots (#4936)
670d45914 Better topic0  (#4950)
9561f2860 fix: improve eth_createAccessList (#4954)
18c489123 chore: add some geth tracer ergonomics (#4952)
98bc2b5c8 chore(deps): weekly `cargo update` (#4949)
537ad17b7 (chore) fix vergen git sha in docker (#4946)
5de04430f fix(disc) Send find_node request only after verifiying our endpoint proof (#4909)
6fd66b314 chore: update lock (#4942)
51ecf3e96 fix: improve account diff populate (#4934)
851831f4b fix: filter out unchanged account states in diff mode (#4931)
36306ce91 feat: add cli ext event hooks example (#4935)
c825aafbc fix: only accept rpc enveloped format for transactions in payload (#4928)
9c8eca6a4 feat: add `reth db snapshot <TYPE>` command (#4889)
529635f8d fix: always serialize zero balance (#4929)
50fa71d8d feat(cli): debug build block (#4914)
f18845d25 impl for  Eip2930 (#4927)
49ac2f511 feat: add metrics to engine RPC API (#4912)
50b5215f4 fix(engine): always push back hooks, add tests (#4924)
ec543ab2b chore(payload): additional debug logs (#4926)
12c0bde9e feat: add ipc path to config (#4920)
a9b09a755 chore: `BlobsBundle::take` (#4925)
442f28a8f chore: rm redundant if empty check (#4923)
99dfad947 Simplify node components (#4922)
1e7d028d5 refactor(prune): segment trait, receipts impl (#4887)
4dceabf06 fix: add blob_gas_used after succesful tx execution (#4913)
005ca6656 chore: make unit type default (#4916)
2c4b8b7f3 fix: delegate all calls (#4915)
0a36bb604 Add input and accesslist to mock tx (#4904)
066998dc8 refactor: simplify RethNodeCommandConfig trait (#4895)
bf7b6f8d2 fix: manually implements `arbitrary` for `TxValue` (#4907)
af8e3c9ee feat(pruner): shared deletion limit (#4880)
e93edfcdf chore: return empty vec if input vec is empty (#4906)
1c39b3736 fix: export everything from traits mod (#4900)
5f56e529a chore: add dedicated send functions (#4903)
afebb2b20 intrinsic gas check (#4867)
081d71e1a change transaction value fields from u128 to a wrapper-type of U256 (#4439)
d3cc4cc64 refactor: move broadcast channel init into tree (#4894)
b1a7a871c chore: bump revm (#4884)
2cddd0f63 Add ChainSpec::hardfork_fork_id and ChainSpec::shanghai_fork_id helper fns (#4748)
6396e3f40 Update private-testnet.md (#4886)
6f4febc89 feat: add discv4 terminate (#4879)
74808eddc feat: support trace_filter (#4818)
08c5c43b7 fix: check active hardforks using head block for validator (#4882)
f59db3151 chore(deps): move more things to workspace (#4881)
fbfca3f55 feat: add sync fn to send a lookup message (#4875)
602e7756f fix(execution): reset tx env blob settings (#4873)
3bd6079f9 Add test to example rpc extension (#4872)
b273eeb8a chore(deps): weekly `cargo update` (#4866)
858ea41da fix(tx-pool) make BestTransactionsAttributes public (#4870)
fd697d9d3 Changes to enable validation api extension (#4783)
05198e990 feat(network): PropagateTransactionsTo implementation (#4772)
01b264a02 chore(deps): bump Alloy to 0.4 and remove patch (#4862)
702d04bb8 chore(deps): rm hashbrown dep (#4861)
a046288af fix: unwrap latest block for cli log (#4859)
8fd27a4b4 fix: return gas per tx in error (#4858)
ce85e1783 fix(bin): latest block in status message (#4856)
8f6a33b9c chore(`deps`): change revm to use evalir/revm instead of dani branch (#4855)
23d2baff0 Add an ability to change P2P listening address (#4849)
3c681fa45 feat: add NoopBlockchainTree (#4852)
bbe54eb4d chore: downgrade spammy log (#4853)
53ff254f5 fix(snapshot): debug assertion methods (#4851)
25aed7bf5 feat(tx-pool): Add new TransactionPool trait for getting the best transactions with blob fee (#4834)
6b2945440 feat(snapshot, prune): highest snapshots tracker (#4721)
8f3e4a157 feat(engine): poll running hook between CL messages (#4839)
e84adc553 fix(engine): return sync state back to Idle when hook finishes (#4847)
3887a1812 fix(snapshot): debug assertion methods (#4846)
ad78d4c6a fix: return INVALID again if block contains blob transactions pre-cancun (#4845)
0adc85643 feat(primitives): increase minimum pruning distance (#4750)
6d7dacffd docs: add holesky to list of chains in cli docs (#4842)
760a5155d feat(engine, snapshot): snapshot hook (#4690)
f534b405c fix: do not validate increasing withdrawal indexes (#4844)
486b289ca chore: bump c-kzg to crate version (#4841)
c6ef9d7c3 fix: remove zero-amount withdrawals before incrementing balances (#4840)
5f9a917fb feat: Alloy migration (#4737)
3ef0364e4 default RPC limit (#4838)
216effd01 feat: add hivetests profile (#4833)
b85aa9403 docs: paradigmxzy -> paradigmxyz (#4837)
a4e7760a5 fix(bin): warn about CL health only when pipeline is idle (#4835)
73db2d8b7 Update private-testnet.md (#4836)
8e9937bb0 ci: minor fixes (#4831)
ec25f4953 chore(deps): bump boa (#4787)
50175f8cf fix: omit empty fields of AccountState (#4828)
2138a8b58 feat(primitives): add `Receipts` to encapsulate `Vec<Vec<Option<Receipt>>` (#4626)
61a1ac95a fix(rpc): use nested lists for debug_traceCallMany (#4820)
29d66a102 fix: use u64 nonce field for prestate (#4825)
6d028119d chore(deps): dedup c-kzg by unpinning it (#4827)
0cdd30251 feat: create a `NippyJar` snapshot from multiple `Table` (#4716)
ac6570fa7 feat: add blob subpool variants and state (#4824)
5b2c03a48 feat(provider): query block range using cursors (#4821)
66fc1964d feat: add block_range provider function (#4819)
b994d159b chore: silence unused warning (#4817)
4dbd8835e feat(primitives): remove `mod ethers_compat` (#4771)
1b16d804e release: v0.1.0-alpha.10 (#4781)
eb6dc5197 fix: ensure no blob transactions in payloads pre-cancun (#4779)
5e01a21ec chore(tree, engine, prune, stages, storage): improve logs (#4790)
d0ef5af58 chore(primitives): move `KeccakHasher` behind `test-utils` feature flag (#4804)
f7c3bbcc9 test: replace unused_tcp_udp with port 0 (#4805)
29a52010b fix typo as_eip2930 (#4801)
4603dc31c chore: unhide clippy config file (#4794)
a2c5a5c9d chore: make proto module pub (#4788)
6e928f08f chore: add missing builder fn for outbound dials (#4786)
d970fff77 chore: lower cargo-deny license confidence (#4793)
ff27ecc75 chore(primitives): root calculation using `HashBuilder` (#4780)
0a1e2c3e0 fix: pass feature flag to iai bench (#4791)
321ded5b6 feat(network): implement `PropagateHashTo` helper in `TransactionsCommand` (#4713)
e255dd8d4 test: flaky geth test (#4800)
7024e9a8e chore(dep): reth db workspace (#4782)
dae31fa2a chore: timestamp fork activation semantics (#4785)
faf9a89ca chore(cancun): beacon root address update (#4784)
6d634e9ad test: disable discovery for test_listener_addr_in_use (#4774)
1f33cb5e1 feat: update genesis for holesky (#4773)
272f06216 chore: add missing builder functions (#4770)
371388da5 fix generate-jwt.sh for zsh users (#4769)
1fdd6027c feat(docs): mention brew tap in release.md (#4768)
f873a2070 fix(book): default identity (#4767)
8f9d2908c chore: add and fix more lints, improve docs (#4765)
b701cbc9a release: v0.1.0-alpha.9 (#4766)
0f9def08c perf: remove unnecessary state clone (#4763)
1b1745326 chore: pin breaking icu releases (#4760)
f67f850bf Callrequest fee validation (#4685)
2ddca433f fix: add hive job experimental flag again (#4756)
7a0781c25 fix: block overrides inconsistencies (#4746)
0a4e42844 Example: Manual P2P (#4736)
2de29fb0f (chore) fix reth book dockercmd with correct datadir path for volume (#4753)
b7a6eedd3 fix: export self::zstd (#4747)
c24a6b2e0 feat(txpool) add blob transaction sidecar listeners (#4722)
344ffbd38 fix(hive): jobs need experimental flag (#4744)
675c6bfc3 perf/refactor: use tokio_util::sync::PollSender for ActiveSession -> SessionManager messages (#4603)
301805477 support EIP-4844 transaction when building pending block (#4688)
b6e452b2c fix: allow unknown fields in ExecutionPayloadV1 (#4733)
5c028cc54 fix: add slash to match only fork suites (#4732)
64aba9cac feat(CI): add timeout to CI (#4728)
995986e7c chore: fix flaky test (#4729)
a79284196 feat: add merge and pre-merge pyspec jobs (#4726)
ad9235be3 feat(interfaces): better documentation for `ConsensusError` (#4725)
e83d3aa70 chore: bump revm (#4723)
7a5b63127 feat: add `nippy-jar` format for snapshots (#4512)
48231c8ae remove deprecated log line (#4719)
aab57b584 fix: pin revm until we move to crates deps again (#4707)
bb0da4af6 feat: enable EIP-7516 hive tests (#4717)
070554a8d feat: add updated beacon root contract address (#4665)
acd7470e8 fix(tree): retain `max(additional, max_reorg_depth)` block hashes (#4612)
9c51a0ae4 (chore) Add enode address on startup (#4712)
6a601755c fix: make into_transaction fallible (#4710)
5c3d7d0b2 (chore) surface block hash for MissingTotalDifficulty error (#4711)
5779fa4ad feat(interfaces): better doc for `BlockValidationError` and `BlockExecutionError` (#4708)
8cb28a700 fix: bump revm with breaking change (#4706)
5be8ae4b6 refactor(engine): update sync state for r/w hooks (#4687)
cf5d0e230 chore: fix non_snake_case rust-analyzer warning (#4689)
6d3e229e1 feat(interfaces): move `BlockHashNotFoundInChain` to `BlockchainTreeError` (#4697)
f00df57ea fix: add excess_blob_gas for first cancun block (#4700)
a29f10299 chore: simplify get precompiles (#4681)
30b4ddb5f fix: add CANCUN to revm_spec_by_timestamp_after_merge (#4699)
1718f1466 feat: add enough blob fee tx state (#4680)
a52b433e6 feat(book): update CLI section (#4694)
b870a4ef0 feat(interfaces): better document `BlockchainTreeError` (#4693)
0a17bc66f chore: update revm and map new errors to rpc (#4696)
1962014a7 feat(primitives): add `calculate_blob_gas_used` function in `SealedBlock` (#4692)
0874767cd refactor(interfaces): `Result` -> `RethResult`, `Error` -> `RethError` (#4695)
6016da7a1 refactor(engine): always connect buffered blocks on r/w hook finish (#4657)
afbe88f58 feat(error): revamp `make_canonical` error (#3899)
24a8590e6 feat: validate blob_gas_used in header (#4676)
ec4b30207 feat: add pyspec cancun tests to hive workflow (#4677)
0fbc3f6c9 chore: shorten info interval (#4666)
a979f5b66 add `TransactionsProvider` implementation for `MockEthProvider` (#4656)
a964a7e89 feat(net): add helper functions to `TransactionsHandle` implementation (#4668)
24d7bdeaf fix: convert SpecId::Cancun to cancun precompile id (#4675)
ad10a17c2 fix: set block env excess blob gas (#4672)
449a9c002 fix: deny unknown payload fields (#4667)
801294252 feat: Duplicate Withdrawal and move try from impls to rpc-compat (#4186)
57c10e5b6 refactor(engine, tree): connect buffered blocks on pruner finish (#4613)
1406142af fix: clear buffered blocks on sync (#4658)
a80b72041 feat: add pre-block EIP-4788 beacon root contract call (#4457)
a96dbb476 perf: optimize engine poll loop (#4655)
d84619952 refactor: remove duplicate RPC namespaces from arguments (#4418)
11ee5d753 fix: typos (#4648)
394a3a9a5 feat(rpc): split `test_fee_history` in multiple tests (#4646)
55339d702 feat: add max logs per response cli arg (#4644)
733ee1939 refactor(bin): CL events conditions (#4643)
11f5f3f8d feat(engine): hooks (#4582)
78edae4d4 feat(prune): add pruner log with `INFO` level (#4573)
b5905c482 feat(bin): log prune config on startup (#4641)
4aa3ebdbd chore: fix doc lints (#4639)
cabb5bee2 fix: use proper type for engine_newPayloadV2 (#4630)
20455d055 refactor: use revm blob fee calc (#4637)
69045fd66 chore: get rid of unreachable (#4638)
93ccf4155 perf(rpc): fetch range of blocks and return empty if unchanged (#4592)
66589209a feat: enable size-limited file logs by default (#4192)
aeb37aab5 fix: fill missing eip4844 settings (#4633)
cbb74346b test: add assert_invariants (#4623)
8baf2344d chore: demote session established log level (#4564)
16072b9a9 4844 blob txs (#4631)
a55f48cf2 chore(deps): weekly `cargo update` (#4627)
f7b28e592 fix: apply FCU on invalid PayloadAttributes (#4591)
ae0d5241f chore(deps): bump jsonrpsee 0.20.1 (#4624)
f153d8f4d feat(revm): Integrate State (#3512)
62e7d9820 feat(cli): allow multiple trusted peers (#4619)
357301cc2 fix: return UnsupportedFork on V2 endpoints (#4593)
873b6f71d fix: holesky genesis (#4616)
a572c3b7f Make tx pool mock public (#4611)
b156cb984 feat: add blob transactions subpool (#4608)
ee85fa3d4 test: add blob exclusive test e2e (#4606)
6b8db8ace fix(txpool): pending subpool basefee update (#4610)
455af5603 fix(ci): valgrind installation (#4605)
a8e0880a9 chore(ci): run check and clippy on tests and benches too (#4587)
723036b31 test(txpool): add replacement test (#4596)
3d564aa39 fix: remove popped tx from total set (#4599)
09b5f1012 chore: new clippy lints (#4598)
937269eca chore: new lint name (#4597)
c831d30d2 fix: use cached encoded length (#4577)
c531c1b60 fix: limit payload bodies range by best block (#4584)
9a9a6e009 feat: add missing caps (#4581)
a3952f128 chore(ci): different clippy action (#4579)
48b75e0ad chore(clippy): make clippy happy (#4578)
c4acd08ff chore: silence clippy clone warning (#4574)
b8e15fa10 fix: ensure final message is always delivered (#4569)
60fa4f845 fix: ensure sender transaction types dont conflict (#4567)
76d56cb7b docs: add note about eip-4844 broadcast (#4570)
e2270cd71 Update network.rs -- typo fix (#4545)
c4956143b fix: enforce unsupported fork rules on get_payload_v3 (#4562)
261a9f949 chore: add missing is empty check (#4565)
25558b36c fix: update Status ForkId on new head (#4560)
660ea0c93 perf: limit number of new batch of dials (#4530)
6beb3c432 fix: set trace results root trace's gas used to execution result gas (#4556)
e745aadff feat: add blob tx replacement overdraft check (#4534)
3fdeade33 Add inflight transaction requests metric to dashboard (#4554)
eb38c0dc8 chore: fix warnings (#4553)
624d9d581 feat: enforce replacements dont conflict (#4539)
28f511804 chore: update dependencies with breaking changes (#4555)
7dd14a7eb chore: pin git dependencies to specific revs (#4552)
692a081d8 chore(book): fix imposter USDC address (#4549)
cc576bc86 test: enable geth tests again (#4544)
8cb92e35f feat: add metrics for inflight get pooled tx requests (#4547)
fc9f1168b feat: add discovery port function (#4543)
e1d668681 chore(deps): weekly `cargo update` (#4542)
2de63c664 chore: bump sale period to 21 days (#4526)
3cc169fcf fix: set trace results root trace's gas used to execution results gas (#4506)
34417ff6f fix: add missing holesky variant (#4541)
900ada5aa chore: rm redundant clone (#4540)
b151d6ea8 fix: wake future after buffering pong (#4536)
b87dfe507 feat: holesky support (#4359)
9ad229bc1 docs: add full node size on installation recs
ba51d9fb0 docs: bump latitude discount code
6ae6c9e71 perf: increase refill slots interval (#4528)
0477f9777 chore: change best unconnected condition (#4527)
d6c833607 dep: ethers@2.0.10 (#4535)
0fed70773 test: add backward compat toml test (#4531)
d1f8c6ec0 chore: rm todo about polling jobs (#4532)
95fe20886 Apply foundry improvements to reth (#4518)
5f329e78b #2511: extended reth-rpc example with custom rpc ext (#4508)
d0d50a067 fix: use max_fee_per_blob_gas in blob gas cost calc (#4521)
123c79775 fix: enable cancun in transaction validator if active at genesis (#4522)
83987420f fix: use `blob_fee` to calculate blob_gas_used in receipts (#4523)
99dada929 fix: check for parent root before cancun (#4524)
1ed5ae14b fix: ensure only canonical state is returned if requested by number/hash (#4517)
f31706dd9 feat: add base fee and blob fields to genesis (#4516)
8d29a49dd chore(ci): cargo check (#4511)
82a5ffa4a fix(tasks): use `crate::metrics` to avoid ambiguity (#4509)
f490f558c fix(primitives): set cancun header fields if active at genesis (#4500)
00bebfd64 perf: small access list perf (#4505)
548d7f163 chore: add is_empty check before read lock (#4507)
41b4f46ae fix: skip optional fields in parity trace (#4503)
59bffd411 fix: filter out pre-genesis timestamp forks (#4501)
685148117 chore: bump c-kzg and add serde feature (#4499)
e6f933d53 chore: remove outdated TODOs (#4498)
422d93091 feat: support blobs in eth_sendRawTransaction (#4495)
6299c26b5 add metrics counter for finished spawned tasks (#4481)
82f0fe1a5 fix(rpc-types): do not flatten in ExecutionPayloadV3 (#4492)
ba850169b feat(engine): enable v3 endpoints (#4490)
ab0fb4147 fix(primitives): map cancun to timestamp fork (#4491)
cd7e1135d feat: enforce no nonce gaps for eip-4844 (#4487)
ca3753d53 feat: add blob costs to cost value (#4489)
01d493312 feat(primitives): remove constraints on `SenderRecovery` pruning (#4488)
001cbd753 feat(storage, tree): respect `Sender Recovery` pruning in the blockchain tree (#4431)
3e7e65127 feat: delete discarded blob txs from blob store (#4408)
297e8870c perf: skip blobs if no blob space available (#4480)
f6e5826de feat: add get blobs exact (#4482)
843d5047b feat(storage): better sender recovery if not found in database (#4471)
b2750e0e9 Remove redundant clones (#4485)
1ec4d462a add semaphore to EthStateCacheService (#4477)
d2647dcc7 chore: add cancun to hive job (#4478)
8c015c176 feat(txpool): add `skip_blob_transactions` function to `BestTransactions` (#4455)
d9334ee6c feat: pass parent beacon block root to payload builder (#4425)
b32562f4e test(storage): recover senders if not found in database (#4470)
03887a2c4 feat(storage): recover senders if not found in database (#4280)
ee15bdbb7 chore: fix clippy (#4468)
ed6a9b41f docs: add WSL2 Disk allocation (Bus error) (#4463)
ce1c0eeb0 docs(book): mention full node in `mainnet.md` (#4454)
e4f26e8bf consolidate eip4844 pool errors (#4453)
e8f2a56f4 Fix: high load RPC putting node in a broken state: avoid running blocking tasks within blocking tasks (#4461)
acedc8cf4 chore(deps): weekly `cargo update` (#4464)
60e5b4399 chore: fix deps sanity check (#4462)
19e03ee9c chore: do not warn when the chain is syncing normally (#4458)
6bb94af5b feat(stages): respect `PruneModes` in `TxLookup` stage (#4390)
e66e3e355 feat(storage, tree): respect `Transaction Lookup` pruning in the blockchain tree (#4410)
39a6fa1b5 Remove duplicate in codeowners (#4451)
eb4126b78 feat: add blob count checks (#4447)
89bd02466 docs: add missing field docs (#4446)
2a771386b feat: support pending blob fee (#4443)
426865aca chore: apply same order
ad245702c docs: minor fixes/polish to private network docs (#4441)
97cf35673 feat: add blob fee calc functions (#4440)
a76da9831 feat: support admin_peers (#4435)
d8a7ee2eb fix: listen for all transactions (#4436)
1a40daef8 docs: add aquamarine as dep to reth (#4433)
b839e394a fix(grafana): peer disconnect reasons chart (#4429)
d0a5a19b0 fix(pruning): dont check pruning on every storage change for the same block (#4402)
d89005308 Add BlobStore metrics to grafana (#4424)
71cbddc23 docs(book): pruning & full node RPC breakdown & improvements (#4428)
edf31806d feat(stages): respect `PruneModes` in Index History stages (#4382)
cd71f689c feat: add a CLI flag for secondary nodes (#4029)
3d9e968b0 feat: add eip4844 fields to rpc transaction (#4422)
893f4cf2a feat: validate payload versioned hashes (#4417)
8fff8fa8e fix: use payload v2 for v2 (#4421)
b5aa94301 feat: add blob fields to receipt type (#4420)
e33e3c915 chore: add eip4844 nonce gap error (#4414)
3088104a6 chore: add max fee per blob gas to mock transaction (#4416)
975ff1315 feat(cli): extract more functions from `RpcServerArgs` in `RethRpcConfig` (#4412)
2e332b5c8 feat(primitives): add doc for `parent_beacon_block_root` in `Header` (#4415)
05d38dd47 feat(rpc): add documentation for `calculate_reward_percentiles` (#4413)
5d9b3d8ab feat: add max blob fee per gas underpriced check (#4406)
90a1900da feat(book): document rpc limitations during pipeline sync (#4411)
1c8374072 feat: add CancunPayloadFields for engine_newPayloadV3 (#4407)
e576c007e chore: introduce versioned `ExecutionPayload` (#4400)
d66eff1f7 feat: add holesky bootnodes (#4404)
3ffcae360 feat(cli): allow overriding kzg trusted setup (#4335)
82fb0eedb feat: integrate blobs into the payload builder (#4305)
505be4555 feat: integrate price bump (#4398)
0c7a93717 feat: add EIP-4788 parent_beacon_block_root to Header (#4299)
4a2c1691f chore: rename price bump arg (#4399)
cb8249852 bump(revm): with fix (#4389)
3a1eeee81 perf: no need to keep track of replaced txs (#4394)
5556505e3 chore: mention Sepolia changes in Docker Compose files (#4391)
405795301 chore: pin Grafana version in docker-compose.yml (#4395)
80ee49b77 fix: complete vmTrace memory delta recording (#4227)
2fc574f32 feat: validate blobs (#4388)
03afe376b fix(txpool): respect propagate setting in the full tx stream (#4362)
b7541943b docs: clean up payload builder docs (#4380)
55ec82bb5 feat(book): note on pruning (#4387)
863cc166a feat(grafana): blockchain tree canonical commit time (#4385)
0f14ec400 release: v0.1.0-alpha.8 (#4386)
f303b5cb1 feat(primitives): increase transaction senders pruning batch size (#4383)
e527531a7 ref(cli): remove duplicated clap arg (#4336)
47683fd6e feat(grafana): sort stages (#4373)
709573344 feat(book): add documentation for ports (#4370)
5339502f3 chore(stages): document index history stages pruning (#4379)
72b211ed4 feat(reth): remove `History` variant in `StageEnum` (#4365)
b2a0548e4 feat(net): rm TODO for `DEFAULT_DISCOVERY_PORT` (#4366)
5d971d626 chore(deps): weekly `cargo update` (#4374)
d8b160929 dep: remove kzg patch (#4363)
d0c1fa344 chore(book): sort RPC methods in pruning chapter (#4361)
2f808c243 feat(book): rpc methods pruning dependencies (#4358)
4a13415f9 feat(book): advise to `tee` the output of `mdbx_chk` (#4360)
6d0b00a39 chore: use `DEFAULT_DISCOVERY_PORT` constant (#4356)
50ba82803 feat: add validate-blob to extension trait (#4355)
aad1895cc chore: collect full discarded tx (#4353)
f0346c697 feat: add eth extension trait for EthValidator (#4343)
0beaf85f4 feat: remove finalized blobs (#4342)
f9b6a64cc feat(grafana): DB freelist chart (#4349)
4f118cbbe docs: correct `docker compose logs` command (#4189)
fea753beb fix: compare prev value against new value (#4347)
b65e808eb feat(book): node sizes (archive, full, pruned) (#4344)
97913049d feat(bin): db freelist metric (#4346)
20ea9c923 chore: change field order (#4348)
2801e686f chore: add TxEip4844::validate_blob (#4345)
c2436a955 feat(rpc): add missing `DebugApi` methods (#4321)
b473f2027 chore(deps): bump enr 0.9 (#4230)
bfa130d18 feat(bin): unhide and enable full flag (#4327)
fca6404fc feat(book): basic pruning chapter (#4334)
cb6cf5906 feat(grafana): filter by instance, bump version (#4333)
1eee5ee80 feat(pruner, primitives): move prune batch sizes to `ChainSpec` (#4318)
312cf724b feat(pruner): respect batch size per run (#4246)
134364495 feat: use get_pooled_transaction_elements in network manager (#4329)
c99945ece fix: Update Return Type for eth_getFilterLogs function as per standard schema (#4323)
96f58d729 feat: make TransactionValidationTaskExecutor generic over V (#4331)
9a97640f1 feat(book): `[prune]` config section (#4328)
5a7a57d86 fix(bin): make db metrics a gauge instead of counter (#4324)
77621fac2 chore(trie): proofs should be generic over hashed cursor factory (#4310)
bfc4abf7c feat: add shouldOverrideBuilder to ExecutionPayloadEnvelope (#4322)
1859321c4 chore: add `crates/prune` to CODEOWNERS (#4320)
404f6baaa feat: track active forks (#4315)
12bec7153 fix: apply state overrides once (#4313)
928c60cad feat: add TransactionPool::get_pooled_transaction_elements (#4317)
0e61fbe9c feat(bin): expose `db.table_entries` metric (#4316)
35c01fe25 docs: add `--dev` flag to book (#4307)
3f887ab82 chore: kebab case --dev fields (#4314)
8d25aa314 fix: add docs and serde attrs to ExecutionPayload v3 fields (#4302)
6fee16e14 chore: bump rustls-webpki (#4311)
b78e10fb2 fix(pruner): history indices `cursor.prev()` emptiness check (#4301)
b296c6bb9 feat(bin): show db path when confirming the drop (#4309)
fe685143f Docs: Add a guide on how to spin up a private Reth testnet using Kurtosis (#4304)
07a1af85e feat: add Validator::on_new_head_block (#4303)
34b68deed release: v0.1.0-alpha.7 (#4297)
c4626f703 fix: state overrides and call many args (#4298)
3b404acc7 feat: support blob transactions in manager (#4294)
0d47e4cf4 docs: typos & cleanup (#4296)
f5a304286 fix: use gas_used from execution result (#4293)
1563506ae chore: add additional docs about root call gas limit (#4292)
eaca2a4a7 feat: provide a way to opt out of pool updates (#4270)
566e244e3 feat: add blob store canon tracker (#4278)
252315426 feat: add additional conversion trait for pooled tx element (#4279)
e45a0d3e4 feat: integrate kzg setting in validator (#4286)
b13424aa2 chore: reorder receipt fields (#4291)
b710e57f9 feat: add load_trusted_setup_from_bytes (#4290)
7f9116b74 dep: move `metrics` to workspace (#4289)
5c8819332 chore: rename test mod to make clippy happy (#4285)
9ebeca3be chore: simplify builder fn (#4284)
651260334 chore(deps): weekly `cargo update` (#4281)
2abfe2317 dev: use U64 for `transaction_index` (#4261)
cbf3eb433 feat: integrate blobstore in validator (#4273)
82a42c98a feat: add TransactionPool blob getters (#4272)
9d46ab486 feat: validate engine cancun fields based on method version (#4256)
6077edf42 feat: add recovered wrapper type and eth pool conversions (#4267)
8516fefa2 feat: integrate blobstore in pool (#4266)
24632aca6 feat(pruner): prune receipts based on log emitters during live sync (#4140)
890eacbe5 fix: record geth selfdestructs (#4264)
466934c8f feat(trie): account proofs (#4249)
849a47efb fix: prevent node info zero address (#4268)
290474565 chore: bump `metrics` (#4265)
efab153cd feat(transaction-pool): make `EthTransactionValidator` generic over Validator (#4258)
5039b3b58 debug_backtraceAt (#4232)
f53fdd532 feat: add blob sidecar extraction to tx validation (#4254)
0bcd388a2 chore: rename transaction (#4252)
60ad6b2f5 perf: remove clones in PooledTransaction encoding (#4251)
e6f471ddc feat: add 4844 config and basic checks (#4245)
a5b777a65 feat: add blob store service (#4191)
ca99ee2ec fix: broadcast promoted transactions (#4248)
e94892822 feat(doc): enhance `append_blocks_with_post_state` doc (#4195)
639a6eac1 feat: refactor PooledTransactionsElement into typed variants (#4241)
2d7c4203c (fix): Impl. Lagged error in pool update channel (#4242)
75da6528a fix: return None instead of BlockBodyIndicesNotFound in BlockReader (#4239)
d427ade17 fix: propagate promoted transactions (#4236)
40f9576c3 feat: implement network encoding for blob transactions (#4172)
45db5a636 feat: support custom PoolTransaction errors (#4237)
1fda268a4 perf: use futures unordered for active requests (#4231)
8a2c3abd2 feat(pipeline): prune receipts based on log emitters (#4044)
6edbc0eea chore(deps): bump boa + thiserror (#4234)
7a922a6ed perf: create buffer once (#4226)
491b453ed feat: track node record (#4224)
b232e05b2 fix: track established bonds (#4229)
d643d0303 Move parking_lot dependency to workspace dep (#4228)
43601e349 chore: move bitflags to workspace (#4220)
7cd7859a2 (fix)db commit on debug_traceCallMany (#4219)
44874bc55  feat: add `TransactionSigned::recover_signers` with the same order (#4120)
c743acde7 feat(db): add search to `reth db list` command (#4165)
90d2a00a2 fix(pruner): percentage progress (#4197)
981873dca chore: enforce recommended soft limit for get pooled requests (#4210)
7f83d0a05 chore: handle full peer request channel (#4211)
bdcc56bbf chore: rm some unused (#4208)
0840acd87 docs: update table layout (#4194)
0846d8551 Splitting Reth Node Command Ext (#4158)
92361ad77 perf: let sync status mirror FCU (#4203)
8c56cc2f8 chore(txpool): bench requires arbitrary feature (#4204)
9a80f32a6 chore(clippy): make clippy happy (#4163)
3c41e9ffc fix: return engine on fatal error (#4184)
6eb170f8d feat(doc): document ARM limitations (#4196)
97404cf26 feat: make build function configurable (#4193)
b2be35c0f feat(interfaces): database write error details (#4190)
4a3f42ebe feat(payload): make the actual payload build function generic (#4153)
2aefbd356 chore(tree): log error on unreachable (#4185)
957f9f454 chore: bump jsonrpsee 0.20 (#4181)
dfdfea8d7 feat: download blocks in merkle debug script (#4137)
72236490c fix: restrict max active queries (#4178)
4ff8bca97 feat: add flag to CLI to disable colour coding of console output (#4033)
1d40f7197 style: use unwrap or default (#4169)
d0b687b31 fix: spawn js service task on blocking pool (#4180)
c9bb6216c chore(cli): remove unused `debug.tip` argument from execution debug script (#4183)
84625e4a8 chore(deps): weekly `cargo update` (#4173)
d152c9e3e docs: fix smol typo (#4177)
2a62f2d15 docs(tx-pool): fix pending tx listener typo (#4171)
81e8ad4de fix(rpc): tracing target (#4161)
1c23075ed fix: remove discarded transactions (#4164)
427a8395f feat(txpool): Make TransactionPool trait object safe (#4156)
03fc87701 fix(txpool): maintenance tracing target (#4160)
500b0fac1 (feat):add transaction::is_dynamic_fee (#4152)
47bf60be6 fix: sub field is always serialized (#4151)
5c0ec6fee fix: exclude single stop vm trace instruction (#4149)
c412f3935 feat: add kzg_to_versioned_hash (#4085)
2338720b6 fix: use original bytes (#4150)
e43187bf7 feat: add is eip4844 fn (#4147)
b8b7ad60a Signature functions moved to rpc_types_compat (#4143)
9817a9e72 chore(cli): expose registry provider (#4144)
499ca3d15 chore: enable blobtest again (#4139)
a808f7c22 fix: omit output if empty (#4138)
628495ae8 chore: make unit type default (#4141)
072c84083 chore: improve ef-tests readability (#4136)
7f540abde feat: add rpc server metrics into dashboard (#4078)
4de1ff069 fix(Makefile): Graceful cargo-nextest install (#4009)
24def9547 chore: remove cargo deny rule for c-kzg (#4133)
7426a01a9 fix(storage): fallback lookups for pruned history (#4121)
e925cbcf3 feat(pruner, metrics): `skip` attribute for metrics derive macro (#4069)
fd7e28e78 feat(txpool) modify txpool guard to be for pipeline syncs only (#4075)
a8a2cfa7a feat(storage): account for pruned account/storage history (#4092)
88aea6312 release: 0.1.0-alpha.6 (#4132)
6622f53c4 fix(trie): account prefixset unwind (#4130)
7ea381f15 fix: hit database first for lookups (#4127)
123249fdf chore: pruner charts in Grafana dashboard (#4094)
6752db8e7 feat: add max_fee_per_blob_gas fn (#4129)
31d1288d4 feat: adds `arbitratry` to `BlobTransaction` and `KZG_TRUSTED_SETUP` (#4116)
6581961d3 chore: disable eta for headers & bodies (#4065)
517f86aa2 ask for confirmation during reth db drop (#4118)
6c90ec537 feat: add BlobTransaction network type (#4102)
ba7fa1a4c standalone rpc_types (#4088)
058c55cd8 fix(trie): include destroyed accounts in account prefix set (#4126)
b823cc017 release: 0.1.0-alpha.5 (#4111)
f47498f4e feat(cli): full storage trie recovery (#4119)
bbe9d56ef Revert "feat: add `TransactionSigned::recover_signers`" (#4115)
7fb9b8414 feat(bin): temporarily disable full node (#4112)
3d1857636 fix: bad recursion in logs (#4113)
4b0b63766 feat: add `TransactionSigned::recover_signers` (#4098)
62f39a5a1 feat: do not propagate full 4844 transactions (#4105)
f59f3a706 chore: update cargo.lock (#4110)
759eaf596 chore: unused deps sanity check (#4106)
32dd9af53 feat(cli): storage tries recovery (#4109)
91751290c fix(trie): dangling storage hashes (#4108)
40230e74f fix(txpool): emit events on discarding worst txs (#4101)
5cc3db993 fix(txpool): pending worst transaction (#4100)
c1dfa7beb feat(eip4844): include `TxEip4844` in the primitive `Transaction` enum  (#4074)
310179a39 feat: re-export `c-kzg` types and impl rlp traits (#4084)
64c8dd259 fix: record push stack as vec u256 (#4077)
269b878f5 perf: no longer spawn filter tasks (#4096)
9569debbb feat: make base fee computation parameters configurable via chain spec (#3992)
aaf2d2cf1 chore: add with ext function (#4087)
c42351432 chore(deps): weekly `cargo update` (#4086)
d8b9660e8 perf(trie): use available pre-loaded prefixsets (#4062)
e3457b886 chore: add missing op and idx fields (#4076)
a519641e7 chore: use remaining (#4082)
5298868d8 RFC: Add rpc method eth_callMany (#4070)
3aff8de23 chore: make ext fns mut (#4081)
c0abfcedf chore: rename command to NodeCommand and make fields pub (#4080)
cac4049a0 chore: relax network blockreader trait bounds (#4079)
544c51cc9 feat(txpool) feed new pending transactions to BestTxns iterator (#4053)
df94dba14 chore: explicitly set max allowed connections for auth server (#4067)
443383b30 chore: make txpool cargo test compile (#4058)
64188a398 chore(engine): downgrade new payload buffering log to debug (#4068)
b673b6c15 feat(engine): set `eth_syncing = true` if pruner is active (#4063)
ff1ef294c (feat):add private variant in tx origin  (#4059)
689b9d635 fix(pruner): tx number range with genesis (#4061)
82a2a6f41 feat: extend RethCliExt with payload builder (#4022)
3f63a0887 fix: only propagate txs that are allowed to be propagated (#4050)
6ceaad6af feat: populate gas cost for vm instructions (#4046)
0d3358542 chore: move call op match to fn (#4047)
77b7d7781 fix(engine): poll prune first (#4048)
f917d49fb fix(engine, pruner): prune poll logic, history indices (#4043)
8d0aa64ab docs: rm some tracing todos + docs
76a6c92cb perf: improve ipc poll logic (#4037)
e9cb41489 feat: add erigons debugTraceCallMany (#3878)
3f9c00ea4 perf: spawn ipc requests (#4039)
704c0987d feat: use `DepositContract` on `ChainSpec` (#4041)
ce6e24770 Fix: successful execution of 'reth stage --commit' did not write results to the database (#4027)
8c70524fc chore: dont penalize on dropped connections (#4031)
248faa4ee chore: ignore ef blobTx test (#4038)
2e1ef4dfa feat(prune): don't prune changesets if taking an incremental hashing/trie route (#4025)
94dfeb3ad fix: validate headers in full block downloader (#4034)
d595834d2 chore: make ipcpath arg default (#4036)
86ccf2f72 feat(pruner): account and storage history metrics (#4035)
bddb60b3f feat(engine): require `VALID` latest FCU status before pruning (#3954)
8f1bc8a79 feat(pruner): storage history (#4006)
88f83fca3 feat(pruner): account history (#4000)
9510a5ca7 feat(pruner): metrics (#4023)
cb0dedc8a chore: fix clippy (#4032)
b46101afb feat(cli): add max peer args (#4024)
bfbad261e feat(engine): payload cancun fields (#4010)
9430800d2 fix(primitives): nothing to prune situations for `PruneModes` (#4021)
124960154 test(txpool): listener it tests (#4019)
4b0f4ec67 fix: record selfdstructs properly (#3921)
72e6a1ec9 chore(stages): remove unnecessary prune configuration from history index stages (#4018)
a371cb8bc fix(txpool): clone impl for `FullTransactionEvent` (#4020)
4688fd2ae feat(pruner): transaction senders (#3912)
3a4419625 feat(rpc): ots_getBlockDetails and ots_getBlockDetailsByHash (#4007)
a1c3a44ce chore: fix `PrefixSetMut` doc comment (#4015)
bd28eedd8 chore: add subkey docs to `StorageEntry` (#4016)
335908c07 Update lib.rs (#4017)
b28bc8de5 chore: add example how to install additional rpc namespace (#4005)
e560b063f Fix preState diffMode logic (#4014)
27c65d291 fix: track full_transactions propagation when packet size limited (#3993)
9a7911b49 feat(bin): `node --full` flag (#3965)
dee14c7b4 fix: serde rename revertReason (#4002)
a1e68151d feat: Add RethCliExt (#3983)
c0544ed7e feat(p2p): Add `GetReceipts` eth handler implementation (#3959)
134fe81ef feat(pruning): prune ChangeSets & History during pipeline (#3728)
1ac2f15f1 feat: reth db diff (#3917)
582325503 feat: store logs in different folders based on the chain (#3948)
0b913e226 fix(pipeline): clear `MerkleStage` checkpoints on invalid root (#3973)
3118e27d9 fix(tracing): extend Parity tracing VmExecutedOperation (#3997)
da3bc64fb fix: prevent child call out of bounds (#3920)
56b2ef19b ci: add weekly cargo update workflow (#3986)
922d35df0 chore(deps): make jsonrpsee types a feature (#3999)
e2142481c chore(deps): bump itertools (#3998)
ed3d7366a docs: add additional documentation to `TxType` (#3996)
73652ed3b chore: bump jsonrpsee 0.19 (#3989)
f41386d28 chore: cargo update (#3988)
555a1dd2b ci: deny warnings only in lint jobs (#3982)
334d6068a  feat: add 4844 header fields and consensus checks (#3972)
15bb1c90b feat(txpool) - add flag for local tx propagation (#3977)
b05b84823 add defaults to some rpc server cli args (#3969)
d8677b414 chore(txpool): pooled tx constructor (#3980)
c33f93004 chore(txpool): export validation constants (#3979)
c04f3e443 WIP: Implement prestateTracer (#3923)
703d5c705 feat(cli): in-memory merkle debug script (#3895)
089283384 refactor(rpc): simplify the inner definitions of topics & address filters  (#3876)
d2cdd10ed Add price bump config (#3967)
4d31b3ae6 chore: update link to contributing/code of conduct in bug report (#3978)
efd4895c4 chore(rpc-types): remove EngineRpcError (#3975)
3601e7dfa fix(txpool): pendind pool reordering (#3955)
f3a7ae125 perf(rpc): move frame gen into task (#3950)
369b9a79c feat(eip4844): add `EIP4844` to the `TxType` enum (#3953)
465f0dc2a fix(cli): eta div by zero (#3971)
68a74b2e1 chore: move some tests to engine crate (#3968)
a298756d9 bench(txpool): reordering (#3882)
e651a184d refactor(transactions): move TxEip1559, TxEip1559 and TxEip4844 to separate files (#3946)
2aae8c82e chore: move some functions to Cli struct (#3961)
fc431bc54 chore: make auth-port default (#3962)
717bad8b6 feat(rpc): perform js inspector on `spawn_with_call_at` async tracing task (#3957)
f577e1478 refactor(storage): historical state lookup (better comments) (#3867)
4ab924c5d feat(doc): Document `JsTracerBuilder` (#3949)
0147e5033 feat: more blobtx functions (#3943)
f98b1524b feat: add fcu v3 skeleton (#3940)
72ab361d6 feat: add eip4844 tx type id (#3928)
b5a44aeb3 feat: metric of reorg depth of blockchain tree (#3860)
9adab0ba7 Revert "test(ethereum): ignore invalid string sequence in ethereum state tests (#3307)" (#3937)
adce7eae0 test: cover index storage history stage with stage_test_suite_ext tests (#3898)
a71ad1e8d docs: `db clear` CLI (#3936)
74bbe5afa fix(stages): transaction lookup stage checkpoint calculation (#3909)
aa5d39dd6 feat: add Hardfork::Cancun (#3933)
96b108f25 feat: _V3 engine api skeletons (#3931)
0cfc42429 feat(pruner): percentage progress and prune only if key exists (#3932)
1c4d12748 feat(bin): `db clear` (#3934)
49e112789 feat: use tracing pool for tracing calls (#3914)
8cdb09782 chore: simplify workspace = true usage (#3930)
caa26833a rpc server metrics impl (#3913)
d5ea16815 Reexport geth pre_state AccountState, DiffMode and PreStateMode (#3922)
736de2028 feat(pruner): transaction lookup (#3892)
9a07f5776 feat(prune): take `PruneMode::Full` into account when validating the config (#3810)
19aa11834 feat: add dial metric to dashboard (#3802)
4a24ae255 fix(rpc): support both input and data fields (#3911)
af604289b chore: use ruint 1.9 and remove patch (#3910)
076c91a91 feat: add Tracing call pool (#3908)
1c4e19bad feat: add alias for max response size (#3902)
f7e887fb3 chore: add execution aborted error (#3901)
dc5265001 chore: add eip4844 constants (#3906)
ab9a2e6c2 chore(storage): format MDBX flags doc comments (#3905)
1b31a55d6 feat: add a `--dev` option (#3866)
34fc89bd1 feat(docs): add primer on all transaction types (#3897)
ea11787d7 chore(trie): clean up in-mem root (#3894)
993b84408 feat: add canonicalization latency metric (#3865)
9b9ae82b2 feat: report different request errors (#3857)
019ead37f feat: sidechain length metric (#3864)
dd6dbfdb7 feat: add eip 4844 blob tx type (#3807)
609cab872 chore: improve TestConsensusEngineBuilder ergonomics (#3891)
b69a18dc4 chore: refactor header stream (#3880)
1ca7f3ae4 feat(pruner, storage): prune receipts & save checkpoints to database (#3733)
0ff75b501 fix: do not perform future timestamp checks post-merge (#3884)
2581c24a6 ci: run bench on large runner (#3889)
6e283cdbf ci: reduce partitions (#3890)
88376e3bd test: cover index account history stage with stage_test_suite_ext tests (#3383)
3ff9be6d4 feat(rpc): ots_hasCode implementation (#3886)
cb0947d7c ci: use large runners (#3888)
b3c8a98a6 chore(ci): build tests in release and filter features (#3885)
08403c80e feat(rpc): ots_getApiLevel implementation (#3861)
5e5bde88a docs: add 30303 port to plain docker example (#3877)
62f3af674 fix(autoseal): calculate logs bloom for block headers (#3869)
15781beda fix: convert empty topic vec to vec None (#3856)
c878a9f48 chore(txpool): move basefee to u64 (#3872)
95cbff31f ci: add another it partition (#3871)
0b012ab66 docs: describe windows dependencies for source builds (#3786)
8720a5189 docs: prometheus defaults to target itself at 9090 (#3792)
fb2d0a22f docs: add subsection describing build process on arm devices (#3854)
39cd0e071 chore(grafana): make instance selector single-value (#3805)
815cac7dd chore: reorder fields (#3832)
6c151d349 chore: bump default max response size (#3850)
7476120d8 feat: wrap gas limit into a new type (#3841)
0fcb338e2 fix(rpc): trace get is index not trace address (#3852)
0fabd8317 chore: refactor autoseal execution into method (#3844)
873607502 feat: add reorg metrics (#3824)
4ed7abd1a fix: use empty pipeline and executor by default (#3845)
4a86aae21 ci: re-enable workflows on main (#3849)
a38b57821 ci: increase number of unit test partitions (#3848)
bdb23b370 docs: rm link to make cargo docs happy (#3843)
170e6f24d feat(rpc): Add ots_ namespace and trait bindings for Otterscan Endpoints (#3778)
314e56119 feat: add key gen util and simple fcu validation test with custom alloc (#3842)
b8587a2ca chore: set trace result to null if non revert or selfdestruct (#3840)
0e05085e5 feat(book): more precise disk requirements (#3838)
5ad9b32cb feat: let consensus tests configure pipeline, executor, and client (#3839)
34c9abe24 feat: implement reth_getBalanceChangesInBlock (#3768)
0f810222e feat: add builder type for eth tx validator (#3828)
0ef68b7d6 fix: map more errors to messages (#3837)
9313eda6c feat: add timestamp to pool update (#3833)
e66464b14 chore: rename missing_parent to missing_ancestor (#3822)
768637144 feat: build local pending block (#3811)
20a06e840 chore: add traces for _new_ invalid blocks (#3821)
26b1ffa92 chore: make clippy happy (#3827)
ec672238c chore(ci): enable docker push on workflow dispatch (#3825)
9c69f0438 chore: fix SessionManagerMetrics typo (#3823)
8b66213e1 chore(deps): bump some deps (#3820)
01e1344cc chore: use 50M default gas limit for calls in rpc (#3812)
eb32fd3c6 feat: add network txpool example (#3809)
d095db50c feat: add `yParity` to rpc signatures (#3800)
b2b2cbedb chore: bump version .alpha4 (#3808)
a0e125f70 feat: make rpc gas cap configurable (#3458)
6d1e8a2ec feat:new discovered node record event stream (#3707)
07b06b4ef chore: use best with base fee (#3804)
90b6d006d fix(stages): update entities metrics on `SyncHeight` event (#3796)
6934428be feat: better blocksize heuristics (#3748)
d001313f9 bug(stages): TxLookup/Sender stages fix range if there is no tx (#3479)
99a8e0f98 feat(txpool): add best_with_base_fee (#3737)
9a00f04d7 feat: reload dirty accounts if pool drifts (#3732)
64d58456d fix: rpc cap block range correctly (#3791)
da13ef688 fix: concurrent ipc driver impl (#3790)
e12883ede feat: txpool block building fallback (#3755)
be656c239 feat: trim cmd args in parser (#3789)
300b49668 chore(tree): remove revert notification (#3645)
2748bed86 chore(downloader): simplify bodies task polling (#3788)
c1b1eac50 chore: make some session types pub (#3666)
77faa04ca feat: remove peers after several unsuccessful attempts (#3780)
bc91cafab fix: remove single body response check (#3783)
c0cafc7a4 chore: enable jemalloc by default on unix (#3735)
d1610f3df fix: add unknown block error (#3779)
715d41dbc adding row for  total db size in db stats command (#3777)
3b16a6b46 fix: add missing null check (#3766)
e3ac77a23 perf: only lookup in db in cache layer (#3773)
ad4c590b6 fix(rpc): make trace filter req field hex or decimal (#3772)
f78f0302f fix(rpc): serialize traces always as vec (#3770)
307fc10ab chore: add some txs helpers (#3767)
ac12cc473 chore: fix typo in RlpDecodableWrapper derive (#3763)
99f00eb8c fix: return null withdrawals (#3762)
7edab9748 fix: poll logic when pipeline active (#3761)
4c7f980c7 chore: add network example (#3753)
f3e13db71 chore: reorder call action fields (#3758)
8bfc3d093 test: ignore another flaky geth test (#3757)
f6646aa45 #3667 Add Dial Success Metric (#3729)
9e330f111 chore(storage): transactions -> receipts in `receipts_by_block` (#3744)
bebc2b433 fix: serialize selfdestruct as suicide (#3736)
f0cf93e0f feat: complete vm and statediff tracers (#3529)
637506f17 fix(consensus): call `finalize_block` when finalized block changes. (#3731)
99240906a fix: perform forkchoice update consistency checks (#3730)
6799fc360 fix: use engine responses to progress autoseal mining task (#3727)
dbafe23cc feat(bin, engine, prune): spawn pruning task from the engine (#3566)
a7eae8cfc fix: register precompiles correctly (#3720)
e2218bea3 fix(provider): update checkpoints only for known stages (#3624)
5dd4bc6be fix: use tx gas limit for root trace (#3719)
94ba83f63 docs: add a few more docs to ControlFlow (#3603)
7fa032f9c test: fix engine hive of `Invalid Transition Payload Sync` (#3710)
5609a3905 perf: only update finalized safe if changed (#3725)
718d811ed Chore(book): correct the grafana dashboards json path (#3724)
65c7c1c4f chore: use `transaction_by_id_no_hash` to avoid hash computation (#3718)
fbdea3037 fix: treat bool params as invalid in logs subscription (#3716)
94129631c feat(primitives, storage): save prune checkpoints in database (#3628)
1763b5ea7 perf: handle engine API range request in a new task (#3685)
2effa942e feat: add performed pool state updates metric (#3714)
8f2e0cd7f feat: add txpool maintain metrics (#3715)
a39ee4a23 docs: how to enable JSON-RPC endpoints for http/ws (#3711)
b07dfb552 fix: transaction calls on the reth-provider should not generate a hash by default (#3675)
65b07b981 feat(pruning): prune `Receipts` during pipeline (#3585)
467f6f919 fix: check if value is bool (#3708)
2bc5e19ed chore(prometheus): add host.docker.internal:9001 scrape target (#3689)
139ab9358 test: `eth_getProof` without storage proof (#3643)
4b261cef4 style: replace next_sync_target Receiver loop with call to `wait_for` (#3618)
ad2a8a5a1 chore(deps): bump pprof criterion (#3698)
ab2dc7036 chore(deps): bump smolstr hex-literal (#3693)
7a1a48a8e test: add payload status error serde tests (#2803)
3910babb9 feat: add full pending txs to stream (#3649)
c8d0e7e9b feat: run pipeline if latest finalized is far from pipeline progress (#3662)
91dd78224 feat(config, primitives): validate Receipts prune part (#3587)
31af4d55b release: 0.1.0-alpha.3 (#3691)
7d33db874 feat: add subpool transaction streams (#3668)
93a6ff98a feat: enforce txpool propagation setting (#3677)
d35531e79 fix: remove txn header from getPayloadBodies (#3688)
6cbb639f6 fix: expose the revm_utils to consumer as needed structs from it (#3686)
f20117666 chore: use units on dashboard (#3684)
15b21a031 feat(stages): trace log for metric event receive (#3670)
b68116c9b fix(tree): update metrics only on canonical/side chain changes (#3671)
f116040e6 fix: expose call method so a consumer can use it (#3680)
1330fc11d add build profile to version info take II (#3669)
42a824cf9 Add propagate field to TransactionValidationOutcome (#3664)
a7f32dbb0 chore: add a few noop functions to builder (#3659)
74b21c108 feat: support all alias (#3660)
93865ef91 pop duplicates entries when returning downloaded blocks in engine (#3644)
526f624e1 test: tmp ignore another flaky geth test (#3663)
f3d7988f6 release: 0.1.0-alpha.2 (#3657)
21db2936e ci: pin ubuntu to 20.04 to avoid glibc errors
9e9e2b22e Revert "add build profile to version info (#3652)"
15bd88c30 fix: subpool variant order (#3656)
0d76dd762 chore(txpool): enriched pool transaction event (#3653)
5cc55dbc7 chore: add missing helper functions and docs (#3646)
db77c279d add build profile to version info (#3652)
b8a547670 chore(prometheus): add `localhost:9001` scrape target (#3606)
fdc8a0532 fix(txpool): emit replaced events (#3642)
5d904eba1 test: use concrete type for arbitrary strategy (#3632)
bfa84bb1b Match statement for handling error messages - reverted and default case (#3640)
a66a1286a fix: rm bad flatten (#3637)
fb898d05b fix(docs): fix malformed link (#3635)
aef9480da chore: move BeaconConsensusEngineHandle to separate file (#3633)
77cd4abbd fix: put attribute on correct line (#3636)
6d5b6c66b fix: rm outdated flatten (#3630)
350f1a1e4 fix: populate transaction trace error field (#3627)
73bfb2c9a chore: remove network-api test-utils feature (#3622)
c4f02425e chore(engine): warn on inconsistent pipeline (#3623)
d9dc9aac9 chore(book): document missing CLI arguments (#3610)
93d66ab32 docs: add homebrew and arch aur (#3620)
6347aacd1 chore: add commit to client version (#3621)
f3c7a8253 refactor(stages): use `MetricsListener` for Execution stage gas metric (#3511)
596d32686 feat: download block ranges (#3416)
09fe22f47 feat: add error field to parity transaction traces (#3611)
428a6dc2f fix: correct types in `libmdbx-rs` for windows (#3608)
81bd01ec6 docs: note that only wsl2 works (#3609)
64dec6e36 ci: remove broken book workflow (#3613)
4e2712bef refactor: extract exceeds pipeline threshold (#3605)
d120effa5 perf(trie): post state cursors (#3588)
9309279a2 doc: book cli updater (#3576)
64ca52145 feat: add ethereum-metrics-exporter (#3573)
e7cedee41 perf: only record return value if required (#3040)
fc540c60f fix: use refunds for root call (#3594)
7d8f0c7f8 docs: add transaction pool example (#3596)
5b246fe29 feat(book): recommend more CL checkpoints (#3601)
338d6d5d9 fix(book): change recommended `--authrpc.port` value from 9999 to 8551 (#3599)
3806a0c25 chore: change field TransactionTrace order (#3598)
2e436b560 docs: remove naked link in installation (#3595)
12f792560 Revert "feat: add cargo binstall support" (#3602)
706fc4181 feat: add cargo binstall support (#3578)
ceb4e355a test: add test for state override json (#3586)
d4f505c95 fix: use same stale label for prs (#3593)
a932e2f1f perf: better engine downloads (#3584)
ab2fc7e17 fix: use DatabaseRef impl when fetching overriden account (#3589)
9cd31f148 perf: put all prefix sets in Rc (#3582)
1e3f0c0e8 refactor: extract on pipeline finished (#3590)
7da36e042 feat(txpool): all transactions event listener (#3565)
c236521cf docs(trie): hashed post state & cursors (#3572)
982131158 docker: don't ignore examples (#3570)
698059d8b feat(cli): txpool args (#3575)
a7431465f chore(`crates`): deprecate `staged-sync` (#3564)
b4801f9e2 chore: add stale workflow (#3556)
24f9147fe feat(book): adding QLC and TLC NVMEs comparison (#3562)
64554dd0f fix: add missing single block body download validation (#3563)
8025b0547 docs: update bodies config (#3553)
d7259f002 docs: update rpc cache flags (#3552)
7de2846a9 docs: minimum docker engine version (#3546)
d848668fb fix(rpc): fix parity tracing config (#3549)
228f6479b chore: export `TransactionPoolExt` trait (#3548)
da58e39c2 feat: add docker compose with docs (#3496)
770652a78 feat(bin, storage): configurable MDBX log level (#3524)
4d3ce3490 docs: add payload builder example (#3545)
764e58d65 fix: create a test db with path (#3482)
6919b3dea chore: run tests with coverage in `Makefile` (#3418)
766f520c1 examples: add examples of using reth-provider and instantiating an RPC on top of the DB (#3533)
0aeffe96b nit: spelling (#3539)
d80c8a7b5 feat: add NoopTransactionPool impl (#3536)
e0748f741 perf: join futures in tracing (#3541)
73eeca0e2 fix(codec): fix last field compilation check  (#3543)
f2f3425f1 chore: fix clippy (#3540)
4f32f5627 fix: add block rewards to `trace_block` (#3491)
951fd0ae0 feat(stages, tree): update sync metrics from blockchain tree (#3507)
e0d573567 feat: add another distance check (#3501)
d14f995e1 test: improve slow tests (#3487)
9fc950697 chore: add TaskManager must_use annotation (#3525)
1e3092b77 fix: precompile condition (#3526)
7c3c8ab97 docs: add additional context to internal tracing error (#3531)
1c796f24f chore: rustfmt (#3532)
419a35e9c some docs nits on installation (#3528)
2126c01a4 feat(error): add wrappers for `std::fs` methods to track path for errors (#3367)
e468e15e9 fix(book): typo (#3521)
de1323921 chore(rpc): split cache into multiple files (#3519)
56674ade0 chore(download): bodies downloader size limit (#3508)
7cb4a71cf chore: rm cached bytes gauge (#3513)
02492daac fix(cli): consistent max block across pipeline and engine (#3510)
8be06843e fix(rpc): limit cache by length (#3505)
927b47e65 chore: docs typo (again)
d448bf4f6 chore: docs typo
777fce5ba docs: add note on hardware + latitude discount code
7e7f5e63d chore: fix docs for bodies downloader task (#3506)
83b14cb61 feat(bin, stages): metrics listener (#3483)
10db78618 chore(rpc): add cached bytes metric (#3502)
f08a863e1 chore: add total-transactions metric (#3500)
886828bad feat(rpc): cache metrics (#3499)
5c7d5a3b3 feat: make chain canonical if new payload is the missing block for current sync target (#3459)
07e81c0e7 chore: bump default max logs (#3498)
20ed70b1c fix: always return logs of single block range query (#3497)
b225b4790 fix(engine): logs for new payload v2 (#3494)
84875e90d feat(txpool): add transaction_event_listener function (#3493)
50f4e5de9 chore(deps): move proc-macro and syn to workspace deps (#3492)
3d91383df fix: only check timestamped forks after the merge (#2503)
3dcc76e2b fix: use correct address for log (#3481)
c3ea430e4 refactor: move `mdbx::test-utils` to `reth_db::test-utils` and add `DatabaseEnvRO` (#3466)
7850cc0b8 test: disable flakey test (#3486)
02059387b chore: rename invalid header metrics scope (#3468)
793838975 chore: put EthPubSubInner in Arc (#3463)
40f2a5100 chore: replace Option<Vec> with just vec (#3474)
26b80f4f9 fix: set missing record logs (#3472)
8dedf0f2e chore: fix update prios link (#3478)
0ec32255e test: set --authrpc.port to 0 for Geth instance (#3476)
dcae84a2b chore: mirror geth's encoding order for callframe (#3473)
f9d9387c9 docs: update call fees docs on fallback (#3471)
b0df0262e test: run geth blacklist test also serial (#3469)
f49feff5a chore: phase out some ethers usage (#3467)
d3465e2e3 feat(stages, storage): pruning configuration (#3341)
ee322769c feat: add default max readers 32000 (#3465)
b7c977765 perf: check distance to downloaded block if finalized (#3451)
41ac27bd4 chore: jemalloc and process metrics in Grafana dashboard (#3455)
10a5737a5 fix: Use random port for port reuse test (#3457)
a53af3a0f refactor: move `init_db` to `reth_db` and add `DatabaseEnv` (#3450)
6e2fa845d feat(bin): process & jemalloc metrics (#3435)
6b8b478c6 chore: get rid of some duplicated execution code (#3447)
bb57556a6 chore: split consensus and revm codecov spaces (#3438)
0e6dd4c88 perf: update chain tracker first (#3431)
6b7b89bc6 fix: docker build COPY dest should be abspath (#3425)
1b13616fd fix(rpc): commit call state in trace call many (#3437)
c3dda470d fix(book/jsonrpc): copy/paste typo (#3429)
d7bc30eb7 fix: add InsertBlockErrorKind::is_invalid_block block function (#3423)
7984a7265 chore: use existing get sealed function (#3426)
d4df89616 chore: move on_canonical_state_change to TransactionPoolExt (#3422)
0a6b01853 feat(storage): do not require `Default` for `derive(Compact)` (#3419)
e10ab387a refactor: `Stage` `execute` and `unwind` take an immutable provider reference instead (#3390)
46dd5b848 chore(txpool): generic maintenance task (#3379)
ee8b1ebe1 fix: keep log guard around until program exits (#3415)
085a703d7 refactor: add `BlockWriter` and `BlockExecutionWriter`  (#3384)
d3d44fd46 feat(cli): clean up log level features (#3414)
9721ecfc6 feat: add getBlockReceipts (#3321)
90a99476c ci: report coverage by component (#3273)
5a1d58aa2 feat(book): add consensus layer explanation in book (#3413)
f31a2e325 fix: print auth server addr (#3410)
007c04e29 ci: split checks across pr/merge group/main (#3405)
682dfc11a feat: track invalid headers hit counter (#3408)
112313e55 feat: add pending block with receipts (#3404)
28897d7c1 perf: fetch receipts and transactions concurrently (#3406)
6d4fe271f fix: exclude non source files in .dockerignore (#3387)
3c126a04d fix(txpool): gas cost ordering (#3389)
e9caf3de7 refactor: re-implement `eth_feeHistory` (#3288)
0096739db doc: add reth logo to docs (#3317)
23a99d416 feat: support multiple nodes in grafana dashboard (#3336)
49922bfd8 feat(revm): store access list storage keys sorted (#3386)
054f30f43 chore: rename `Block*Provider` for `Block*Reader` (#3385)
9c1b48b98 chore(provider): simplify history inserts (#3356)
30a1ad258 feat(ci): validate Grafana dashboard JSON (#3382)
9b2a2fbca doc: self-documented `Makefile` (#3380)
46d4795f4 feat: log & receipt test generators (#3357)
add1abfeb perf: lower pipeline run threshold to 1 epoch (#3375)
63fbc48c6 chore: Error -> Failed for failed make_canonical call (#3376)
48ee8e096 editing some code comments in the payload.rs (#3372)
be9aed489 feat: add link to Grafana dashboard config file on docs (#3373)
1777a20d2 doc: minor fix to mainnet run book (#3374)
05eada7aa fix: add receive budget (#3361)
8dd7a7835 feat: add transaction validation task (#3358)
b787d0999 perf: reduce p2p message capacity (#3371)
4c84d22e3 chore: rename to_session variable (#3359)
02673f230 fix: use RO database for read only commands (#3368)
db05e42ff docs(trie): fix typo (#3366)
a3c66f36b chore: shrink request buffer (#3363)
cff4aa7b2 chore: shrink session buffers (#3360)
faeb61255 fix: flaky addr in use test (#3364)
c2ad5a222 feat: add transaction pool metrics graphs (#3348)
2b1a34116 chore(provider): simplify history unwind (#3355)
be58d1c28 fix: use metered poll fns (#3353)
f4d7a6a36 chore: `ShardedKey::last` helper methods (#3352)
a66a350cf chore: simplify usage of `IntegerList` (#3351)
3e07a5d50 chore: move `AccountWriter` methods to `HashingWriter` and `HistoryWriter` (#3332)
f7d475643 feat(cli): `jemalloc-prof` feature (#3322)
d60aef5a1 fix: insert genesis account & storage history (#3346)
e8b09cc59 feat: add pending receipts (#3320)
a4c2f5f69 feat: add metrics for tx channel (#3345)
3390671cb chore: add pending imports metrics (#3344)
d7467e86b fix(sync): merkle current block logs (#3326)
6810cd129 feat(db): add helper enum for table name (#2935)
0dfb757a1 fix: reorder blockchain tree row (#3337)
164d3abdd docs: fix typo in config.md (#3333)
559018f2c feat: add U64HexOrNumber type (#3329)
052f5cb97 test: add another genesis test (#3334)
cb298788d chore(ci): add missing Hive `rpc-compat` methods (#3331)
9e72cbf6b feat: js built in functions (#3161)
2aa1cec90 feat(rpc): report JWT path in case of an IO read error (#3324)
0ebdba6c6 feat(tasks): pass downcasted error from panicked task (#3319)
68b93a88d refactor: adds `StorageReader` / `HashingWriter` / `HistoryWriter` (#3285)
a9147ba2f fix: remove duplicate tree graph (#3315)
b0f57bf97 feat: add invalid headers metrics (#3314)
5cd214878 chore(cli): display latest available block number in status logs (#3316)
1d3bab64a refactor: add total distance in log message (#3292)
f6cd75a47 feat: add engine api graphs (#3313)
d7dd474a1 chore: improve invalid block warnings (#3312)
b2f4ba449 feat: add blockchain tree metric graphs (#3310)
48bdb63a9 chore: convert debug into warn (#3311)
dc74fad81 test: add support for seeded rng (#3270)
938b97970 chore: bump engine server size limits (#3308)
a4a15ab81 refactor(rpc): gas allowance calculation (#3304)
44da38159 feat: add initial blockchain tree metrics (#3289)
259693446 fix(rpc): use max gas limit if no transaction gas is specified (#3260)
77167134d docs: document crate features (#3269)
704223010 chore: remove unused client feature (#3300)
5b20aece2 chore: move bytes to workspace dep (#3302)
ee4f6b32a chore(deps): bump test-fuzz 4 (#3303)
7b77fc1b6 test(ethereum): ignore invalid string sequence in ethereum state tests (#3307)
8fd3cd2d8 feat(stages): replace `progress` by `block_number` in `PipelineProgress` (#3256)
35b005ea0 feat(revm): `record_logs` boolean in `TracingInspectorConfig` to limit log record (#3286)
0c222e525 chore: update defaults in builder (#3299)
00e6adfa5 perf: handle sync and engine messages in same loop (#3276)
6c1719314 docs: describe `reth db version` in book (#3296)
b578718eb chore: change `metrics` default port from `9000` to `9001` (#3295)
4dd9c9b25 chore: make clippy happy (#3291)
b1c77b396 fix: rm `node` from dockerfile entrypoint (#3275)
0a752d741 perf: fetch total difficulty by block number (#3284)
c328c8234 fix: fix index out of bounds error if block is empty (#3281)
e78d2fc0b chore: improve empty hardforks panic message (#3279)
ac887ce52 chore(book): add missing db commands (#3277)
a450eb1b9 docs: images (#3280)
be9f94de8 docs: mention jwt is in datadir (#3274)
6aee59a68 docs: update cover
c0fba3578 chore(book): troubleshooting db issues (#3271)
4c9e112a4 feat(db): `reth db path` CLI (#3272)
8eeba4dcc chore(ci): book lint (#3266)
236a10e73 fix: give js service access to modified state (#3267)
fb710e5fd fix(book): broken links & missing `SUMMARY.md` entries (#3262)
c75cacf85 docs: fix install link in readme (#3265)
1d0c65b09 docs: document `e-` labels (#3263)
a98bbf722 chore: link to ghcr in draft releases (#3261)
b2451931b release: v0.1.0-alpha.1 (#3241)
07b499f11 perf: spawn engine as blocking (#3257)
729d4ad30 fix: dont panic on invalid opcode (#3255)
8dfdf658a chore: decrease pipeline threshold to 64 (#3249)
501fd0d92 chore: ask for more info in GitHub bug issue template (#3246)
99b26ba2e docs: add install link to readme (#3248)
6f854dc83 chore: `db-tools` Make target for MDBX debugging tools (#3245)
d3d23b445 ci: fix book deployment (#3247)
c702efb9b docs: config chapter (#3173)
255780d38 feat: run pipeline only if missing range is large (#3059)
c48198755 feat(blockchain-tree): add `Display` for blocks in `Chain` (#3230)
79aa9cb2c feat(bin): `db version` CLI (#3243)
7ab8a7f3e chore: use workspace version (#3240)
2b6a0468f feat(bin, storage): db versioning (#3130)
d02c87d20 chore(primitives): reorder `StageId` variants (#3238)
35a8096b0 fix: use latest header in autoseal (#3239)
0ffb9c565 feat: display hardforks on startup  (#3227)
4709fcf16 feat(txpool): add price bump for `is_underpriced` transaction check (#3202)
c46c11b3d fix: don't send engine events for dupe payloads (#3231)
71d6d7b48 chore: make block hash not found a warning (#3234)
b9c19e82b chore: block gas limit constant (#3224)
1049202f0 chore: move `update_pipeline_stages` to `StageCheckpointWriter` (#3229)
96abde096 chore: `AccountProvider` -> `AccountReader` & `AccountWriter` (#3228)
13dcfb8e6 chore: expose txpool types that enable implementing `TransactionPool` trait (#3225)
9484de09f ci: use `actions/deploy-pages@v2` (#3223)
efb100c12 fix: fork id decoding from enr response (#3220)
dce1e655c perf: better state retrieval (#3221)
187af8b38 test: add another fork id test (#3219)
f44010b88 feat(config): missing stage configs (#3215)
37e8f7b14 perf(provider): return empty ommers after merge (#3222)
a8be68a82 fix: prevent panic in trace call (#3216)
9e32b48bb perf: calculate trace address on demand (#3217)
547911ac1 fix: set call trace gas limit with call inputs gas limit (#3214)
fe59bc893 feat: set max response size for auth server on start (#3157)
017c9cea9 chore: move stage methods to `StageCheckpointProvider` and add `StageCheckpointWriter` (#3195)
e252cd6a2 fix: dynamic batch size for tx lookup stage (#3134)
0d9e1f499 chore: replaces `tx.get::<Table>` with provider methods (#3189)
bb1ffd059 fix(bin): calculate ETA only if `EntitiesCheckpoint` is present (#3206)
d6092cf1d feat: support nonce and balance changes in state diff tracers (#3199)
348076cce Typo in db.md (#3213)
6d81d0c9d fix(rpc): enter,exit functions dont take db object (#3207)
bd9b99321 test: more js testing support (#3211)
94d0f3e9e chore: better highlight panicked task name (#3205)
3ace10d83 refactor: phase out ether genesis in primitives (#2311)
b90d0b410 chore(provider): remove transition terminology (#3198)
81963a17c chore: remove unused methods on `DatabaseProvider` (#3196)
bded94ef9 perf(rlp): improve uint encoding performance (#3197)
5e0508b97 fix: shrink queued bodies and headers when drained or split (#3191)
5375a2dd6 feat(consensus): adding `warn!` for insertion in `invalid_headers` (#3194)
2178035d2 feat: add js debug test utils (#3153)
85085896a fix: encode forkid entry in struct, accept trailing fields (#3193)
144f4bdce ci: fix required checks (#3192)
691d0f91a fix: poll sync controller once if pipeline sync is pending (#3179)
ab2a38a54 chore: replace `ExecutionStage::read_block_with_senders` with `BlockProvider::block_with_senders` (#3168)
67593ca74 feat(metrics): split `DownloaderMetrics` into body and headers downloaders (#3171)
0b876de27 docs: add some content to dev section of book (#3183)
0d691fee1 fix: mark state as synced when transition to live sync (#3187)
2588d9282 feat: try to canonicalize safe and finalized (#2971)
93f9433bd feat(bin): display ETA with second precision (#3186)
32e642d6b fix(stages): disable index history stages checkpoints (#3178)
f25fcca33 chore: Cargo.lock out of sync (#3185)
e6dd57663 fix: use eth namespace for filter trait (#3184)
081df84f9 chore: use std HashMap (#3182)
600f3eac8 chore(rpc): simplify GethTrace type (#3180)
83b4c5517 docs: readme pass (#3174)
01b0143ec chore(sync): remove progress terminology from test macros (#3177)
e8a5ba1d5 perf: reduce more allocs (#3176)
49adb8de0 docs: various book chores (#3172)
ff36f78c2 feat: stage eta (#3135)
64392209e perf: reduce allocations in changeset helpers (#3169)
5bb090cd9 refactor: trigger pipeline with finalized hash (#3142)
3a90eac8b fix: exclude calls to precompiles in call graphs (#3141)
4466fad37 feat: put blocks on right side with separate axis placement (#3170)
a96799614 Update installation.md (#3167)
4d3d4974a feat: add downloader buffer graph (#3165)
ce4600b5b fix: use serde json value for tracer config (#3154)
9b81043a5 chore(deps): move ethers to workspace deps (#3145)
a7c7b48fe chore: update ef-tests crate description (#3151)
55b6081bd feat(rpc): add helper function to also return the used state (#3147)
518784205 refactor: convert closure into function (#3144)
3bba41a20 fix: chunk size edge case (#3143)
cf10590e4 feat: add js tracer (#3100)
76302d945 Fixed compilation error (rename shareable_db to factory) (#3138)
209d2445b chore: rename `ShareableDatabase` to `ProviderFactory` (#3121)
724f480bb Revert "refactor(stages): input target reached & output done checks" (#3136)
ea2fcee99 chore: use workspace dependencies (#3132)
fe40a92f0 feat(bin): sort `db stats` rows (#3125)
3637482f3 chore(stages): raise transaction based commit thresholds (#3128)
39c6b2282 feat(rpc): rename `Client` generics to `Provider` (#3126)
225e05267 fix(cli): commit on stage run unwind (#3129)
c928f2c18 test: fix failing rpc test (#3127)
e15805d9d chore: share provider on `find_canonical_header` (#3122)
790b44393 Update transactions.rs (#3094)
6752d624a refactor(stages): input target reached & output done checks (#3119)
0561675bb feat(trie): convert `vec` to `Bytes` in `Nibbles` (#3120)
e43455c2c fix: re-enable the geth genesis format (#3116)
f55d88b8c refactor: remove `Transaction` and add `DatabaseProvider` to stages (#3034)
cfdd88d39 feat(rpc): add `BlockOverrides` in `trace_*` (#3102)
adf4ae124 book: fix book installation link (#3113)
63db481c2 Small typo (#3112)
7ec4b0a5c Revert "refactor(stages): input target reached & output done checks" (#3114)
9a8c680e0 refactor(stages): input target reached & output done checks (#3106)
e0cdb0bc0 fix(stages): save full block range to index history checkpoint (#3107)
c51a222b2 docs: update CLI reference in book (#3105)
43a2d0946 docs: add rustdoc to gh pages (#3104)
83a032dad chore(engine): run pipeline on start if any of the stages is lagging behind (#3089)
ff13ec360 chore: map provider error variants to blocknotfound (#3110)
865e0363b chore: bump default rpc response size (#3108)
5b0536bd7 feat: add util function for fetching tagged headers (#3097)
1ee8f6ff3 feat: add ParityTraceBuilder::callers (#3099)
d65032ee8 docs: book pass + rpc chapter (#3070)
b19e12341 feat(rpc): add `block_overrides` in `eth_call` (#3096)
86a130b68 chore(clippy): make clippy happy (#3090)
6ef3e12fa Put ChainsSpecs in Arc<> (#3075)
1ff26dd2f feat(stages): unwind on detached local head (#3066)
b414eee01 feat: support block overrides (#3080)
9924b4725 perf: use cached reads across payload jobs (#3083)
452ea4399 chore: move extradata bytes to function (#3085)
060872686 perf: cache all receipts of new chain (#3079)
c2c237871 chore(stages): add missing TD stage to doc comment (#3086)
8a2281e4c fix(stages): check for empty block range and return previous checkpoint (#3008)
4bfbd3a53 Set namespace in one place (#3084)
9fae70d18 chore(net): warn -> debug logging (#3081)
6bf64651b chore: replace todo with error (#3078)
6da3290a3 fix(bin): unwind CLI `to-block` behavior (#3077)
e4c178988 feat: add rpc-testing crate (#3069)
ab6fff92a feat(bin): log forkchoice status on FCU (#3067)
48d6a9c5d fix: increase tokio thread stack size 8MB (#3071)
c1bc3edd4 refactor(primitives): `stage_unit_checkpoints` macro (#3025)
6c56e9b14 chore(stages): cleanup execute/unwind logs (#3055)
cb542ab9d chore: improve genesis hash error message (#3062)
7a63d97b4 fix: don't account for refunds after call (#3065)
0f14da756 fix: use gas limit for gas (#3063)
529c8e003 refactor(stages): `previous_stage` -> `target` in `ExecInput` (#3030)
7cc69d52c feat(stages): remove changeset commit threshold in Execution (#3050)
1075995ef fix(bin): CL health events conditions (#3052)
3aff8bcd1 chore: use new is_enabled functions (#3045)
c7187130b feat(rpc): track gas remaining (#3049)
6c3ec9bc1 fix: use value of top trace for delegate call (#3053)
91a13a491 chore: clarify gas field (#3054)
99a314c59 feat(stages):  normalized tx lookup commits (#3022)
4e7f31c11 feat: represent additional allocated memory (#3048)
4ddec063f feat: support disable* fields (#3041)
1a965b796 fix(autoseal): use higher difficulty and fix root calc (#3044)
8ffcb3124 fix: fix error types in recover_sender utility fn (#3042)
d4b9ab0d0 test: fix flaky shutdown test with race condition (#3043)
5345d0c1b feat(stages): bodies & TD progress (#3010)
0bf360e46 feat(stages): normalized sender recovery commits (#3013)
7eeecf083 fix(storage): invalid stage checkpoints on unwind (#3029)
c0fb169da fix: unwind on execution and senders errors (#2938)
d771a1b37 Update intro.md (#3037)
01041b404 test: use free port (#3036)
8f4e37e8f fix: exclude calls to precompiles in parity tracers (#2987)
1a4f407c4 perf: only set fields if enabled (#3031)
e1392a67d feat: add metrics for active block downloads (#3027)
eed8be44e fix(bin): log latest engine block if pipeline is idle (#3024)
216309592 chore: dont set bad-function-cast warning on linux (#3026)
51dd914d8 chore: increase default max response limit (#3023)
dcdd2bed7 chore: add TracingCallGuard::aquire-many (#3021)
132beb356 fix(rpc): serialize return data bytes without prefix (#3019)
95b9e3233 fix(rpc): use correct rename (#3020)
2e11c6f66 chore(deps): bump xml-rs to 0.8.14 (#3018)
df9dfa6b6 chore(deps): use revm and revm-primitives as workspace deps (#3017)
c73e35c3e chore: add helper serialize functions (#3015)
45af6dc50 fix: serialize storage map without prefix (#3016)
201366d8f fix(bin): skip first `ConsensusLayerHealthEvents` tick (#3012)
a2004f06a chore(db): fix dupsort typo (#3014)
b3bd98c37 chore(tree): first block naming (#3009)
171166e84 chore: add msrv to manifests, add and use `workspace.package` (#3006)
adf4328ce chore(clippy): make clippy happy (#3005)
6e3b420bf fix(rpc): use u64 for gas (#3004)
9614b4667 fix: mark downloaded block as invalid if insertion fails (#3003)
088c388d1 fix(rpc): make memSize optional (#2999)
df90caeb3 fix: ignore forkchoice updates to old head (#2952)
3bd26b044 feat: Increment history shard size (#2844)
a6147e7a8 Update rust version from 1.65.0 to 1.70.0 in README.md (#2998)
3198af11a fix(pipeline): simplify `previous_stage`, respect `max_block` in metrics (#2989)
789e68058 fix: make GethDebugTracingOptions  args optional (#2996)
50d325f1b chore(stages): rewrite index history stage comments as doc (#2993)
18b70f17f perf: use BTreeMap::pop_last (#2994)
d2c68edf2 feat: rework logs (#2988)
643b3811c ci: add docker release workflow (#2985)
e1148c81a chore(consensus): emit warnings if no CL found (#2961)
b72c3aed9 feat: add more metered channel abstractions (#2991)
08900740b feat: Better progress reporting for stage checkpoints (#2982)
6fab79bbc bug(Tree): Commit from tree now calculates history indices (#2978)
9206a7dea refactor: move cli-only utils out of staged-sync (#2984)
df8ca352e chore: test typo (#2986)
f828a0f44 feat(reth-stage): add history stages + allow committing (#2983)
37fe44750 Avoid querying unwritten values from changesets during historical lookups (#2966)
25dd54446 fix: implement pending evm env (#2968)
ef6fa6dca fix: process geth steps iteratively (#2980)
f04254868 perf: use final paris difficulty if configured (#2969)
c81b059e9 chore: Better debug and json serialization for elias fano list (#2977)
075fa5984 perf: only check pool if disk lookup came up empty (#2973)
2d0e8162b fix: push_trace iteratively (#2979)
5e01f9d7b feat(cli): db list in reverse (#2972)
2e406c179 ci: upgrade to geth 1.12.0-e501b3b0 (#2874)
8c5379984 fix: clear active download requests if node fully synced (#2967)
5c7c6608d chore(clippy): make clippy happy (#2963)
7d1452530 feat: improve block downloads (#2941)
f7a35f09b chore: typos, rm oudated todos (#2962)
36528f1b3 fix: off by one unwind range (#2960)
a2287c68a chore: dont get plain state if not shard is there (#2959)
a03c380d1 fix(rpc): remove invalid block hash variant (#2954)
5b72a7381 feat(rpc): add rpc_ namespace (#2928)
65b627692 chore(engine): remove redundant pipeline completion check (#2953)
6353792a8 feat: add Transaction setters and separate random tx signing (#2951)
43f421d0b fix: set reputation change for already seen txs to 0 (#2945)
48bf3990a chore: only log block essentials (#2948)
5dd49e446 feat: track invalid ancestor in invalid headers cache (#2939)
c25c398d3 chore(engine): ensure previous pipeline run finished (#2920)
10717a7cc chore: apply same impl order (#2937)
9a0aeea54 feat(bin, pipeline): report pipeline progress (#2932)
aea35263d feat: track fcu validity (#2934)
1641f555f feat: use buffered ancestor to determine sync target (#2802)
9cd32e516 feat: Add general `database::Provider` and move implementations from `ShareableDatabase` to it (#2902)
d0f235893 fix: configure ipc server properly (#2922)
c4764d4f2 feat: Integrate cache config in rpc args (#2924)
adffd0aac feat(bin): reset Finish stage in `drop` cmd (#2931)
8a5fc9a97 fix: Return correct gas price fields for EIP2930 transactions (#2930)
cc9035837 chore: fix payload builder typos (#2927)
b7fb23698 ci: add dummy jobs to required workflows (#2905)
cb44ce090 Fix typo in `PayloadJobGenerator` comment (#2926)
5d7eba6fb chore(primitives): move checkpoints under stage mod (#2906)
c481b8717 feat(cli): integrate max tracing requests in cli (#2914)
9d7b3de64 fix(cli): clear receipts on `stage drop execution` (#2918)
ed209f6cb chore(engine): remove db attribute (#2917)
3347da091 feat(cli): add stage unwind command (#2913)
fba2adf8c feat(provider): stage checkpoint provider (#2907)
438476718 chore(sync): always record storage slot checkpoint (#2911)
32772ca5d perf(storage): use `delete_current` when possible (#2909)
50cfe96b9 meta: expand stage code owners (#2908)
cb3e22127 fix(stages): unwind receipts in execution stage (#2900)
5595ae9a7 feat: add constants for total paris difficulty (#2901)
2478c9f11 chore(stage): cleanup stage id (#2898)
b1760e733 perf: execute db read tasks on blocking pool (#2896)
e848dcd67 perf(rpc): use block hash or number (#2892)
223f5cb9c perf: optimize block provider function (#2880)
d676170f8 ci: various speed optimizations (#2867)
01af8e5d4 perf: cache fork timestamps (#2886)
e703973dc fix(stages): reset Merkle checkpoint (#2877)
3b37e8307 chore: make reth config serde default (#2879)
853929e74 feat(bin, tracing): allow multiple directives for journald/file logging (#2882)
5b73b2a1b chore(clippy): make clippy happy (#2885)
b03208cea docs: add note about build function (#2876)
0ebc78651 chore: more sane debug display impls (#2872)
2711178ee perf: use single tx for converting hash to number (#2870)
a8b39880e perf: spawn handlers before network (#2868)
79f99ad0f chore: convert datagram failure error to debug (#2869)
f5b091dd5 fix: sync to head block instead (#2854)
689d869b8 build: add `ef-tests` target to makefile (#2861)
ea5e877f3 ci: use `Swatinem/rust-cache@v2` everywhere (#2862)
0caf05186 feat: reth-config crate (#2825)
1176754d6 perf(rpc): fetch block and receipts for concurrently (#2860)
e05f65592 perf: store canonical number in atomic (#2859)
be5850488 docs: a few additional tree docs (#2852)
dd0a0f295 perf: ignore download request if already inflight (#2856)
01d264c9a chore(stages): use helper function for `checkpoint.unwrap_or_default()` (#2858)
10b577096 chore(metrics): restructure crates (#2850)
966b31c19 chore(sync): rename headers progress to checkpoint (#2855)
038cfdee8 chore(cli): unify debugging routines into a single command (#2849)
0e9c05781 chore(sync): increase merkle clean threshold (#2848)
318107ed1 feat(cli): execution debug script (#2619)
46e95337d feat(stages): always report entities processed & total metrics (#2824)
cb829be08 refactor: move ef tests to own testing crate (#2847)
a441c136e fix(download): headers head attachment (#2845)
cdd446aba feat: Return an error if requested block is not synced yet (#2833)
ba4776a0c feat: track total size of buffered blocks (#2838)
6d0d2104c perf: disable mdbx debug on release builds (#2841)
fd785287d ci: run workflows on `merge_group` (#2842)
d6ccab1dd chore: improve stage checkpoint logs (#2823)
d05ba9785 feat: add db get subcommand (#2772)
f00dc091d docs: add list of all stages (#2826)
7423fc36f chore: use Instant::elapsed (#2834)
ac8d6f062 fix: wrong is valid if branch (#2831)
455eead32 test: fix flaky arbitrary test (#2832)
2305310ef perf/test: run malformed header test separately (#2750)
42683b894 perf: use canonical block number from mem (#2829)
dfcca695d fix: update rpc on continuous sync (#2707)
5e6595a0c feat: add lowest_ancestor to block buffer  (#2789)
6ae425f99 feat: add block_by_hash and index in BlockBuffer (#2784)
26dd0f515 fix(bin): checkpoints comparison in `merkle-debug` (#2817)
11a6130c1 ci: add windows and apple silicon releases (#2810)
86b6c6a77 chore: rm `reth db seed` (#2818)
718dbfc97 fix: make eth requests channel bounded (#2811)
0b81096f8 feat(stages): checkpoint downloaded headers (#2798)
b9f1819e6 fix(trie): discard zero-value slots in hashed poststate cursor (#2793)
9da97cc4c fix: check if payload is transition payload (#2816)
cffdc8dff Makes RPC server settings configurable (#2814)
df8238718 feat: cancel in progress full blocks (#2813)
2ec97f34f feat: Use consistent pending block in RPC/Blockchaintree (#2767)
d7e013c4f fix(transaction): block poststate range zip (#2808)
7eaabeb0d fix(transaction): tx iterator for block range (#2804)
69e792eb0 fix: proper `#[cfg]` attrs for windows/unix (#2807)
1e53d5faf fix: really encode windows paths for mdbx this time (#2806)
14a9e5cfc chore: box incoming connections on windows (#2805)
5039122c3 feat: add sealed_header to HeaderProvider for single headers (#2801)
c66bde663 feat: validate buffered blocks if they extend canonical head (#2800)
199137d90 chore(pipeline): remove `tip_tx` debugging-only comments (#2799)
bf876e7f5 refactor: get rid of boolean is known check argument (#2794)
bf61a6aee refactor: rename take children function (#2795)
f5cb6981c chore: remove redundant parent arg (#2796)
cf805ae02 chore: fix JsonStorageKey comment (#2788)
7d36dea42 Changed the ethers-rs imports for Foundry compatibility  (#2787)
c991a31e0 chore: feature gate IpcClientBuilder (#2785)
9cd7b4130 chore: improve tree traces (#2781)
7273ce802 feat(stages): checkpoint hashing stages into a new table (#2735)
1b1ca9e2c ci: temporarily disable windows releases (#2779)
4e1f0a909 fix(mdbx): use windows symbols on windows (#2780)
44348b4e4 feat: add canonical outcome type (#2765)
337579176 feat: add sealed headers range (#2769)
8ada7fd2e chore: fix some typos (#2776)
b70afbb37 fix: ensure extradata is 32 bytes or less (#2775)
d3aa36f19 chore: use release profile in docker file (#2773)
71581abef chore: add SealedHeader::split (#2763)
b2c5f331a chore: trace return values on insert (#2760)
0a54e47ea chore: consistent _senders suffix (#2761)
7849b4c38 feat: Integrate Sealedblock to BeaconConsensusEngineEvent (#2764)
43aeadb9b ci: disable bench comparison workflow for main (#2756)
0599d4bd2 feat(net): add function to set NetworkMode in builder (#2771)
238eea37c feat: add node identity to networking stack (#2758)
2416756b2 feat: integrate payload builder args in cli (#2757)
8e8936077 feat: release workflow (#2677)
2837fb6b9 chore: properly convert invalid transaction errors (#2748)
c25ff8c36 refactor: convert InsertBlockError (#2749)
be2f66fee fix: make vergen emit cargo target triple (#2754)
3c2b59115 refactor: expanded cli version info (#2742)
13a720906 feat: add state root validation on new insert (#2543)
fba6a03f6 fix(poststate): state clear eip (#2732)
71589119a refactor: remove unused `Transaction` fns (#2739)
2a39b2825 refactor: move stage commands to `reth stage` (#2741)
7b7805a4c refactor: rm dupe `InvalidTransactionError`s (#2737)
1c60e680f docs: add warning note on get_payload_bodies_by_range (#2743)
c1b80e7e9 chore: run `dump stage` as blocking task (#2740)
d9455d6bc fix: calculate state root for auto-seal (#2744)
e43b8aa92 chore: fix typo (#2736)
defa64b2d fix(cli): run pipeline to completion after restart (#2727)
e4cd48aef feat(stages): rich checkpoint (#2701)
903205267 test: ensure port is unused for udp and tcp (#2731)
ebdfa2522 test: fix another event race condition (#2730)
170a606f7 test: fix event race condition (#2729)
8fee5d3e2 refactor: dedicated blockchain insert errors (#2712)
149cac060 feat: add headers stage config options (#2724)
00037b836 chore: rm changelog (#2717)
460bf13b6 fix: check db and indices for canonical block (#2702)
65b7702ef fix: return latestValidHash from sidechains (#2725)
20dad4e4f chore: rm duplicate transact (#2721)
a40b79e19 fix: set sync state at startup to idle (#2722)
352b55dc0 chore: rename Error to DatabaseError (#2718)
3d816bde0 docs: update layout docs (#2716)
fd5a1ef4a chore: rm unused error variants (#2711)
755438d61 chore: spawn more eth calls and add docs (#2715)
cadf702e5 chore: remove crate-template (#2713)
f84dd7c94 chore: add missing crates to codeowners (#2714)
fd45c8726 chore: executor error cleanup (#2709)
9a4244867 refactor: cleanup Providererror (#2710)
ca6724f10 fix: update bindgen in libmdbx-rs (#2703)
9b79218c1 fix(p2p): network sync state (#2699)
f37ee4b83 feat: add CachedReads and CachedReadsDbRef (#2596)
c44117075 fix: update rpc latest block from mining task (#2700)
42843d5d7 perf: spawn eth filter tasks (#2696)
a97c5b34a chore(rpc): add InvalidStateRoot error variant (#2698)
5598ecb9c fix: use saturated range (#2694)
ce50db0b1 chore(mdbx): Bump to v0.12.6 (#2692)
fa2b9b685 fix(dep): `tokio-util` is no longer optional (#2697)
e9a5b867c chore(deps): enable tracing default features (#2693)
2436e019c fix: use auto seal client for consensus (#2690)
f5a573661 fix: use proper base fee in auto seal (#2691)
ae2b0954c perf: do not compile traces in release mode (#2652)
5dfbc9cf0 chore: bump max logs per response to 10k (#2688)
d91f1d1c5 fix(poststate): collapse account changes (#2670)
566f5813c fix: use bounded channel for headers download task (#2687)
d2f035227 perf: spawn blocking eth calls (#2686)
bf9a3c533 perf: spawn blocking trace calls (#2685)
2fa9cd066 fix: use bounded sender for bodies responses (#2684)
85e6d9ac5 feat(rpc): set starting block to latest at launch (#2668)
729238491 perf: read ChainInfo from in-memory canonical block (#2669)
5d99b126e fix: dont exit engine on failed FCU (#2676)
11cd0d475 feat: support subscriptions over IPC (#2667)
ae6691dd3 chore: make clippy happy, tests edition (#2675)
a73e6c8ca chore: cleanup engine api errors (#2674)
89349782b test(executor): touched unchanged account (#2672)
718cfb3c5 test(executor): account created & destroyed within the same transaction (#2671)
c190d0e69 Configure Gas Price Oracle with CLI arguments (#2664)
599a5757d feat: add a few EthRequestHandler metrics (#2666)
787e60083 perf: send followup request with high priority (#2659)
9fe84bfd9 fix: dont upscale concurrent request for lower peer count (#2661)
0a71d6fa8 feat: add queued and buffered blocks to bodies dashboard (#2662)
3402f19c7 fix: should be kilobytes (#2663)
a5dbbe418 fix: don't starve high priority requests (#2660)
99e6ee7a8 perf: restrict bodies downloader by number of blocks (#2656)
4d0406b38 perf(rpc): improve gas price perf by skipping hash (#2657)
a0b6b207a chore(poststate): size hint (#2653)
cc601dbe9 feat: add safe and finalized tags to StateProviderFactory (#2654)
52b5418a6 feat: gas price oracle (#2600)
059e9c9a2 fix(executor): do not destroy empty accounts (#2630)
34e34177f fix(executor): do not insert empty changesets for touched accounts (#2631)
748f90ed3 fix: unwind stages with respect to commit threshold (#2500)
e2c7b38d5 fix(poststate): storage revert before selfdestruct (#2636)
b16678da1 fix(poststate): handle secondary selfdestructs (#2634)
8c1a1e0e0 fix(poststate): duplicate receipts (#2632)
047f1e513 feat(db): add `zstd` and `CompactZstd` to `Transactions` and `Receipts` (#2483)
4056b1588 fix: remove `Account` length from compact on `AccountBeforeTx` (#2622)
45caab805 feat: impl BlockIdProvider for BlockchainProvider (#2650)
177b06703 chore: Additional logs on revert error (#2623)
0d2f21412 chore: split on new payload function (#2645)
f1eef8d32 chore(deps): bump tracing core (#2649)
afcc66c39 feat: add getter for last FCU timestamp (#2647)
4a492f6cd chore: move Filter to rpc-types (#2648)
f2cf10522 fix(codec): Use variable length encoding for lengths on `Vec<T>` and `Option<T>` (#2641)
43272ccd5 meta: add beacon consensus code owners (#2646)
e34cdc4e0 feat: extend engine syncing with single block downloads (#2626)
4070bd173 fix: register trace correctly
53fadfce0 chore: add task spawner to trace and debug (#2644)
08972ca5e feat: add forkchoice update tracker type (#2555)
92b557d84 chore(deps): bump jsonrpsee 0.18 (#2640)
33ea2523b chore: bump cache sizes (#2639)
8c0979144 perf: read header range first (#2635)
5e09a686d feat: add more rpc server cli args (#2638)
041b8d320 feat: implement call tracer (#2349)
f4c241970 test: add open ended filter test (#2620)
58a4a8ea8 fix: do not panic on safe, finalized BlockIdProvider (#2628)
7d3016f0f feat: use BlockHashOrNum in providers (#2627)
abcadd987 fix: reset correct value (#2618)
d342762a3 feat: Include genesis accounts in changesets (#2606)
64250b3b0 feat: add fullblock client (#2613)
32b9a5b05 chore: use 4gb growth step (#2616)
21217cbed chore: remove allow unused in rpc (#2617)
bda830c1a chore: move decode_revert_reason to primitives (#2615)
f035b1faf chore: move error module to integer list (#2614)
c0cbb6a47 feat(txpool): add sub-pools length and size metrics (#2598)
07983239e doc(cli): remove reference to `reth db --db` flag in book (#2612)
cb65224dd fix(rpc): initialize arena with root node (#2611)
0850bfaf0 fix: make stats args global (#2610)
38d9bca8f chore: add traces for jwt file (#2609)
604c967a6 chore: add rpc module logs (#2608)
d9993c4aa test: add malformed header check (#2599)
d8e3dcfe7 fix(rpc): commit tx state changes when tracing block (#2605)
7ca8a297a feat(txpool): add add_and_subscribe (#2603)
ab55ea5e0 fix(execution): extend poststate before threshold check (#2602)
523ffa0cb chore(clippy): make clippy happy (#2597)
3591a6f24 feat(rpc): add txpool namespace (#2591)
d067e762b feat(txpool): add a few more maintain checks (#2593)
3c14fdab2 chore: improve channel is full log (#2595)
df476140c chore: add transaction_type field to callrequest (#2590)
bc5e15090 chore: fix broken test from #2575
10d0305b5 docs: add cli reference (#2589)
78d6fd27f chore(cli): remove `--db` options from cli commands (#2575)
63d2d700a fix: remove transactionLogIndex from logs (#2583)
7cb2d7d8e chore: point to book for installing (#2584)
ce6ead1b2 chore: rm unused var (#2582)
ded0896df Task Executor Metrics (#2580)
e6107a1bc feat(rpc): add parity trace conversion (#2576)
a5b9737a4 perf: use jemalloc + switch to lto/low codegen units (#2567)
f37d10282 fix(rpc): use parent block state when tracing blocks (#2574)
35e242102 feat(rpc): set eip1559 gasPrice field (#2579)
09f1a5b64 feat(execution): state change size based commits (#2494)
a00ba2ad7 chore: dont panic on unsupported tag (#2578)
b40ce6f7f fix: correct effective_gas_price (#2573)
0ae9c2839 fix(rpc): set effective gas price (#2570)
b7c46db05 perf(rpc): use cached block receipts (#2572)
52f2bc5eb docs: rework book (#2566)
70bcd7603 fix(engine): fail on canonical errors (#2565)
5605ab2a0 fix(rpc): use parent state when replaying block (#2533)
3dd27782e refactor: give Pipeline a database (#2558)
acbbd6788 feat: make logs per response configurable (#2559)
6a79b1673 test(walker): walk range on dup table (#2561)
e53a767f3 chore(cli): add details to --nat help message (#2562)
2a36dc27c chore(provider): seperate error on unwind root mismatch (#2563)
c7dac46cc chore(cli): add possible valus to ws,http api (#2564)
cf043d9bf fix(rpc): replay transactions before tracing (#2532)
91d4c890d fix: respect --p2p-secret-key argument (#2552)
209911c10 chore: add pipeline field docs and remove continous (#2550)
6c21295b7 docs: add a few additional tree docs (#2557)
4ebbd448d Insert new blocks into cache (#2509)
7914d1cf7 feat: A basic json dump extension to reth db list. (#2232)
231d1f96b perf(rpc): utilize caching layer in log range (#2553)
dfd35fabb chore(tree): a few refactors and instrumentations (#2549)
010b600f3 fix: ensure parent hash and number match (#2546)
9c74fb873 dep: bump revm to 3.3.0 (#2547)
10b97b29a chore: downgrade error and warn traces to debug (#2541)
03977950c chore(tree): Add additional checks to not insert empty chain (#2537)
29ce8aab4 fix: fix cors check (#2540)
90fa586ce refactor: remove SyncstateUpdater generics and use boxed instead (#2534)
3be635406 docs: add a few notes about where states point to (#2535)
443572a6d feat(rpc): support launching on same port (#2530)
460981104 fix: drop tokio runtime on separate thread (#2531)
ec7a10b57 fix(cli): compute clean root till done (#2525)
ecc7ae9bb feat: use chain-specific data dirs (#2495)
159a85637 fix: sync to max block (#2527)
b55a17b08 feat(rpc): support pending block tag (#2524)
34a13ce24 fix: dont include latest valid hash on block hash error (#2523)
3cf601514 perf(proofs): root calculation using hash builder (#2517)
949b3639c fix: track invalid payload hashes (#2521)
ddf38f41f bench(proofs): root calculations (#2513)
423265648 proofs: prefer `encode_list` over `encode_iter` (#2518)
be87dcc68 fix(stage): merkle checkpoint target (#2512)
c62c7d6f1 feat: find canonical ancestor (#2506)
174316936 feat(tree): Return block status for old blocks (#2462)
6a55f7025 feat: implement resolve step (#2507)
d34349bf0 adding payload builder panel in grafana dashboard (#2464)
7b1aee2d9 feat: add helper for accessing pending block object (#2465)
7ea801f45 feat: write account and storage hashes in genesis (#2441)
cafb31aa5 chore(trie): move hash builder to primitives (#2493)
39427fad4 chore: annotate with track caller (#2499)
7f764028d feat(cli): consensus engine events (#2473)
36004c676 feat: add new already seen transactions reputation variant (#2468)
a03cfeb3c feat(grafana): bodies downloader errors chart (#2501)
d71682799 fix: fix outdated test
5f3406e36 fix(txpool): move tx correctly after basefee update (#2479)
e1446ae49 refactor: roll custom canon state notification stream (#2486)
7ccede7e2 feat(mock) `ExtendedAccount` storage method (#1888)
a88755701 feat: add Resolve Payload function (#2482)
0702a5e6f feat: add metrics for already seen txs and hashes (#2467)
005ebd851 fix(poststate): introduce wiped counter (#2480)
3d243d3af fix(consensus): clique block rewards (#2484)
1651009c1 fix(stages): transaction block lookup (#2481)
c28ad55a7 chore(engine): move head lookup for building (#2472)
c06e8c496 chore: rm dbg artifact (#2477)
d146bb86f chore(clippy): make clippy happy (#2475)
a3e627e80 feat(txpool): add update_basefee function (#2447)
7fa5dc632 chore: clippy fixes (#2466)
48f5b31ad feat(rpc): add impls for gasprice and max priority fee (#2471)
ebf13ec9c fix: set signature v value correctly (#2461)
43653fd05 docs: fix comment about range restrictions (#2463)
435df4412 feat(tree): unconnected block buffering (#2397)
b8b277293 fix: restrict start block correctly (#2460)
eba1e885a fix: payload transactions are raw transactions (#2448)
5c5aef0b4 fix: reconsider several is_bad_transactions checks (#2450)
433ecdcae chore: track client version in tx peer (#2452)
70ead6e6d fix: consider same timestamp as parent block invalid (#2454)
9a2196e10 chore: add beacon nonce constant (#2456)
e5caf7b4f chore: misc blockchain tree (#2453)
a40f3d775 chore(deps): bump enr + secp256k1 (#2443)
eb37bc7b3 chore: reorder imports (#2444)
7194e94ac chore(tree): remove redundant fork block parameter (#2424)
5e9612897 refactor: convert payload job from stream to future (#2438)
7b928f31b fix: skip invalid transactions (#2436)
d604bd494 feat: skip transactions we can no longer fit in the block (#2433)
5d76e6513 chore: add blockchain tree and state provider traces (#2418)
2b7b14ab8 chore(deps): rm unused deps (#2435)
576f33b15 fix: consensus validation method typo (#2432)
0d20d34ea feat(txpool): add missing txpool update checks (#2366)
9b5a84acc feat: initialize txpool maintenance (#2429)
4e1ae0ee9 chore: better basic payload builder traces (#2431)
93d3bd9dc feat(net): fix peer backoffs to not interfere with reputation (#2422)
e3afe02b0 fix: keep payload job until resolved (#2430)
d6aa7e0f9 feat: add stagekind enum and initialise syncstage table (#2426)
e2bacdfad feat: check if blocknumber is latest block number (#2428)
a69b2e160 fix: use head hash as parent hash (#2427)
3693a4021 doc(poststate): fix incorrect doc on poststate revert (#2423)
c7341b54f feat(trie): optimize prefix set (#2417)
503748b0f bench(trie): prefix set (#2406)
f9f9683d2 test(cursor): dup insert & delete current (#2411)
837555e29 chore(consensus): Clear up the naming and intention behind checks (#2415)
57a19f91f nit: fix typo in merkle stage (#2413)
8835443c3 feat: include SessionsConfig in reth.toml (#2416)
9d03c4273 fix: use correct state for payload building (#2414)
546e191e8 fix(tree): atomical execution unwind (#2412)
0678137a0 chore: add find_block_by_hash and more docs (#2405)
a7b374931 chore: simplify committing withdrawals (#2404)
bf7960c87 fix(peers): rank dial candidates by reputation only (#2407)
9fb66ffef chore: move next base fee to header impl (#2400)
04947d2c4 chore(clippy): make clippy happy (#2403)
4763aad11 feat(txpool): add pool manage task (#2298)
607186de7 feat: add best_block_number call to BlockIdProvider (#2358)
8ac1aaf5e feat: compute state root for payload (#2398)
df3274892 feat: add StateProviderFactor::state_by_block_hash (#2390)
420a65a20 feat: move StateRootProvider to StateProvider trait (#2392)
ccdaa74e4 fix: drive pipeline forever in debug.continuous (#2375)
f41d81ac6 chore(txpool): don't penalize FeeCapBelowMinimumProtocolFeeCap error (#2396)
c132c6681 fix(net): syncing should be true at startup (#2395)
9ee601a7a chore: add update ENR trace (#2394)
addd8d473 chore: improve incoming connection traces (#2393)
f37373126 feat: add StateRootProvider trait (#2383)
b4d69e68d perf: remove redundant ommers sealing (#2386)
21ebfee46 feat(p2p): add reputation management features (#2389)
3834dfdea style: channel names for consensus engine result (#2388)
eebcb03fe fix(evm): goerli coinbase (#2377)
dc8308f82 chore: remove default todo! impl (#2382)
c6e7ea513 feat(net): add `client_version` to session established events (#2379)
21569180e feat(cli): drop history stages (#2369)
dbb0a3570 perf(trie): reuse `buf` for rlp encoding on `HashBuilder` (#2374)
4e95f6e7c feat: add payload build metrics (#2367)
1912bd43c feat: add missing pending block conversions (#2372)
b0f22be5a feat(trie): hashed cursor (#2288)
667af585e feat(net): add `remote_addr` to session established event (#2373)
581551bc0 chore: dashboard updates (#2364)
20e842b5b feat: add BlockchainProvider type (#2294)
16ce944ee fix: only write changed storage to changesets (#2355)
d903a2553 chore(deps): bump Cargo.lock (#2363)
652bdaacd feat: add empty payload building support (#2346)
b8e92e09a chore(rpc): add missing eth filter traces (#2352)
ab581ae89 feat: add payload builder service metrics (#2347)
ad77de49f fix(provider): post state get didn't get receipts (#2360)
07efa2db4 chore(tree): Move tree related files to root of the lib (#2359)
e2c27073e fix: use a gauge for `mgas_processed` metric (#2353)
1026be0b6 feat: use caching layer when fetching blocks for logs (#2350)
370c39525 feat(stages): Simplify TD stage (#2344)
1169d75d1 fix: track exact number of transactions (#2343)
0664ee108 ci: hive tests (#1348)
783d03338 feat: Generate constants for runtime version and OS (#2277)
77d521619 fix docs related to tables (#2328)
040226e16 chore(rpc): instrument rpc calls (#2327)
6d54baefd style: use clear over truncate(0) (#2338)
ec94783e9 perf(trie): swap trie updates `BTreeMap` for `HashMap` (#2330)
c9f126df2 chore(trie): rename cursor module (#2333)
dfc63e524 chore(deps): bump h2 dependency (#2335)
6b0135965 chore(trie): remove obsolete sender type (#2331)
a739fab3f fix: Stage bench generation of data (#2329)
15525a831 chore: update code owners (#2332)
16412116a perf(tree): check block before inserting (#2324)
ec418d924 feat(trie): read-only root calculation (#2233)
9452b3658 feat(db): Don't store `TxHash` when writing to the table (#2279)
2e7139c1a chore: update code owner (#2325)
d30005786 chore(net): track all bad reported messages (#2321)
1ddf178e0 fix: dont end beacon engine on bad payload (#2323)
347e3e881 chore: rm outdated TODOs (#2322)
68d8506d8 feat: block level indexing (#2275)
855a7d554 feat(cli): merkle debug cmd (#2314)
9a8d1022a feat(rpc): add engine eth subset rpc handler (#2317)
7e965a3c7 feat: implement `eth_feeHistory` (#2083)
64e3a57dd docs: add a few clarifying docs (#2310)
3b0dd3fb3 fix(trie): skip storing empty nibbles in storage trie (#2313)
4a912f1e1 dep: revm 3.2.0 (#2312)
a22f98809 chore: move StageEnum to separate module (#2287)
534d23eed feat: process payload job initiation async (#2295)
862537362 chore: add on forkchoice update traces (#2304)
57d49ab50 docs: extend validate docs (#2300)
74063a025 chore: bump ethers (#2303)
ba81368f9 chore: simplify re-export (#2299)
5eef3c5fc chore: add ChainBlocks type (#2297)
86f8504b2 chore: fix typo (#2296)
0761bb42f chore: bump ethers (#2292)
eb0f7eb87 fix: use JsonU256 for deserializing genesis U256s (#2291)
2f6183614 chore: run commands as blocking task (#2286)
7d3922805 fix: remove flatten attribute (#2290)
db1e6cbee chore: rename executor -> blockchain-tree (#2285)
29393420f chore(rpc): use cache layer for block endpoints (#2280)
0559d8c2d fix(payload): sum cumulative gas used before adding receipt (#2284)
e5d4767c8 fix(payload): set withdrawals none pre shanghai (#2283)
a38bbbfd4 fix(payload): use latest block for genesis block (#2282)
6f15f844a Removing reth network api dependency from rpc types (#2281)
a0bfb654c test: add basic auth server tests (#2278)
ca70d7337 feat(net): add reported bad transactions metric (#2270)
f1fc9ecaf chore(rpc): rpc and auth server cleanup (#2272)
581e9ffcc fix: poll_tick does not register waker if ready (#2276)
348e7301a chore: use client version as extradata (#2271)
e27ed92d1 fix(cli): event reporting (#2273)
d1162dbbb refactor: add beacon engine handle (#2266)
8b4a73d6a feat(cli): disable persistent logs (#2263)
1680630e4 chore: make clippy happy (#2267)
3a75181ae chore(cli): update drop merkle (#2264)
9091318ab fix(rpc): flip is empty check (#2269)
b45182ae2 fix: be less strict about what's a bad tx (#2268)
ec097fabf chore: move metrics to submodule (#2265)
31caaf8ee Skip serializing withdrawals if it is None (#2243)
adc01a8fd fix(rpc): add missing v2 handler (#2261)
adad6d31b Revert "Revert "chore: enable tx inserts via p2p" (#2252)" (#2259)
154ece766 fix: simplify SyncState and fix wrong update (#2256)
c67c944a1 Revert "chore: enable tx inserts via p2p" (#2252)
6be4be6b2 perf: use ExecutionResult::into_logs (#2184)
08ba35bca Adding updated Sepolia bootnodes (#2251)
08eae76be refactor: simplify engine Api (#2240)
3779a225f fix: remove peers after incoming connection closed (#2245)
46d7dcba8 chore: extract serde bytes helper (#2247)
4ad33a983 fix: remove inaccurate warning about engine API being unsupported (#2248)
4e792f88b chore: Cargo.lock outdated (#2242)
0b9621cfa feat: integrate payload service (#2228)
9a5e15f33 fix(merkle): small merkle test flake (#2234)
35d774dcf fix: add MaybePlatformPath (#2231)
019ddd1ed perf(db): reduce different repeated allocations (#2103)
2f003bf8a chore: move client constant to primitives (#2220)
5e64f0e07 chore: move cfg block env init to PayloadAttributes (#2222)
35f7c6d8c perf: shortcircuit if new payload is worse (#2224)
a763dff7d fix(rpc): use exact error messages (#2226)
7bcd468ab feat: add constants for slot and epoch (#2229)
26caa6d32 chore: add payload code owners (#2223)
1acff8bb4 fix: use chain specific net dir for known peers (#2218)
703f0fdf8 chore: rename miner to payload builder (#2217)
2f6d5e6ad feat: add basic payload generator (#2161)
d851054df chore(db): clarify upsert (#2216)
0759b3040 feat(trie): state root (#2206)
d99befe81 chore: enable tx inserts via p2p (#2214)
a8665309f chore: more error context for failed to open (#2215)
48dc9987a chore: use cost in error (#2213)
15ad63f8c fix(txpool): enforce minimum priority fee  (#2212)
cf93d642f style: use .join for joining paths (#2210)
a346f1617 feat(engine): basic beacon engine metrics (#2200)
39ecb618d feat: add Transaction::effective_tip_per_gas (#2204)
ca28b37a7 chore(trie): remove proptest with arbitrary leaves (#2203)
554c8258a feat: add trace_replayBlockTransactions (#2141)
5ce1873a8 feat: extract increment_account_balance (#2201)
e3f4780c6 chore: add note about fees (#2202)
ad8ca5677 chore: add PayloadError to PayloadStatus conversion (#2123)
74d90de45 fix(download): body consecutive range (#2198)
e87960ea8 fix(engine): pipeline run conditions (#2193)
c5b70f477 chore: clippy (#2197)
18fd8c133 fix(engine): initial sync target (#2194)
c9eeb181a feat: append chain network to db directory (#1846)
9e8d9883d fix: ignore header extradata validation in goerli pre-merge (#2178)
42a98a719 feat(trie): stored nibbles (#2182)
be1eab11b fix: add initial goerli forks (#2196)
8a037a19b feat: add ReceiptWithBloomRef type (#2189)
3957f8007 chore: extract withdrawal balance changes function (#2186)
f919eeebf chore: accept AsRef in calculate_transaction_root (#2188)
840a0c786 chore: add ChainSpec convenience function for Hardfork timestamps (#2190)
7cf2b2843 docs(rpc): add docs about engine_getPayloadV build process cancel (#2187)
ddc140724 chore: add PostState::logs_bloom (#2191)
9c1a33e52 fix: activate required test-utils feature for dev-deps (#2192)
0a34f28bf perf: use `par_sort` on `TxLookup` stage (#2137)
ccf540ea8 Adding miner args for cli (#2163)
976d68179 feat: extract commit_changes function (#2185)
e0e449d5f fix: ensure Signature is ethereum scheme (#2183)
26e642d39 feat: add BlockchainTreeViewer::block_by_hash (#2168)
d83c07c13 feat(trie): prefix set (#2181)
5776accaa chore(trie): add account to `trie` crate (#2180)
54fc809a4 feat(trie): hash builder (#2177)
5ba45ae34 feat: more builder abstractions (#2157)
a6366de1c feat(trie): trie nodes (#2174)
bbdeda324 fix: return engine_getPayload error response (#2175)
d0da2a3e9 feat: add `reth config` cmd to dump default reth.toml (#2167)
a83de80af chore: manual default for PostState (#2173)
34cab48e7 feat(trie): branch node (#2171)
c9af8a2d1 feat(trie): nibbles (#2170)
2df16021b docs: add note about post state (#2169)
087d0a631 feat: CanonStateNotification for commit and reorg (#2156)
cbbd83457 feat(trie): setup crate (#2166)
76c9a547b chore: unify disable discovery builder functions (#2164)
b2c307426 Network integrations tests with txpool task (#2148)
13f59ea43 chore(deps): bump tokio (#2162)
cf18edb0f chore(rpc): add submit hashrate impl (#2153)
f3673c79f feat: add engine rpc errors with codes (#2158)
eca6dd01a feat: add secret-key command line option (#1946)
1bf5c7dce feat: integrate payload store in BeaconEngine (#2146)
72e7b5693 feat: add blockValue to execution payload (#2150)
56db369c0 chore(cli): remove mouse capturing (#2147)
d306be1c1 chore(rpc): return 0 hashrate (#2152)
ed97091f1 fix: track ttd in auto mine (#2138)
2df7b8c2a chore: replace h64 with payload (#2149)
2fd2825e2 feat: add Payload build abstraction (#2143)
f90f734a7 chore/ci: update deny config and action (#2142)
c493d832e fix: always serialize validationError (#2139)
ad495220f chore(docs): typos (#2140)
5e82f5aad fix: add difficulty to autoseal blocks (#2136)
843efe888 feat(rpc): implement trace_Block (#2117)
f4fc9b521 chore: add docs for PayloadStatusEnum (#2132)
7eb7f7458 chore: hotfix latest valid hash on canonical block (#2128)
c1d128eb7 chore: add some traces (#2127)
7c18ba8ed perf(db): RawTable, decode/encode only if needed (#2081)
77a41e5ed feat: emit new block events in --auto-mine (#2079)
633d84ded feat: Refactor TransitionId tables, BlockBodyIndices table. (#2039)
9a011b490 fix(engine): future payload handling (#2124)
cfff7b3e6 chore: add minimal protocol base fee (#2121)
10048a2dd fix: checked u64 downcast (#2122)
b5f4283f7 chore(rpc): add proper engine_newPayload error messages (#2118)
1913536e8 feat: add opcount tracer (#2111)
59dabcdac feat(rpc): add overrides to trace call opts (#2115)
40b5201bb feat(rpc): impl debug trace block (#2114)
cf5a1114d feat(rpc): add replay transaction (#2107)
a49dca0ce feat(rpc): implement trace call many (#2106)
0b44cca78 fix(net): enforce max transaction packet size (#2109)
89c525f9c chore: bump revm to v3.1.0 (#2113)
ee99987e9 test: next key for seek_by_key_subkey (#2112)
c0a17d655 feat(net): reward connected peers over time (#2102)
9074f86b0 feat(rpc): use 4byte tracer (#2105)
c4ffa1844 chore(deps): bump spin (#2104)
b7395a89a chore(deps): rm unused consenssu crate (#2099)
e2a1df10d fix(cli): read existing jwt instead of recreating (#2096)
4cc808f8b fix(cli): display proper config path (#2094)
6e3b5f859 feat(db): add transaction_id helper (#2095)
a22cd918d feat(rpc): add fourbyte inspector (#2093)
60f392b6a feat(rpc): impl debug_traceCall (#2090)
72c66e4cb feat(BlockchainTree): Add getter for pending block hashes (#2091)
e4a428e29 refactor: move executors to revm crate (#2076)
7da8323ac chore(rpc): move trace_at function to trait (#2089)
3f49c8a9c chore: rm redundant spawn task (#2088)
254467bba fix(rpc): add basefee to header (#2087)
84f58e33b chore: clippy fix (#2085)
2b27aa9a4 chore: impl transactions_by_block_range for mock provider (#2082)
10af3ab8c perf(txpool): filter by sender id (#2080)
481f60ace rpc: add missing fields in send_transaction (#1976)
7c6c0b41e refactor: reward calc cleanup (#2075)
ee81e4f03 fix: unix only sigterm (#2073)
12e67e4b4 chore: rm redundant pin_mut (#2072)
fa62514bf fix: support graceful shutdown with SIGTERM (#2070)
643ee5226 chore(net): improve network service launch error diagnostic (#2068)
6dee0f283 fix: use camel case for returning access list items (#2069)
cbfcbfbf7 fix: add JsonStorageKey for eth_getProof and eth_getStorageAt (#2067)
7576ee33f feat: Add autoseal consensus and downloaders (#1880)
00712d642 feat(rpc): impl traceCall (#2029)
b1643f4ca refactor: simplify fetching blocks (#2060)
8eba4cad2 perf: don't execute empty blocks (#2064)
5900a7e1b perf(db): `decode` and `decompress` directly from borrowed data instead (#2050)
e72b2864b feat(cli): add hashing stages to `drop-stage` (#2051)
f633a5d76 chore: convert panic into error (#2035)
4a8ed999c perf(rpc): use caching service for fetching logs and transactions (#2054)
ff6eb5a49 fix: make transaction errors in stages fatal (#2062)
3e17b8a51 fix: empty blocks in `get_block_transaction_range` (#2063)
1e3583aee refactor: remove magic constant (#2061)
0d059275e feat(rpc): impl debug_getRawReceipts (#2059)
4f50f7213 ci: run version constraint test partitioned (#2052)
6f0064f68 chore(rpc): improve rpc server launch error diagnostic (#1979)
3956e306f bug(cursor_walk): handle empty range (#2057)
8e7807138 chore: rm unused rpc-engine-api deps (#2053)
cda66470d fix: continue bisect on intrinsic gas error (#2048)
ec7a565ef fix: remove gas estimation accuracy threshold (#2049)
7c1bd7c5c chore: bump ruint (#2045)
195d781b4 fix: use no_base_fee feature for calling RPCs (#2041)
944e03266 feat(rpc): add receipts caching (#2038)
78470f7bf chore: replace test chain subs with blockchaintree (#2036)
6261262a2 chore(deps): add missing sync feature (#2037)
d239b82cc feat(BlockchainTree): Broadcast new canonical block headers (#2027)
41b1b3c76 perf(net): cap backoff duration and only apply to severe backoff kinds (#2022)
efbaf6474 feat(BlockchainTree): ShareableBlockchainTree and pending state (#2007)
2eb4306ef fix(rpc): disable basefee during eth_createAccessList (#2028)
b11a7e4c2 chore(rpc): replace todo! with unimplemented error response (#2026)
47b9738ed chore: fix some typos (#2025)
7e481b77a chore: include config path in error message (#2023)
ecee19207 fix: determine if eth_getProof blockid arg is latest (#2019)
bb3f9b6d5 fix: db doc links (#2020)
93056edbc fix(txpool): use default account if non existing (#2015)
de27546cf fix: disable penalization until we got it right (#2016)
44f5f7d26 docs: add more docs to `reth-db` (#2002)
3810548bd chore(txpool): add AlreadyImported variant (#2009)
cf2a2dbf9 refactor(rpc): extract prepare_call_env logic (#2012)
b55b2d618 fix(txpool): differentiate pool error variants (#2008)
7bd257604 fix(txpool): fix legacy tx chain id check (#2005)
8987f4e8b fix: set fees to zero if not provided (#1997)
1ecbd55d4 fix(engine): run incomplete pipeline (#1999)
7263c9a64 chore: use downloader and client traits where possible (#1992)
81183b274 fix(rpc): set tx receipt contract address independent of status (#1996)
f7813e9fe feat: add discreason graph (#1995)
050096d86 fix(db): off by one receipts insert (#1993)
889fa89d5 Fixing parse socket address function (#1990)
96b48e9c2 chore: rm false positive clippy (#1912)
fdf279283 fix(discv4): track whether endpoint is proven (#1984)
f0a95689a chore(txpool): include tx object in assert message (#1989)
8e6214768 Make EthApi client, pool, network and state accessors public (#1988)
00f691a58 fix(rpc): engine_getPayloadBodiesByRangeV1 params are quantity (#1986)
b27a0901a fix: clippy warnings in tests (#1954)
ee226fc88 feat: use dnsdisc peers for discv4 bootstrap (#1983)
aa6f2cb06 chore: export dupsort macro (#1981)
cb318192b Putting RPC tracing calls behind semaphore (#1914)
9fc3e6f59 feat: add missing Tx receipt info (#1931)
d07a0b9d2 fix: add remaining sepolia test vector from geth (#1974)
2e0755fc2 fix(txpool): update current pool based on state (#1972)
5f7171f12 chore(txpool): rename remove_invalid to remove_transactions (#1973)
ea4b4f77e feat: add pooled_transaction_max (#1971)
099f241b9 test(execution): extending with empty poststate (#1969)
3360d3444 feat(rpc): add missing eth_getFilterLogs impl (#1966)
21e34da9c fix: disable EIP3607 for eth_call and eth_estimateGas (#1961)
934b78b49 test(sync): pipeline intermediate unwind (#1970)
d0a70e179 chore(cli): bundle debug.* arguments in DebugArgs (#1968)
c4bc65aa5 feat(consensus): spawn pipeline (#1965)
37752ccda chore(rpc): move send tx to EthTransactions trait (#1964)
b59f7df72 fix(download): handle bodies range reset after unwind (#1942)
4a18614e1 tracing(consensus): CL call handlers (#1963)
ee52718ab fix: use proper option condition in HistoricalStateProvider (#1958)
c5f197dd9 feat: full peer id as a debug statement (#1943)
790541a71 feat: add peer disconnect metrics (#1956)
a116d1cf9 chore: add the rest of the tables to db list (#1957)
ba8650585 fix(rpc): AccountOverride nonce type is Quantity (#1948)
cec0102b5 fix: also clear merkle stage block progress (#1955)
2ce72c51e fix: do not send pooled transactions if pool is empty (#1949)
ea3091f3c tracing(consensus-engine): trace on new payload & downgrade canonicalizing log (#1944)
01b44448c fix: always return withdrawals post shanghai (#1945)
95815c7e9 fix(consensus-engine): handle pipeline unwind (#1938)
1ce021f25 feat: reth drop-stage merkle (#1941)
d580b5a18 chore(rpc): cleanup imports (#1939)
8e4e5e088 feat(rpc): install `EthFilter` on auth rpc (#1937)
6ac74d974 fix: don't write zero slots from genesis to state (#1936)
ce40bea46 feat(sync): beacon consensus engine (#1845)
84af91737 feat(rpc): integrate eth filter and eth pubsub (#1930)
1d3cf5a86 fix(pipeline): ensure unwind across stages (#1934)
c29d733f5 fix(sync): done flag for index history stages (#1935)
a45ef688b feat: add test chain event subscriptions (#1928)
b34ab3dc1 chore(pipeline): unwind tracing target (#1933)
56f219fc9 fix(execution): poststate extension (#1929)
d91102eec fix(cli): configure ws correctly (#1927)
2cba04774 chore(rpc): add traces for server start (#1925)
7200969bd chore(rpc): add debug to server config (#1926)
c4531feea feat(rpc): add ws allowed origins (#1924)
aaa99f6b4 feat: add transaction_receipt (#1919)
b44391776 check shanghai timestamp for withdrawals instead of paris (#1920)
4cc3a444e chore(provider): log proper transition id (#1915)
076fd5422 feat(cli): add missing --port argument (#1917)
8ac2b84c0 perf: Optimize and simplify sender recovery (#1900)
6afdd331d chore(rpc): simplify conflicting fee fields error (#1911)
bcfeb1dea chore(deps): upgrade syn 2.0 (#1910)
2bc4da5ea Extend Task Spawner with spawn blocking function (#1908)
f85837951 feat: impl send_transaction (#1774)
29e798662 fix: use Latest instead of Pending for rpc BlockId (#1903)
a7ce69d58 fix: spawn transaction pool (#1901)
3ce50f6c8 chore: add traces to rpc (#1904)
5ea1cbbd7 fix: add shanghai timestamp to goerli chainspec (#1902)
724ec1b5c fix: parse 66 blockid str as hash (#1890)
02e78c4bd fix(rpc): always include withdrawals in RPC (#1894)
f6a420fcf fix(rpc): fix block type fields (#1886)
13d65707f fix(rpc): return resource not found error code (#1891)
aafa8d446 chore: add rpc code owners (#1892)
782b591c1 fix(rpc): cap tx gas limit with allowance in createAccessList (#1893)
9af53aeec fix(rpc): treat number without 0x prefix as errors (#1895)
f2cb8bec6 fix(rpc): fix invalid tip above fee check (#1885)
44d279b53 feat: populate tx meta fields in tx by hash (#1884)
92e2c4d2a feat: add transaction_by_hash_with_meta (#1878)
f60b380a1 test: allow testing without `--all-features` (#1882)
d20a90639 meta: add commit sha example to bug form (#1881)
11a3772ea chore: make compile again (#1877)
c4f80b299 feat: Store receipts (#1860)
b28c40223 chore: move block body to primitives (#1874)
aaf73fd67 feat: database metrics (#1870)
c110ede50 chore: fix typo in grafana dash
72f59d222 feat: `sync.execution.mgas_processed_total` metric (#1868)
292be93ed feat: add gas processed panel (#1869)
38b0bf6d1 feat: Add transaction to block number index (#1866)
c5dbdab2e feat(rpc): impl eth_getLogs (#1865)
6cbc87a6a fix(executor): wiped postate storage (#1849)
a01574413 perf: create only one `trie` cursor per trie type per merkle execute (#1855)
a7a469302 feat(rpc): add trace_rawTransaction handler (#1861)
bd8ff152b fix(rpc): cap request gas limit if not set (#1858)
f926ee8af chore: phase out ethers blocknumber type (#1864)
876df20ca feat(cli): drop execution stage (#1854)
8673e95d0 feat(txpool): replace testing pool with default eth pool (#1857)
2a457c702 feat(rpc): add eth_syncing implementation (#1859)
1891e13d3 chore(rpc): return error instead of panic (#1856)
46a4d7ee2 feat(rpc): impl debug_getRawBlock/Header/Tx (#1852)
228f39030 fix(init-genesis): insert bytecode/storage (#1853)
3f342a7c0 ci: re-introduce running CI on ubuntu-latest (#1837)
0b7205da6 feat: run revm-inspectors via CLI hooks (#1850)
a59806f43 fix: add missing StructLog fields (#1847)
0936523e3 feat(rpc): kickoff geth traces (#1772)
0128d42b4 chore(pipeline): expose `TestStage` and add test stage set (#1844)
488295f56 chore(blockchain_tree): wrap tree database in `Arc` (#1843)
274ab5470 chore(pipeline): extract helper types to separate files (#1842)
02cb1e325 chore(executor): extract test utils (#1841)
25ac1370f refactor(sync): header sync mode (#1831)
6bb341a16 chore(deps): rm some rlp deps (#1839)
96ae3e7bd chore(rpc): rm allow unused (#1838)
85076fbde feat: add mainnet timestamp for shanghai (#1829)
100d4a90c chore: indent stuff in #1833 (#1835)
a05b3ffed perf: dynamically batch tx sender recovery (#1834)
075544e88 refactor: various cleanups (#1833)
995c5ad5d perf(stages): use regular rayon spawn (#1832)
661a2426f ci: check that benchmarks compile (#1828)
d774d914c feat: allow `--db` before or after subcommand (#1827)
7ac06cd29 feat: use chain specific bootnodes (#1826)
d65cab913 feat(rpc): port all geth tracing types (#1812)
16733e01f chore: small nits in executor from #1674 (#1823)
9de94ae73 docs: `finish_transition` clarification (#1824)
f34c1dcc3 bug(senders_stage): Stage `done` is wrong if range doesn't have tx (#1822)
7ef3f4d68 chore(deps): rm unused rlp dep (#1821)
7da13eb40 chore(provider): add post state tracing (#1819)
9036f5ea9 style: prefer `then_some` over `if else` (#1810)
ef51f566f chore(deps): bump revm and use new utils (#1816)
7c877cb92 chore: cleanup some staged-sync deps (#1815)
1a317f20e refactor: split consensus crate (#1814)
f08a70dad feat: add int or hex serde parsers (#1811)
3a01ad9cd fix(cli): create net dir if non existent (#1809)
376bfa2b5 chore: spawn engine api task as critical (#1813)
8f60f7d75 fix(cli): tip number lookup (#1808)
8485d7b20 ci: revert nightly downgrade (#1807)
1711d801a feat: continuous download (#1744)
241ec32ab feat: add canonical_headers_range (#1795)
57894f7b9 Issue 1770 move rlp impl for enr to discv4 crate (#1804)
090bbe783 fix(rpc): fallback to basefee when calculating fee fields (#1800)
7f5ac990e perf: write friendly `ExecutionResult` (#1674)
670db0b43 feat(BcTree): return inserted block status Accepted/Valid/Disconnected (#1798)
fe011f1f8 feat(rpc): enable eth_call eth_estimateGas (#1799)
6bd9a2598 docs: add some encode docs (#1797)
9f00d4840 chore: rearrange impl order (#1796)
498687b76 feat(txpool): add EthTransactionValidator::new (#1792)
00bcb210a fix(ci): downgrade nightly to `2023-03-14` (#1790)
67478ba77 fix(tree): vis of unwind block indices (#1786)
d6344e79f chore(provider): Added explanation for get_take ExecutionResult fn (#1776)
3b8c87652 chore(BlockchainTree): unwind function (#1775)
1cba25e65 chore(deps): bump aquamarine 0.3 (#1780)
47878184b chore(deps): remove unused deps (#1779)
7d30bd394 chore(sync): blockchain tree config and externals (#1760)
ed9c6a61e refactor(rpc): simplify state_at functions (#1771)
0dfb940f1 feat(rpc): impl trace_get (#1769)
7f0e32dd0 chore(rpc): impl with_state_at closure (#1767)
0c434e791 feat(rpc): impl parity trace_transaction (#1765)
bba61c0b6 refactor(rpc): use ChainState type (#1756)
a00df7ffb feat(cli): separate net dir (#1764)
ec7b9554f fix: fix clippy and broken code (#1761)
83aacf218 feat(rpc): add with_state_at closure (#1763)
43e362111 Improve revm halt out of gas error handling (#1725)
15d79ceda chore(deps): upgrade secp256k1+enr (#1715)
91f26f455 feat: validate withdrawal when validating block. (#1521)
880759ac5 Add p2p listener port options for reth node (#1753)
a688fdb38 feat(rpc): eth_sign* (#1665)
4725c4d77 fix: make ChainState provider work for Box<dyn StateProvider> (#1755)
46c96a146 feat(stages): add table checkpoint to `AccountHashing` and `StorageHashing` (#1667)
237fd5ce6 feat: BlockchainTree (#1212)
06db495d9 fix: use string instead of Vec<u8> for stageId. (#1495)
c78effcb3 chore(rpc): more trace prep (#1752)
8e5644dac feat(rpc): complete log filter (#1741)
a0ff24b69 feat(rpc): add eth transactions trait (#1751)
6c12ccb6e chore(txpool): add IntoRecoveredTransaction to PoolTransaction (#1750)
c3a49aea7 style: resort trait impl order (#1749)
b121e4d8c chore(rpc): make async (#1748)
ee3a8af75 fix(stages): clear pre-eip161 accounts (#1747)
5b90cbc41 fix(stages): add commit threshold to merkle stage v2 (#1656)
c5cd236e1 feat(rpc): implement log subscription (#1719)
54aab533c feat(rpc): add partial `eth_getProof` implementation (#1515)
4c1a35b2b feat: add trace inspector config (#1729)
5d9237c2e fix(rpc): use eth id provider for filter (#1740)
bc0ce6362 style: get rid of some else branches (#1736)
043098aa7 fix: default  to correct ws port in rpc server args (#1739)
5e0535c27 chore: add ReceiptProvider trait bound (#1738)
ff9f02d52 style(rpc): some transaction by touch ups (#1711)
2bd73199c chore(docs): add method name to RPC handler implementation (#1737)
31411681e feat: add ReceiptProvider (#1735)
c110c9162 refactor(provider): trie provider (#1723)
139c0c456 refactor(rpc): move revm utils to module (#1732)
e33e93c9a chore(txpool): remove Arc for internals (#1733)
102a5a378 chore: rename trace handler functions (#1731)
a98dc43cb docs: add api handler docs (#1727)
3ba2398f9 bug: Increment transition_id if block changeset is present (#1718)
29a2e1ab3 feat(rpc): add EthSubscriptionIdProvider (#1721)
ff34c0ec2 chore(executor): add tx hash to evm error (#1714)
12e94029a fix(executor): reset access list (#1716)
1846f2d73 feat: Implement is_syncing subscription handler (#1562)
a4a80a713 refactor(sync): td stage consensus checks (#1706)
e5a0fc655 chore(clippy): make clippy happy (#1710)
853da85c4 feat(rpc): `eth_transactionBy` impls (#1664)
a0f195590 feat(txpool): default transaction ordering (#1704)
99a821aa7 chore(txpool): delete unused `removed` updates (#1703)
fdfeeb42d refactor(txpool): use transaction error type (#1698)
89514d70f fix(txpool): track promoted transactions (#1702)
3ed9ef49d feat(rpc): add missing geth trace calls (#1700)
ad5f9aa78 refactor: extract transaction consensus errors to standalone type (#1697)
ba96b9d16 feat: Add Latest State TransactionValidator implementation (#1498)
45c6be4e3 ci: delete project workflow (#1695)
9d7975a07 fix: error on pow block in forkchoiceUpdated (#1692)
dd1a0b495 chore: remove redundant handshake traces (#1694)
6190eac9c feat: add Tracing inspector (#1618)
ea1146112 chore(rpc): add required fields to Trace handler (#1683)
89305b883 chore(rpc): add convenience from impl (#1686)
ce633c22e chore(rpc): move EthRpcErrorCode to rpc-types (#1690)
8ba0a190b fix(executor): preserve existing account state (#1691)
e913a536f fix: serialize index as hex string (#1687)
1e4ab0e1a chore: replace lru with schnellru (#1688)
d164a16be chore: rm duplicate TxHashNumber entry (#1685)
e07e9532c dep(revm): update (#1684)
17e8ce48d chore(deps): clean up `reth-stages` deps (#1682)
d0b1e0aa0 fix(dep): update and lock revm (#1681)
e49401181 chore(discv4): remove deprecated EF bootnodes (#1680)
279ad346f fix: return zero latestValidHash pre-merge (#1677)
9e1c341e1 fix(primitives): write withdrawal hash at genesis (#1654)
161de9aad feat: persist contract analysis in db (#1640)
b449ac06d chore: add from u256 impl to JsonU256 (#1673)
21c66621d feat: ExecutorFactory (#1672)
57e36223f feat: add `debug-fast` profile (#1670)
2c6a35929 docs(txpool): clarify ParkedPool transaction type (#1671)
77d108660 feat(rpc): add `eth_createAccessList` implementation (#1652)
a34226c8e chore(executor): reuse revm hashmap (#1663)
edeedd519 fix(net): enforce soft limit when propagating tx hashes (#1660)
a1d0b537a bug: Remove old account/storage root in merkle trie (#1646)
e06d0a4a0 chore(rpc): match all error variants (#1658)
ce39c9810 chore: add InvalidChainId error variant (#1657)
32e31b240 perf(provider): remove redundant lookup (#1650)
350344434 chore(txpool): expose underlying tx (#1651)
75e677cfd chore(txpool): expose `PooledTransaction` (#1649)
1e007d691 docs(txpool): minor fixes (#1645)
809d0cab0 fix(txpool): queued tx ordering (#1643)
ce2b83e77 feat(rpc): rpc handler for eth_getUncleByBlock{Hash/Number}AndIndex (#1595)
92a0ebbf0 ci: no longer pin nightly version (#1638)
e58fb6714 chore(deps): cargo update (#1637)
9dfee497e chore: add tx type constants (#1639)
31f62c11d test: add test for display help (#1623)
7b71af240 test: add empty decode buffer check (#1628)
446d76bc2 feat: Genesis Setters (#1632)
10d24b5cd chore: spawn cache task as critical (#1633)
0e9d18d4e feat(rpc): support eth_call state overrides (#1634)
91652a0b0 chore: add From bytes::Bytes impl (#1635)
cef4c425f perf: allocate ping buffer and move to standalone function (#1629)
5dc56cc76 chore: drop tokio rt on separate thread (#1627)
f605e7f3a chore: reexport revm create address (#1624)
1bb25ae8b style: take ownership of header arg (#1626)
9bdbbb2b9 fix(disc): trigger bootstrap if table empty (#1621)
2d1bcd17d perf: improve initial pooled tx exchange (#1615)
bc538770b fix: use correct serde impl for Withdrawal (#1616)
789ae514a feat: add derive contract address functions (#1620)
a553c1d70 chore: add spawn_critical function to trait (#1622)
fbfec26a3 Support soft limit in NewPooledTransactions (#1577)
161795945 feat(rpc): impl eth_call (#1612)
1ae74feeb chore: remove unused config table (#1611)
f89b50424 feat(rpc): impl eth_estimate (#1599)
e9c2e884a chore: `get_evm_evn` -> `get_evm_env` (#1610)
5720ede55 feat: db list paging (#1542)
5fbd3f0c9 feat(rpc): Add RpcModuleConfig and integrate in builder (#1605)
6501ce295 chore: expose methods and structs (#1607)
9326b4582 chore(deps): rm unused deps in primitives (#1604)
626c076c8 feat(rpc): integrate eth cache and task executor in pipeline (#1596)
ad0ce8cf1 fix(rpc): make exp claim optional (#1601)
42e3f5610 feat: refactor few stages to providers, introduce `insert_block` (#1474)
6136e0deb chore: bump ethers (#1598)
14811dae4 Implement Decodable for TransactionSignedEcRecovered (#1591)
2884eae07 perf: bench merkle stage  (#1497)
4839adeae test: fix hive tests (#1530)
4285186db refactor: Execution Stage owns Executor (#1568)
71bc1451a fix: use correct type for NewPooledTransactionHashes68 (#1548)
3790a1426 fix(rpc): accept jwt's starting with `0x` (#1589)
7a01e1e23 feat: add eth state cache (#1561)
dc2f6047d chore(deps): bump clap (#1585)
6cdf0a3ea fix: `seek_by_key_subkey` usage on `HistoricalStateProvider` (#1584)
530a4a059 chore(deps): bump clap (#1574)
5e0fa4409 fix(rpc): return eth_call fee errors as invalid params (#1559)
494a9e88b test: serde roundtrip test for rpc types (#1571)
56394eec2 feat: Hook on Execution  (#1567)
7275f8d92 chore: check genesis mismatch in `init_genesis` (#1560)
2d0699e98 fix: patch clap with fixed clippy warnings (#1573)
cea56f1e1 chore: silence unwanted clippy warning in test (#1566)
17474f309 chore(deps): rm unused deps (#1557)
662fd8728 chore: fix all the obvious clippy warnings (#1520)
b1741bd86 fix: rm duplicate size field (#1563)
036e93581 chore: clippy fixes (#1558)
41748e818 feat: Integrate new EvmEnvProvider in RPC (#1550)
305e992ee docs: rm global ip docs (#1555)
7d6563dee chore: patch ruint for quantity serialization (#1554)
9c841c908 chore: fmt
0ce507b4a Remove "--path" from reth import (#1553)
1b52fe90c feat: do not ban non-global IPs (#1549)
901813dcb perf: save a hashing step for bytecodes (#1547)
d872deda5 feat: more work on eth call and estimate (#1545)
c54db4f75 feat: format table sizes (#1543)
a0c82c55b fix(cli): block node command from exiting (#1540)
dc57fbad0 fix(disc): allow concurrent lookups (#1539)
3589879e4 refactor: use NetworkHandle to access num connected peers (#1541)
5844ce10f feat: add evm env provider (#1525)
6410d02bb chore(cli): raise the log level for tip lookup (#1538)
f21f9c5b4 chore(download): response validation order (#1537)
b14ee4e92 perf(download): parallel header sealing (#1536)
6d138daa1 feat: add revm-inspectors crate and accesslist inspector (#1529)
8299ca6fd feat: add reth-revm crate (#1526)
a3067d906 chore: remove unused crate deps (#1524)
22d20d568 feat(sync): set max block if `debug.tip` provided (#1522)
3c77dd9e2 feat(rpc): initial work in eth_call+estimate (#1514)
17dffba15 feat(rpc): impl uncle count handlers (#1511)
823866ac5 feat(rpc): launch auth server (#1506)
0cf27ce8e fix: patch ruint with quantity fix (#1518)
fdff1b0f0 feat: add encoded_length to ValidPoolTransaction (#1512)
8094ab18d feat: add BlockProvider::ommers (#1509)
1da439bf1 feat(rpc): add invalid transaction error (#1508)
9be76ca2d fix(docs): fix install command (#1503)
281f139b0 perf(rpc): add optional block hash arg (#1502)
81fec4b37 chore(docs): add command name as docs (#1505)
2e73463a5 feat: Add tx_type() and encoded_length()  on PoolTransaction trait (#1500)
44e1d13f1 chore: more work on filter (#1468)
eccafd1be test(cli): add chain args test (#1488)
8f4e6f697 chore(deps): bump backon (#1499)
c168ef443 feat: implement eth handshake disconnects (#1494)
0fc9f67af feat(eth-wire): add td bitlen check in handshake (#1490)
e65162dd0 chore(txpool): add pooled transaction function to get full tx object (#1483)
f78da81e1 feat(net): support eth68 transactions (#1482)
f0f8f417d chore: add EthVersion::LATEST constant (#1479)
1d2bb1f11 chore: add eth68 to default capabilities (#1475)
93b1a7f49 chore: cors followup changes (#1480)
3c41807f0 docs: replace deprecated setting in rust-analyzer's snippet (#1481)
4e66cc7ea chore(net): add negotiated eth version to events (#1478)
42b1fc1f5 feat: add `--http.corsdomain` (#1305)
20aceb750 feat(engine-api): exchange capabilities (#1469)
03832d6d2 feat(engine-api): Shanghai support (#1445)
c9075920c feat(net): support eth/68 (#1361)
cc5e5cab3 feat(rpc): implement block_transaction_count (#1471)
8d1dc58af feat(rpc): add block_by_number (#1467)
058349ecf chore(net): print unexpected event (#1466)
50203a8f2 chore: phase out ethers rpc block types (#1463)
2a9472e9c chore: some bloom followups (#1464)
99f2bfe77 feat: rpc Filter type (#1389)
279c0f917 feat(rpc): impl block_by_hash (#1460)
7ec4148ef chore(rpc): return input related errors as invalid params (#1461)
d76426034 fix: make it compile again (#1459)
359231839 fix: delegate JsonU256 serialize impl (#1453)
e8453abc7 feat:add server function in RpcServerArgs. (#1402)
eb1299194 feat(rpc): implement newHeads subscription (#1446)
e434e49f3 chore: rm trace per recovered sender (#1455)
bdb0bd689 test: LruCache (#1436)
d7456dfc2 fix: initialize missing fields (#1448)
82b993d8c docs: fix path to primitives and remove nonexistent crate (#1454)
0ef81c9a1 perf: compute hash from input buffer (#1450)
dba6b24bd chore: clippy fixes and make benches compile again (#1449)
1a31a21d3 feat: extend BlockProvider with default util functions (#1447)
b21f24c7c test(disc): fix flaky ping test (#1443)
5c2f96ed6 fix: allow withdrawal root past shanghai (#1437)
01b8c8b81 chore: bump ethers (#1438)
26b606fda feat(rpc): impl filter changes (#1373)
a0410e46b fix(disc): only start pinging new node if insert succesful (#1435)
4bdbcf346 feat(cli): enable shanghai ethereum tests (#1416)
4e31c89c0 chore(monitoring): docker compose configuration for Grafana & Prometheus (#1391)
54b6a4ae9 feat(provider): add `TransactionsProvider` and `WithdrawalsProvider` (#1431)
bacb3c59b fix(disc): ensure timestamp is within bounds of UNIX timestamp (#1433)
47989392c chore: exclude crate-template (#1434)
e24a1dd5b build: make docker builds faster with cargo-chef (#1432)
7c9b212b4 chore: relax Arc requirement for provider (#1429)
c834aee84 chore: put chainspec behind an Arc (#1430)
2306bfe99 feat: Add `eth_getBalance`, `eth_getTransactionCount`, `eth_getStorageAt` handlers (#1422)
1edb9d4cc fix: make execution errors fatal (#1428)
4203d7a9b feat(provider): implement `BlockProvider::block` (#1426)
94f759761 fix(disc): enforce expiration timestamps by default (#1427)
495db6e30 chore: add pprof profiler/flamegraphs to all criterion benchmarks (#1425)
fad9c04b0 feat: Account Hashing Stage Benchmark (#1301)
bb520957d fix: set shanghai time in From<EthersGenesis> (#1424)
bb65a7af9 fix: actually exit (#1421)
760f76ab8 fix(net): set tracked peers metric by value (#1420)
ae2441a9f perf(disc): evict after processing incoming packets (#1400)
8547fbfae test: `walk_back` and `walk_range` (#1407)
63bbafaaa docs: update stages docs (#1413)
188d8469a chore: disable runtime shutdown for now (#1417)
b9c838083 chore: spawn pipeline future to blocking pool (#1418)
6005ecb89 perf(net): emit all discovred nodes (#1414)
db4c4fb8d chore(db): make database error codes signed (#1236)
f979c6c1f chore: reexport bytes & bump version to 1.4 (#1395)
d2ec304bd feat: allows to disable dns and discv4 discovery separately (#1406)
8db091e8e feat(engine-api): additional shanghai methods and types (#1410)
b0e79fd4a perf(disc): only remove node from table if its bucket is half full (#1412)
8a214d6f0 perf(disc): allow more FindNode failures (#1411)
9b81b4f20 chore: `Header::seal` and `Header::seal_slow` distinction (#1409)
9dae54a3e feat: add Error extension trait for `Result<Option<Block>>` (#1381)
39949fdd0 fix(disc): only answer FindNode if endpoint proof exists (#1404)
804d8bf1d fix(disc): check insert result on neighbours response (#1401)
e97753c76 feat: withdrawals (#1322)
94674f9c1 feat(rpc, storage): `eth_feeHistory` except `reward` field (#1275)
c41c34349 fix: convert fuzz test names to snake case (#1390)
06036706c fix(hive+docker): use ubuntu image (#1363)
d19720aa7 chore: add test for status init (#1388)
4f1ec0d8d fix: use td from current head for status (#1386)
12d85087a feat: Add Shanghai on Sepolia (#1357)
03f74a53b fix: return correct file client tip (#1385)
139372fb7 feat: add native BlockId type and implement requiredCanonical field (#1237)
f8eca7a20 test: Hardfork (#1382)
ba2075906 chore(rpc): add more helper functions to modle regsitry (#1380)
a08a7b011 fix(rpc-types): use jsonrpsee_types so it compiles standalone
cd9b98836 feat: make SubscriptionIdcompatible with client proc macro (#1378)
9842f15ee fix: storage hashing stage gets stuck in a loop on big contracts (#1362)
6da896708 fix: use `walk_range` on `import_table_with_range` (#1364)
c41522187 chore(rpc): rename RpcModuleConfig --> RpcModuleSelection (#1376)
550a53760 fix(stage): fatal channel closed error (#1379)
7842036c9 fix(disc): add missing expiration checks on messages (#1375)
007409601 fix(disc): only initiate endpoint proof if insert was succesful (#1377)
a9b9f4271 fix(rpc): use rpc::BlockNumber type not u64 (#1370)
5bf41610d fix: handle closed download channel in headers downloader (#1369)
022bf6342 fix(rlp): encode `None` optional fields as empty if any values left (#1366)
a4ad2da06 chore: change RpcServer build (#1367)
7480ea418 Split the http_ws_addr (#1323)
94686b8bb fix(download): propagate body request error (#1365)
78d06fd76 feat(rpc): work on subscriptions (#1290)
32a1966eb feat: tell user that we are shutting down (#1360)
ddab623a4 fix: don't mark ok tasks as panicked (#1359)
d3817b190 feat: more downloader metrics (#1189)
f995e66c9 chore: integrate Boxed TaskSpawner (#1356)
87ba4840e chore: make TaskSpawner dyncloneable (#1354)
d5d685b5b ci: partition tests (#1349)
816df4b0d perf: use pre-computed genesis hash for known chains (#1351)
313bf2850 feat: add `reth dump-stage` command (#1328)
6e89af9e8 fix(net): handle closed channel in Spawned downloader (#1346)
f63c8d7e3 ci: split ci workflow (#1345)
d216081b5 feat: add `Finish` stage (#1279)
ce2354a05 ci: use matrix for sync job (#1339)
7b1624d59 feat(rpc): basic eth filter support (#1320)
0aaf51d46 test(net): speedup network tests (#1337)
5361d5f83 chore: add proptest-regressions to gitignore (#1332)
cd1afccf5 revert: "Revert "cli: integrate TaskExecutor" (#1329)" (#1336)
8a0156fe4 feat: add ChainEventSubscriptions trait (#1338)
091fbf6f8 chore: only log chain id and genesis (#1341)
ea79ed104 fix(chainspec): cascading paris fork activation (#1334)
3b732ad0d feat(storage): make `Database::view` accept `FnOnce` instead of `FnMut` (#1331)
5c62149b8 ci: add sync ci job (#1330)
48d121dc5 Revert "cli: integrate TaskExecutor" (#1329)
49292091d Revert "feat: add `reth dump-stage`  command" (#1327)
b3ff45229 feat: add `reth dump-stage`  command (#1265)
e93cd206f feat(storage): accept any `RangeBounds` to `walk_range` (#1309)
e689ba03c Add TransactionSigned::decode_enveloped (#1186)
4b90d4240 feat: add TaskSpawner trait (#1318)
2c0557d99 feat(rlp): support deriving optional fields (#1321)
599710307 cli: integrate TaskExecutor (#1314)
a1f7f54ab bug: wipe storage only on selfdestruct (#1319)
29d13d268 chore: stop logging jwt secret (#1312)
3566c5647 perf(sync): do not store empty ommers entries (#1313)
6c3e2bd5c fix: compile errors on standalone txpool build (#1316)
6a2c61f4d test(net): add tracing to shutdown test (#1310)
211c7e340 test(net): disable discv4 discovery in tests by default (#1311)
37351df58 feat: extend task executor (#1302)
73ffc425a chore(disc): add traces when node record added (#1303)
dc391f945 Test(rpc): Test support for different api modules (#1288)
a78955787 fix: p2p head initial td (#1294)
1a139ea6c chore: fmt
7aedee601 feat: convert EthApiError to RpcError directly (#1241)
d40d9e4d1 test(disc): add wrong to test (#1286)
f35eba6d4 feat(cli): integrate task manager and ctrl-c handling (#1292)
56f35f8b6 chore: new grafana dashboard (#1293)
eba63b8f7 fix: chainspec ttd check (#1285)
4b0acce95 chore(rpc): use consistent generic type order (#1291)
afb6671a0 feat: refactoring reth_methods() to return multiple Methods (#1284)
df6ff6380 feat: JWT secret lifecycle (#1209)
3d0864bbb chore: move Transaction container to reth_provider (#1238)
b23bd7c60 refactor: move structs to args mod (#1250)
ea5633b3c feat: changed walk(), walk_dup() definitions and impls to accept Option<T::(sub)Key> #1197 (#1283)
6473547d0 perf: move local_thread around ExecutionStage execute_inner (#1277)
d106f8abc feat: impl Provider for ChainState type (#1278)
b82eac4b0 Unify builder argument order (#1276)
00a49f5ee chore(db): remove block numhash key (#1242)
23848df73 chore: update revm to v3.0.0 (#1248)
b731bb9bb refactor: make SharableDatabase more relax (#1274)
07ed660ca chore: unify provider delegate macro (#1273)
3d60a24f9 perf: reuse genesis hash (#1271)
de0ecb036 feat: add ChainState type (#1249)
9a4df50a9 feat: add scaffold impl of EthFilter API handler (#1270)
3a13a399d test(net): speedup network tests (#1269)
a58cf8ac6 ci: decrease proptest cases for `trie::arbitrary` (#1266)
b6c9886b0 chore: document parts of ECIES and MAC (#1260)
3e269714e feat: create primitive to rpc conversions (#1239)
c7c76e9a5 feat(primitives): rm RawBlockBody, use Block (#1263)
780419fb0 chore: make clippy happy (#1261)
eb2f5e4ea refactor/perf: use rayon spawn for recovery jobs (#1226)
d82553cd6 fix(disc): initiate endpoint proof on ping (#1258)
7e68373f2 perf(stages): Adds benchmark to `TransactionLookupStage`  (#1130)
440718288 feat: add `reth init` and `reth import` (#877)
0f2d34597 Add header to MIT License (#1254)
b7bda139d feat: init stage checkpoint metric (#1190)
6e119e92d Update copyright year in MIT License (#1253)
19b4beb72 fix: remove ctrl handling (#1252)
ebd5d3c1a chore: move StateProvider impls to state module (#1251)
c9629d0c9 feat: add encode_enveloped function (#1245)
f07041206 feat(rpc): add EthApiSpec to DebugApi (#1246)
9470943ba Integrate RPC in CLI  (#1227)
92ff3f961 add a test on incoming connections disconnect (#1233)
e833c861e fix(consensus): has_block_reward() should return `true` before `Paris` (#1240)
4df228a87 feat(cli): add persistent peers (#1167)
4cbd19901 fix(rpc): remove unused rpc transaction fields (#1228)
cf8c7b5c4 feat(rpc): add Standard rpc module selection (#1229)
88a838b9f test: basic rpc testing support (#1222)
f56bb5a02 Test(rpc): Add Testing for EthApi RPC send raw transaction (#1220)
314ea0883 feat(cli): integrate rpc server (#1213)
1d1d90bd1 feat: optional serde features (#1214)
8ace2fb0e feat: gracefully disconnect incoming connections if at capacity (#1138)
d7d61ec2b bench: total difficulty (#1215)
4c7658187 feat(rpc): impl get code handler (#1210)
10aa3d617 feat(rpc): impl rpc-builder types (#1203)
df6e3143c feat(net): add test-utils and NoopNetwork (#1204)
27b07f57f fix: add serde feature to secp256k1 dep in discv4 (#1205)
ee413da92 chore(download): remove body download range recovery (#1201)
b3de7adae fix(rpc): make NodeInfo behave as geth nodeInfo (#1200)
02a6aec3f feat: support time-based forking (#1128)
3605e0042 metrics(download): out of order requests metric (#1185)
d99ba4b4e chore(net): improve naming for request handling (#1196)
c77de627d Impl state and account trait for NoopProvider (#1198)
23f1a902b Fix transition id in storage hashing stage (#1192)
6151c2772 feat: JWT to authenticate external CL against Reth (#1127)
9572ba0b3 perf(net): backoff on incoming if channel at capacity (#1191)
5e97b4e28 feat: Add account_code helper function to AccountProvider (#1169)
f00747fc2 chore: update Cargo.lock (#1193)
bbcf3679c chore(download): lower the buffer limit for bodies downloader (#1178)
a40745bab feat: add `db.commit` metric (#1188)
0f5a6b721 Configure RPC endpoints specific to transports  (#1077)
705d9fcc8 fix: consider empty headers response edge case (#1180)
952ec83ae chore(rpc): update forkchoice state in `fork_choice_updated` handler (#1177)
54744b3e6 fix(net): always reset peer state on response (#1179)
c6a7d3637 chore: add disable discovery options (#1182)
ba70b3b7e fix(cli): make max_block optional (#1176)
e46d0401a feat(cli): allow running pipeline up to --debug.max-block (#1175)
2ef24b3b6 chore(stages/total-difficulty): make header cursor ro (#1174)
533e7c9cc perf(SendersRecovery): re-use Secp256K1 context for >2x speedup and add benches (#1171)
75692bc5f perf(net): add manual yield point (#1155)
ac164a605 fix: use correct config for sender recovery stage (#1170)
786a0d3e4 chore(net): support multiple eth protocol versions. (#1152)
dab1f4f49 feat(net): add shutdown network signal (#1011)
db5410b84 fix: missing hashed storage entries (#1143)
8303e5155 feat: format PoorError to mirror Geth's TxPool Error messages (#1156)
774f158a9 chore(net): emit message traces (#1153)
cafbb0f14 perf(net): increase default capacity for incoming messages (#1158)
fd7dc1196 feat(sync): `MerkleStage` (#994)
6dce98cfa chore(execution): Refactor unused executor (#1096)
689ba28ca chore: restructure transaction impl order (#1166)
e7cc50038 test(db): cursor write operations are working properly wherever cursor is (#1161)
2c9a54c0a chore: ignore data dir (#1157)
13eea35c6 feat: use MeteredSender for ActiveSession Sender Half (#1150)
a55e7fd9b fix: add bytes to downloader test_utils deps (#1149)
9d4bd5e00 feat: implement headers for FileClient (#1113)
e09b3e098 feat(rpc): add basic state access functions (#1136)
e048718ea refactor: pull out rpc/ from net/rpc (#1147)
1f64d8e9d refactor: pull reth/common/rlp up to reth/rlp (#1146)
16b3f1677 fix(download): body downloader flaky test (#1145)
66aa94732 feat(rpc): impl accounts handler (#1135)
d050e47a8 feat(metrics): Add describe() calls to metrics (#1141)
c63f5ff94 fix(rpc): add mix hash (#1134)
1642d77dc chore: bump aquamarine (#1129)
51ab6fde9 feat(rpc): add EthSigner trait (#1118)
5ee3cfe50 feat(rpc): impl send_raw_transaction (#1123)
e683197ea docs(provider): More context about Stateprovider (#1124)
9f49beb5e feat: support skip attribute in RlpEncodable derive macro (#1116)
a3800c52c feat(consensus): beacon consensus builder (#1119)
b178631bc chore: rm unused crate (#1114)
28cb91c6b perf(net): use qualified types for headers client future (#1115)
0ea1360cd chore(rpc): replace all todo! macros in rpc crate with rpc error responses (#1112)
a588f7902 feat: introduce FileClient for importing blocks (#1111)
0149bde8f Rename downloaders (#1108)
ae771d291 perf(net): add protocol breach request timeout (#1099)
c5bc27205 fix: report reputation changes correctly (#1086)
5c32ad01c refactor: add Peers trait und decouple rpc from NetworkHandle (#1100)
5da6b07d9 chore(consensus): crate refactor (#1094)
e0dbcaece feat(download): prioritize requests for missing bodies (#1095)
f771e23f9 feat(net): test syncing from geth (#623)
cc43b7283 chore(db): microbenchmarking for table serialization and db insertion (#513)
6ef48829b chore: run txlookup stage after exec (#1091)
b72c9bc9f refactor(rpc): standardize type for  gas price/fees as U128 (#1033)
d865db49d chore(stages): Helper for walking over table range (#1025)
be70f810e test: Modify can_serde_config_test (#1048)
55fc6924b feat(download): immediate body response validation (#1080)
0e24093b0 fix: dont insert empty accounts after spurious dragon (#1089)
0c341ed9c Revert "feat: support time-based forking" (#1090)
b7b978fde refactor: node command (#1087)
6b795be77 fix: increase minimum request timeout (#1078)
6f89ad086 chore(sync): consistent stage ids (#1085)
e2ac4d3f3 feat: convert HeadersClient BodiesClient futures into associated types (#1063)
0c2225956 fix(docs): broken links in stages docs (#1084)
e63d257f0 docs: consensus engine API (#1083)
17c1549ea fix: change append with put. Some nit comments (#1070)
e9228227d fix: use correct decoded len function for base32 (#1081)
e8d7c051c fix(dns): ensure branch children are valid hashes (#1069)
072a6c56d chore(txpool): implement ensure_max_init_code_size() (#1062)
87306f289 ci: ensure docs build (#1073)
ba44c1551 feat: pipeline builder (#1017)
6b952dd94 fix(net): prevent double reputation report (#1068)
9cdead564 feat: support time-based forking (#985)
8cfe24081 fix(download): body download range (#1065)
4a5a1dbea fix(download): header downloader initial state (#1064)
71dc531e6 feat: HistoryStateProvider (#1057)
4e46d58b2 docs: update linked URL to Foundry in readme (#1060)
b5dab614d feat(cli): spawn task downloaders (#1055)
a9c75d2fc bug(db): move seek fn from DubTable to Table (#1031)
6dcced0cf feat: index account/storage history (#978)
1d5cce109 fix(eth-wire): send p2p handshake disconnects (#1047)
bd540c70c feat(download): bodies task downloader and header selection fix (#1049)
2397c54a1 ci: add doc test job (#1045)
25b0e5326 test(db): dupsort append & append_dup (#1043)
d6bd075e7 doc: Fix broken doc-test on task.rs  (#1042)
ed239e868 feat(sync): `TxLookup` stage (#972)
99c52e55b feat: compute genesis root (#1020)
572f05a2e fix: redundant clones at metrics tests (#1040)
d55b38975 test: added unban_peer() test (#1039)
c23a2215b chore(db): restructure providers crate (#1003)
89ed9c8c4 test: print request error (#1032)
0666e2942 feat: move ReputationChangeKind to network-api (#1035)
e493720f6 feat: integrate chain_id and protocol_version in NetworkInfo (#1029)
6c37b0aa1 feat: add task header downloader (#958)
d08aa94f5 feat(download): bodies downloader metrics (#1027)
c5cd64bb0 chore(download): cleanup bodies downloader errors (#1026)
93194e8a0 metrics(download): move header stage metrics to downloader (#1014)
d0f752fc5 chore(metrics): allow dot in the scope value (#1019)
2ae88b01d test: fix failing doctests (#1024)
3a3cbe28c fix(primitives): ensure sepolia activates london at genesis (#1021)
2d20be0d5 refactor: Make Transaction fee and price field types consistent (#1005)
d2f92f630 chore(metrics): support and default to `.` separator (#1018)
a1ad688c5 docs(dns): add note about attempts (#1015)
01cb6c07d nit: add must_use to `ConcurrentDownloader` (#1010)
e195e1d14 chore(download): propagate fatal bodies db error (#1008)
1c93b2c52 feat: refactoring get_status() to return NetworkStatus (#997)
7905100f6 refactor: use `dyn Consensus` (#1007)
0e02bdf83 meta: add field for version/commit (#1006)
a24048a23 refactor: deprecate downloader trait (#959)
167aa60ed chore(deps): rm unused deps in downloaders (#1004)
2ed8128e6 add TraceApi impl placeholder, todo for functions implemention (#998)
1e94131cf add DebugApi struct, functions to be implemented (#1000)
6f047a5de feat: add Web3 namespace RPC handler (#990)
e505c5f67 Fixed dead link in Book -> Installing Geth (#995)
865367fe4 feat(rpc): add default to_rpc_result function (#993)
68c76664d test: small serialization test of u256 into json (#991)
d60189594 feat(download): bodies downloader stream (#905)
b354a17f6 test: add missing fork_id tests for the Görli and Sepolia nets (#987)
c5440cc77 chore: re-add `confy` (#989)
800c4e0e7 chore: rm unused dep (#988)
5a11b58ad refactor: replace NetworkHandle with trait in NetApi (#979)
9bc9cdbbe feat(rpc): add impl_to_rpc_result macro (#986)
c7289bd9e feat: Selfdestruct storage changeset (#974)
681f8a601 fix(net): export `PeerInfo` fields and derive `Clone` (#977)
c32618639 fix(net): export `PeerInfo` struct (#973)
1e84189fe chore(primitives): revise signature interface and transaction encode (#928)
d32710e1e chore: make FetchClient Cloneable (#970)
a331b54bb Create Network variant in reth_interfaces::Error (#950)
009d2056f fix: mark response correctly (#966)
fab150895 chore: rm unused HeaderClient in Header Stage (#967)
583426bb9 Prevent follow-up requests if a response is likely bad (#946)
72cc736cb feat(rpc): add missing parts for rpc builder pipeline (#954)
86d543abf fix(staged-sync): write genesis EIP1559 base fee (#965)
acac82fcb refactor: introduce reth-staged-sync crate (#962)
17ed0955d chore: make update_head fn sync (#960)
0523fd264 Add withdrawals in Block eth test model (#961)
3c64c9461 perf: send request retries with high priority (#955)
e3271dafb bug(stages): ExecutionStage incremented TranstionId to often (#952)
f2ed6e2bb chore: add help text for `--bootnodes` (#948)
3f7744398 build: bump the CRC crate from 1.x to 3.x (#930)
c41bdd9cb chore: prevent redundant hash initialization (#947)
25e9b399f refactor: use reverse walker (#938)
d86c9890b docs: document rlp derive macros (#945)
a1d83dbbd chore: prevent redundant hash initialization (#944)
e4bf94c3c chore(net): reduce log level for outgoing conn errors (#941)
ab654dd40 refactor: remove legacy headermetrics describe (#943)
ac9f26fca Extend HeadersClient, BodiesClient with a priority argument (#935)
b4080a7de feat: concurrent headers downloader (#891)
eb11da8ad fix(net): set status, forkfilter from chainspec (#939)
2ec490a13 feat(metrics-derive): ability to specify labels during instantiation (#893)
cfef66688 Network: Extend `NetworkInfo` trait with `NetworkStatus` (#923)
2a77e0808 test: add stage name to test suite functions (#934)
013eb5151 chore(clippy): make clippy happy (#933)
54e9b12e6 Send pings in P2PStream.poll_ready  (#931)
78ffd0a7c fix(primitives): remove Hardfork::Eip150, Eip158 (#926)
d0e374113 impl From for Status/SealedHeader (#927)
82b10fae4 feat(primitives): add Hardfork::Eip150 and Eip158 (#925)
9a2f265d6 Docs Chapter - Discv4 (#759)
9ab244f8f feat(primitives): impl From<Genesis> for ChainSpec (#921)
899d011bf feat: add AccountHashingStage and StorageHashingStage (#756)
a8b7a089b feat(bin): Format `db list` & `db status` subcommands (#667)
161fe0d95 test: signature & transaction w/ EIP155 (#914)
f462f7553 chore(deps): rm unused deps (#915)
aadc21cf3 fix(net): reset backoff counter on graceful disconnect (#918)
a1dfafe33 docs: additional response handling docs (#917)
7db6791d9 perf: tighten reputation change units (#916)
115e623ae Ability to (de)serialize NetworkConfigBuilder (#897)
e9792c1b4 fix: compilation errors due to api breakages
37ca7e0b3 feat: add --nat flag to reth node (#888)
dba3b30a4 feat(rpc): Add `admin_nodeInfo` to get the local node record (#880)
5d45325e4 feat(net): Metered senders (#726)
4f91344b5 feat: BlockTransition remove hash from NumHash db index (#894)
e1aae3e12 feat(primitives): impl genesis state root helper (#904)
b07e5be04 chore(eth-wire): trace handshake messages (#910)
74fb28932 fix(node): insert genesis on node startup (#909)
075493ea5 chore(primitives): test all mainnet forkids (#907)
6aed4e414 feat(docs): Mention idle peer selection when downloading headers/bodies (#906)
f9de425ad refactor: unify all chains confs (#747)
55d1db0c1 feat(network): move test helpers to test-utils mod (#901)
79fad91ca feat(net): integrate num active peers in downloader (#900)
06be08333 Fix build (#899)
7c5d6dbe8 refactor: use mod.rs style (#898)
7795bf539 Add a --bootnodes flag for reth node (#867)
42f793647 fix(rlp): receipts from non legacy transactions returning wrong length (#847)
9482c551c feat: add a reverse db walker (#841)
d50d9bd0f chore(net): Add `proptest` roundtrip to `rlp`  types (#829)
3cd8fb574 refactor: remove db file on db drop command. (#885)
27ed772d3 feat(rpc): integrate network traits in rpc builder (#890)
8f53c0782 fix(test): set stage progress (#895)
75fab0011 fix(book): incorrect paths for book pages (#889)
d5fefa3a6 feat(metrics): derive with dynamic scope (#785)
16ce828e2 feat(net) Increase the timeout for peers that are to be backed off repeatedly (#828)
a1a08b26d feat: Add DAO hardfork irregular state change (#884)
4c67cf2fb Added bench for recovering a transaction's signature (#886)
a1c8a3471 test: add test for header stage two step download (#843)
67091bb7c docs: create eth-wire chapter (#818)
ee0b07d65 test(sync): add test with partial run of total difficulty stage (#883)
5c80bc912 fix: validate fork_id before adding peer from discovery (#871)
a5bdfe54d feat(net): prioritize requesting peers with low latency (#835)
0603f07c6 feat(net): add way to get the `NodeRecord` of the local node (#875)
18dbcd4e6 fix: use correct boolean conversion for direction (#870)
02632cd88 feat: show possible values for `reth stage` (#872)
77f48b05b refactor(rpc): downgrade single mod files (#866)
707e488d2 feat: improve eth test runner (#868)
bcbc3dacc test: rm multi_thread flavor for tests (#865)
e3dbaf686 feat: include optional ForkId in Discovery (#863)
7ef2931df docs: use nightly clippy in vscode (#840)
237e66126 feat: add `PoolTransaction` struct (#804)
3f9e7a080 feat(net): introduce PeersInfo trait (#860)
513df631e chore: convert warn,err to debug (#862)
6b86b4053 chore(deps): bump ethers (#861)
c4bafe809 fix: clippy warnings, or_fun_call and unnecessary_lazy_evaluations (#846)
e6ca4c56c feat: add shutdown signal to TaskManager (#831)
7767b216b feat: integrate DNS discovery service (#832)
ba3048ceb refactor: add network-api crate (#838)
33c9cbea6 fix(book): fix banner image 2nd itr (#839)
e9cc416d7 feat(doc): Bootstrap MacOS runbook (#822)
49132a8d1 feat: Add neighbours_max_ipv4 test (#836)
429cd69ed feat(nat): add None Natresolver (#834)
db24d3ae9 chore: enable arbitrary in db tests (#833)
09c5a04c7 feat(disc): add DnsDiscovery service (#794)
23984e3db chore(deps): rm unused tracing-futures (#830)
4460dc7b2 feat(net): adaptable request timeouts (#789)
5b6343703 chore(net): `set_capability_offsets` tests and refactors (#763)
2f79d6e89 chore: docker improvements (#825)
09b7958fb mx - readme.md fix - fix broken image with reth repo official banner  (#824)
70e528857 chore(downloaders): remove backoff logic (#823)
20ee1bb1c refactor: move cli trace helpers to `reth-tracing` (#820)
8f97540bd docs: remove outdated & extra `release.md` (#821)
dc8edcabb chore: double default session event buffer to 128 (#819)
9c10234cd feat: add rate limit implementation (#813)
531dbdbd2 fix: allow partial configs (#814)
2e95ed4b6 fix: make config serialize as toml (#811)
2e8701768 feat(cli): more reasonable log output (#784)
16d506d21 add a helper function for ActiveSession on_request to safely emit_message (#806)
e846fbbb8 Point at the book for run instructions (#795)
b91e8128e chore(docs): update expired geth installation link (#802)
aabbe4923 chore(codecs): add `proptest` roundtrip to all `main_codec` (#803)
593a94e42 feat: add drop subcommand for db command (#801)
55bc2591e fix(net): handle outgoing connection error correctly (#798)
3bd1458df Rename cursor functions (#787)
e5e74cbc0 fix(execution): Increase cache scope, and apply block reward to cache (#793)
515590faa refactor: move cli utils to new `reth-cli-utils` crate (#790)
7c9c2fea5 feat(txpool): add gas limit check when inserting new transactions (#780)
2b3dfe93a feat(dns): add dns discovery service (#768)
d522abb74 chore(deps): bump tokio 1.24 (#778)
40f30ec95 refactor: clean up `SocketAddr` value parser (#777)
2b5ee2b18 chore(primitives): use `reth::Bytes` and implements `arbitrary` (#776)
d98f9fe50 move HasRemoteAddr trait to reth-net-common (#775)
d296946bf add unknown fork spec (#774)
31cb66902 fix: Fix typos (#773)
a9ff1dea0 Document libclang prerequisite (#770)
05e9c79cc feat(net) Add TransactionsManager Metrics (#769)
5085ac7cf docs: fix typo "the" (#767)
e654d1ded fix: add missing match arms in mdbx Error::to_err_code (#732)
75f56e308 docs: add release checklist (#766)
0b9ceb9ef feat: misc config files (#765)
da59ead58 fix(net): use mapped v4 when inserting records (#761)
acb075381 chore(deps): remove unused ether-core (#760)
ca3372909 feat(cli): add more convenient SocketAddr argument parsing (#757)
2da828478 feat(net): Bandwidth monitoring (#707)
1d2e0526a fix(disc): convert mapped ipv6 address (#754)
09bb2d914 fix(disc): use remote addr for NodeRecord on ping (#753)
929cde46c unwind tracing (#750)
059c33dd0 Fix: typos (#749)
f359992dc feat(disc): add another self entry check (#748)
1b5bc5e1f Rotate peers when fetching (#743)
258431aac primitives: add own `Bloom` type with arbitrary (#746)
a94560fc5 fix(disc): use lookup target for distance (#742)
ade1ea421 refactor: clean up `StateFetcher::next_peer` (#738)
ee8b0efed fix: apply correct reputation dmg on bad msg (#739)
6cf5427af style(discv4): use event buffer (#737)
f924880d5 perf(disc): only initiate another auto lookup when previous finished (#733)
8c96704ff chore(deps): rm unused (#734)
99c7ba192 ci: don't add PRs to project (#735)
56cc999c5 fix(disc): mark node as queried before ping (#731)
140791c90 build: add dockerfile (#688)
babf73612 feat(net): add granular backoff durations (#729)
fe5e3bd0c feat(node): allow config'ing trusted nodes from cli (#728)
e4bd5b4fe feat(net): add NetworkMetrics (#708)
528c19f07 fix vec of type with buf (#727)
e069248e7 feat: Stage Tool Execution Stage (#723)
5c88f25ef ci: add project workflow (#720)
759ba3931 feat: Stage tool (#716)
973ea48e0 feat(cli): p2p header & body download (#698)
28f67b371 feat(download): dynamically adjust body request (#718)
ec88f1dee feat(sync): standardize stage control flow checks (#681)
8c413ad0a trace(download): failed requests (#715)
9d6be78f4 chore: Box<dyn Error> -> StageError (#721)
19f4132eb chore: fix typo in book (#719)
5a5855459 test: add debug test for getting headers (#713)
42f3245a1 feat(net): penalize peers that send same transactions (#712)
5933014fb test(net): more txpool testing support for network (#711)
6f3eb42d3 feat(net): ignore transactions during sync (#705)
c60495df7 feat(sync): update sync state within pipeline (#697)
6407b5087 chore: use `B160`, `B256` and `U256` coming from `revm` and `ruint` (#676)
93b6ce597 test(chain): add shanghai forkspecs (#700)
3a67809cb test: test ack encoding (#699)
13f143d06 feat(disc): add set_lookup_interval function (#696)
db4f0befe fix: bump request timeout (#695)
6311915ea chore: move metrics dep to dev-dep (#694)
65bc3cb7b RPC Admin namespace implementation (#685)
debf21d34 feat: add SyncState traits (#693)
c7dc22fd4 fix: remove BlockExecutor default impl
a7f8d4fc3 feat(download): body downloader tracing (#691)
346d50ebf feat: test trusted peers functionality (#687)
13441ff29 style: rm redundant Pipeline::new (#682)
ec69481af ci: use nightly for sanity workflow (#679)
fc977b27b meta: latest nightly for lint (#675)
e73b0019f Add admin_(add|remove)TrustedPeer on admin rpc (#678)
05cb56788 Change terminal_block_number type to U64 (#677)
cb6ddfcc4 feat(sync): total difficulty stage (#665)
dafc01dde feat(net): add eth66 to default caps (#673)
efac887e3 chore: add serde feature to network crate (#653)
97d87409b Reth book for user (#666)
ed55c2bf2 docs(net): update best_unconnected docs (#670)
20847845e feat: raise fd limit of the binary (#668)
1f6a9436a feat(net): enforce trusted_nodes_only setting (#660)
4efb7b92b fix(discv4): ignore self-entry on neighbours response (#664)
24d561202 rename StateProvider structs (#663)
a7d805935 test(engine): consensus engine tests (#648)
f5ae970e6 feat(cli): add `--disable-discovery` (#597)
b5d8b6d4d feat(node): print peer ID and addr on startup (#655)
6efd50b25 bug(execution stage): Fix ommers error (#661)
75ebfcf0d chore: add RLP encoding support for IpAddr (#659)
bec1937f6 chore: rm rpc type imports (#645)
c62574b2f bug(consensus): Remove mixHash zero check after merge (#652)
3ab6c278e fix(net): improve error propagation (#620)
96735ecfd fix: advance buffer after enr decode (#647)
de6630a12 feat(network): get peer info (#603)
208118caa meta: stable toolchain (#640)
565a0aa90 feat(engine): new payload execution (#631)
47d044942 patch nightly toolchain (#642)
15e6a359b fix: enable missing feature (#644)
28669d4aa fix(sync): return control from `HeaderStage` back to pipeline (#609)
76e76bb65 feat: add trusted nodes configuration (#569)
d9d0ba14c docs: add outgoing request diagram (#630)
525f28a67 feat(net): integrate external public ip auto discovery (#632)
c3432bc28 feat(rpc): add rpc builder support (#635)
1ba81191f perf(net): backoff on IO error (#633)
d4d8a8c88 Moves code walkthrough book chapters to `docs` (#629)
a51fa4fd6 docs(book): start book chapter for `network` crate (#445)
dcd3923d1 Add serde support for NodeRecord primitive type (#617)
c2b19cece feat: add txpool metrics (#584)
1c3d70424 docs: fix indentation (#626)
5bb14ecb7 fix(metrics): metrics derive separator (#625)
a2c1cdb39 refactor(net): deduplicate error variants (#619)
663efa8d2 feat(metrics): `Metrics` derive macro (#592)
d2b408184 feat: Enable ExecutionStage (#622)
bfe2fd622 ci: add eth chain test. Set prevrandao after merge (#621)
410a1f9cf perf: allocate responses capacity (#618)
daa65e7f5 docs: expose db on book summary
074479951 docs(book): `db` chapter. (#444)
f21a4020b feat(execution): Add ommers reward (#611)
ebd686a40 refactor(net): rename and restructure wire error types (#614)
877900046 test(net): add test for dropped pending no response (#613)
f1c1fb85f fix(net): add no response to backoff check (#610)
bb10305d0 Fix typo and rename remaining ExecutorDb to StateProvider (#608)
ba585cf7d fix: do not lowercase table arg in `db list` (#606)
3a07eb930 feat(net): add nat external ip crate (#605)
73e12341c feat(net): Make PeerManager emit peerevents for admin rpc (#602)
19a618e3a fix(db): Dont compress DupSort SubKey (#594)
5affa6780 refactor(net): unify closed incoming session handling (#600)
43008b7b0 feat: Add PeerEvent to NetworkEvent enum (#574)
7c80dde0e fix(net): check for handshake disconnect (#596)
4e677b599 refactor(net): unify dropped connection handling (#595)
284391c18 test(execution): chain test state check, execution bug fixes/upgrades (#472)
f8d1521c5 fix: set stage progress metric to absolute value (#593)
562e895f2 ci: unused dependencies sanity check (#590)
9d439d6fc chore(deps): bump ethers (#591)
2f81137d6 ci: fix sanity check issue template frontmatter
affead471 ci: fix sanity job
9e2ef7e48 ci: add sanity check workflow (#588)
cb58759e6 feat(net): validate discovered enr forkid (#586)
e549b29cc feat(net): increase session command buffer (#585)
ecbbb8835 docs(txpool): clarify validate_transaction (#582)
c9958a4d1 Remove unwind priority. (#577)
b12939db4 feat: add stagedsync headers metrics (#498)
7ce22fd18 fix: SealedBlock rename (#583)
4b18eb846 Update the document by adding information on how to install Geth and Lighthouse. (#568)
0b1b5368e chore: Rename BlockLocked to SealedBlock (#573)
a85793cd9 feat(rpc): basic engine api (#551)
6f6c4f61e refactor: rename `EthConsensus` (#572)
8f40c8bb9 chore(docs): update engine api links (#576)
c070e7752 chore(primitives): Update keccak256 implementation (#563)
c2ed3b2b5 feat(rpc): add some bindings for admin namespace (#561)
82197d08c fix(consensus): block reward check (#556)
1400e5149 chore(net): add more active session traces (#557)
086419303 ci: disable fuzzing jobs (#559)
d84eb9d93 fix(net): add capacity check on ping (#558)
276be2731 chore(sync): rename senders stage (#554)
151420df5 fix(net): encode ping pong as snappy (#555)
f3c79ff61 chore(deps): bump rustversion (#553)
d926c75da Sync project layout docs (#550)
b2abcdded fix(net): temporarily backoff busy peers (#548)
ed4213fdf ci: speed up fuzz tests (#544)
21564b43a feat(eth-wire): enforce test-fuzz traits pre-fuzz (#545)
2dc5b80ef feat: verbose flag (#541)
7184e4df3 fix(net): ban peer on fatal error (#543)
63406d5a6 perf(net): put timeout check behind interval (#537)
f5c9064b4 test(net): add e2e test for already connected (#538)
7a13cf668 feat(net): add ForkTransition type (#542)
80b34a961 chore: rm some clippy lints (#540)
c2ad7b1b0 chore(disc): unify duration settings and naming (#539)
aab385c84 feat(eth-wire): RLP encode then compress (#535)
3df86187d chore(deps): remove discv5 fork dep (#536)
0995ac277 meta(sync): tracing (#455)
c68a850c7 chore(db): modify state transition docs (#515)
82cd84eca test: fix `emits_bodies_in_order` test (#534)
5c1f97cbf test: create events handler before interacting with network mngr (#532)
fc11443b9 feat(net): create enr to peerid helper (#533)
c53b2bccc feat(net): use NodeRecord instead of enode format (#530)
ac1c0419d feat(eth-wire): add timeouts to tests using Geth (#529)
3db7455ec fix(net): fix disconnect edge case on remove from discovery (#479)
f65562e2e refactor(sync): remove `require_tip` (#528)
13bb41517 feat: config (#496)
516d744bd test: run geth tests in serial (#527)
a2849cd81 chore(net): improve ecies error for unreadable stream (#514)
8a63ef402 chore: remove unnecessary step (#525)
6a36a6a58 chore(sync): remove unused timeout from `LinearDownloadBuilder` (#524)
40579bf23 test: decrease test timeout for keep alive (#523)
e713b0c01 fix(net): poll after starting disconnect (#522)
aac078a13 fix(net): add already connected check (#521)
5758c297b fix(eth-wire): fix disconnect reason rlp decoding (#502)
f8b719e04 refactor(disc): use KBucekt entry API  (#518)
dc85695d0 fix(net): set disconnect status (#520)
a5f01238b feat(net): allow disconnect with reason (#519)
c1a863d06 test(download): header downloader request attempts & remove duplicates (#517)
1dca4b58d test(sync): sender recovery single tx (#516)
bdec2357d fix: properly convert unknown error codes (#510)
e62b1cca1 meta(license): add years and authors (#512)
bffc829bc perf(net): increase udp channel buffers (#508)
ddc78ef73 chore(deps): bump ethers (#507)
1e8098cd3 chore: add self to codeowners for all pkgs
75fb90be9 refactor: move metrics endpoint to node cmd (#505)
2b06d4346 chore: add codeowners (#504)
253aae5ea RLP decoding error tracing (#499)
0a4bf67c3 chore: complete `StageDB` -> `Transaction` renaming (#497)
4da574df8 feat: add prometheus support (#474)
c1f124d3e feat(net): temporarily ban bad peers (#492)
3989d5d3e feat: add more tables to db list (#491)
daaf039fb feat(sync): state transition indexes (#449)
345b2c35b fix: apply reputation (#487)
635203759 feat(discv4): support eth entries (#447)
864e6481d fix: set forkfilter correctly (#486)
8e4a35ae3 chore: clean up traces (#481)
ca204a346 chore: use later block (#480)
617ae3604 feat(doc): Changeid table design (#430)
e9ec6c284 fix(sync): remove redundant error (#476)
6a7049461 fix(net): use frontier forkid as default (#478)
f89fb4b45 fix(sync): database integrity header error message (#475)
b1ce398df feat(net): add `Status` to session established event (#473)
2b0f5316f fix(sync): headers stage progress (#467)
789dc3bc8 feat: request multiple bodies per request (#468)
9cd5824f3 chore: rename StageDB to Transaction (#470)
c10bdb583 feat: add flag for displaying log target (#469)
6e577c6e5 feat(net): request peer by id through PeersHandle (#464)
f509213cb refactor: clean up `reth node` (#450)
9208f2fd9 test(execution): execution test runner (#426)
4c298ac02 docs: macos install steps (#460)
48fadbdf2 fix: missing import
f8b425188 feat: don't stop the pipeline on internal stage errs (#453)
9dbf280bf docs(net): add bird's eye view docs (#456)
22dc50e5f feat(sync): download peer penalization (#427)
f2707d32b fix(net): kick useless peers (#451)
c23c65fc3 feat(net): draft for sending status updates through `NetworkHandle` (#436)
7b6bf0820 fix(cli): remove usage of `StageDB` on `DbTool` (#448)
43f6bb912 feat(net): integrate discovery banlist (#442)
ae2fc494c test: fix header dl error test (#441)
c2719ec27 chore(deps): bump secp256k1 from 0.24.1 to 0.24.2 (#440)
4430089b7 fix(download): header download stream (#438)
35a41a29f style: unify slice access and bytes (#437)
d5d876b28 fix(headers-stage): do not exit stage on downloader error (#439)
28121a450 chore: cargo fmt
83c89a85e Add additional logs for P2P debugging (#434)
9946f232a chore(net): improve session error traces (#435)
601bdc502 feat: wire components together in `reth node` (#416)
12e7f0acb feat(net): make Status and Hello configurable (#431)
ac5efc074 fix(download): stream loop (#433)
ad191efe8 fix: typo (#432)
500f98c9a fix(net): use adjust correct counters (#429)
df9d14127 Reth Book - Stages framework/draft (#360)
cbbdac270 chore(disc): log channel errors (#428)
10d960c5d refactor(disc): use discv4 as log target (#423)
c16b2df5b fix(sync): test db size map (#422)
24bc633bb feat(net): add NetworkBuilder type (#421)
2537f1456 feat(network): add geth connection test (#352)
02be8121e fix(disc): also emit discovered node when buckets are full (#414)
2ace52a8d feat(sync): add tx hash number mapping (#417)
d7f3581e5 fix(db): upgrade to libmdbx 0.12.2; (#377)
0fa7d5c29 bug: Correct nonce validation (#409)
8e5e7ff5b fix(net): improve dropped connection handling (#412)
95d99c431 chore(disc): update discv5 and tracing (#408)
c6d38f0f6 fix(sync): commit headers upon threshold (#406)
1e38ffa5a feat(eth-wire): fuzzing wire encoding roundtrip (#350)
dff3936b2 feat(cli): db cmd scaffold (#405)
5057e8ec0 feat(p2p): refactor downloaders and add peer id to the result (#410)
2b1bb05ca tests(chain): add unit tests (#411)
6e622d753 tests(hex_bytes): add unit tests (#395)
0a6ef3b5a feat(sync): senders commit threshold (#401)
d949e2ae1 chore: fix some typos (#402)
c3cda406d chore: fix typo (#403)
aeca7ddaa fix(eth-wire): remove inaccurate status doc (#396)
705e6f79d feat(p2p): remove p2p crate (#397)
6aa2daee0 fix(net): outgoing requsts (#398)
d2acc6bdf meta(contrib): bug issue template platform type (#400)
2534aa85a feat(rpc): net namespace (#363)
452a81e0d feat(net): expose message module (#390)
ef487a35b add Installing Documentation (#384)
b7dadbe42 meta(git): vendored dep ignore regression (#392)
f72becb3c ci: install geth for coverage
db7608e3b feat(net): expose config settings (#386)
da5545157 feat(disc): support discport query and add display impl (#385)
fecdc3f0f feat(net): add peer_id/ip blacklist (#366)
9e6acece1 expose transaction origin (#383)
c117d4b44 docs(net): add example docs and fix links (#375)
9eebd141b chore(txpool): update TransactionPool trait bounds (#376)
eedd31ca5 feat(txpool): implement missing remove function (#378)
6870c41fb chore(txpool): deny additional lints (#379)
e014eaad3 feat(db): Refactor storage libraries (#371)
37e016d4a feat(ci): add geth bin to GITHUB_PATH (#373)
142b808cc Update gitignore from standard template (#372)
4318a54f5 feat(net): integrate TaskExecutor (#369)
b0149f0b9 fix(net): prevent bad loop if no peers available (#359)
dffc42d6d feat(ci): add geth to ci (#367)
f489ec51f feat: add TaskManager and Executor types (#357)
2f7334569 misc(net): unify naming (#358)
fc2dfa752 fix(interfaces/db): remove unused `$seek:ty` token in table! macro (#362)
57c45b662 add github link for bookk (#361)
70635b728 feat(rpc): add eth_pubsub skeleton (#354)
ba758c5f5 chore(sync): remove timeout from downloader (#356)
4fb362654 chore: Last PR cleanup, nits (#353)
13297aaa9 docs: use BNB Smart Chain. (#351)
d66138e14 feat(execution): Account NotExisting and block reward changesets (#349)
6081cdfd2 docs: add modular and contributor friendly
4d718bbf3 s/foundry-rs/paradigmxyz
dbd7375a1 docs: add banner
6c9132225 feat(eth-wire): derive serde traits for eth-wire types (#348)
292f5f22b docs: add review of erigon/akula
b34e2bfa4 docs: reth design decisions
181954ec6 docs(contributing): make explicit that contribs are apache/mit
449321ddc refactor(db): separate transaction indexes from block body (#326)
925001e1e move tokio utils to dev dep (#345)
ce8f61f0a Draft Layout for Reth walkthrough (#344)
a0a40a9c3 chore(db): change table macro tokens (#343)
9628d0387 feat(sync): headers commit threshold (#296)
2671cd1cb chore(primitives): impl serde traits for ForkId (#342)
4643f840d chore(deps): get rid of unused deps (#339)
5e37ef822 style(net): use pin_project on eceis stream (#338)
0b8d50127 refactor(net): box ecies error (#337)
b40546b99 refactor(net): misc P2Pstream refactor (#336)
074e69caf chore(net): remove unused function (#335)
a4472ca1c chore(clippy): make clippy happy (#334)
a68cb3f35 feat(stage): Add execution stage (#287)
75879b202 chore(ecies): remove body size check (#328)
13df80c1d chore(codecs): contain `[Struct]Flags` in a mod and import what's necessary (#329)
f65969e90 perf(net): exclude bootnodes from update stream (#319)
2b6ef0afc fix(eth-wire): encode p2p message id as valid rlp (#324)
4f370e9ad docs: update readme
1668313d5 perf(disc): instantly lookup self in DHT (#314)
12212ec91 fix(disc): set trace target correctly (#315)
4c4357a1b docs: expand readme (#316)
5300c83a5 feat(net): send full transactions to fraction of all peers (#272)
debc87177 fix(eth-wire): handle `0x80` for DisconnectReason and P2PMessageID (#313)
743b1bd6b meta(txpool): fairer order function via timestamp (#281)
bb014eea2 codecs: "type specialization" for `Compact` on `Vec<T>` & `Option<T>` (#297)
c7ec4512c feat(db): cursor insert (#310)
bc3702ec4 chore(rlp): add comment on `0x80` decoding (#312)
a3f9e28d7 chore: prepare main readme for oss (#302)
04105ec82 test: add mainnet connection test (#306)
a0c35f1f4 refactor: replace reverse with HeadersDirection (#305)
53b159384 add comment & test (#309)
3355b0c60 test(net): add e2e request body test (#304)
a267515a6 add a more complete description of the error (#303)
3541ebee9 docs: contributing (#290)
6f0349a4b docs: basic security doc (#285)
b7a2951ea docs: crude release workflow doc (#284)
480097a7c feat(net): add eth request handler (#293)
d0e9e6fe8 feat: add header by number provider fn (#299)
69b2adab1 docs(repo): add p2p architecture details in layout (#295)
267b857a8 refactor: change ommers type to Header (#292)
787938905 chore(net): deny unused and cleanup (#289)
97ea20e9d feat(net): add swarm mermaid diagram (#288)
e53ed8ffc refactor(net): use shared objects on a per peer basis (#270)
d0b31bb07 feat: add issue templates (#282)
d12addefb docs: expand on status labels (#283)
8bbb9a71d docs: link to book (#286)
3ac52bae8 chore(sync): unwind tx by latest available (#280)
b5300aafe feat(net): add request timeout (#273)
4d708ce8a chore(sync): basic header response validation (#276)
96afa2d41 chore: Noted about code origin (#278)
993123390 perf(txpool): Arc alloc transaction event (#279)
a43a6cba8 feat(rpc): add new engine V2 types and routes (#274)
7867c67ea chore(typool): clippy cleanup, docs and renames (#277)
b30e8241c docs(rpc): improve eth rpc docs (#275)
0e436ae54 feat(net): add missing report on bad response (#271)
3efc6ee67 feat(db): Make `TransactionSigned` compactable (#252)
b02a5c4bb perf(net): import loop order in transactions manager (#269)
7db61eead misc(net): discovery docs and renames (#268)
a74467630 misc(net): add peers commands (#267)
fd840e1c6 refactor: bodies client API (#257)
5d5b83d57 fix(sync): download error handling (#260)
6da140ce1 chore(eth-wire): remove TODO about capability Ord (#263)
6232505b9 fix(net): substract from correct var (#262)
b6d9fe87b feat(net): propagate new transactions (#256)
37809ce77 feat(net): add session limits (#253)
6e7928ab8 feat(sync): stage db helper (#240)
fb2861f11 feat(net): integrate HeadersClient (#251)
dda8df734 refactor: headers client (#249)
2e3c22010 fix: fix flaky test (#250)
a2817881d feat(docs): start goals doc in book (#233)
7dc96a0a9 docs: update repo layout (#241)
78e7fbaee ci: book deployment workflow (#242)
f4dbeddc9 refactor: rename FetchClient and move to submodule (#245)
8966daad9 feat(net): reputation system and peer reporting (#239)
7c2ee1ba3 ci: fix fuzz tests (#243)
d6a11c7f4 chore(deps): bump ethers + ethereum types + revm (#228)
82b37b9bf feat(sync): sender recovery stage (#181)
027fc2bbf feat(db): derive `Compact` codec (#177)
0f45f1645 test(net): add Testnet implementation for testing (#232)
7e693046c feat(executor): Execute block of transactions and return tx patches (#238)
a523cb702 feat: finish concurrent body downloader (#220)
89ffaf541 feat: add tracing crate (#236)
4fd1225dd chore(txpool): clarify ready terminology (#234)
46e4ad974 test(net): add active session tests (#230)
f7c6ae585 feat(net): impl active session (#219)
4936d467c test(sync): stage test suite (#204)
ae8f7a2dd meta: rename dev dependency package (#225)
1767d375d feat(net): add broadcast message variants (#224)
ebd27b602 feat(net): add disconnect function (#223)
b4098b955 chore(net): add disconnect reason (#222)
84ef65dfb ci: disable patch checks for codecov
842ad8fb9 test(txpool-mock): convert u128 value to u256
331a2dbe8 fix(net): add None disconnect reason on PoS p2p violation
ee7140f91 refactor(net): add dedicated transaction event channel (#214)
09ba65fa7 feat(net): add NetworkMode to enforce POS rules (#215)
814640ccc chore(net): add helper access functions for wrapped stream (#216)
3ffc0da7c feat(net): add disconnect reason (#218)
09c5c3449 feat(executor): transaction and receipts verification (#195)
75a6d0630 refactor(net): separate Sink and Stream (#217)
bb83d8a52 Revert "chore(txpool): use stabilized pop_last (#213)" (#221)
11404adf6 chore(txpool): remove hash generics (#211)
bdf41d39a chore(txpool): use stabilized pop_last (#213)
6b336c62f feat: add blog propagation handlers (#205)
f8fddcdfa feat(p2p): integrate txpool in p2p (#208)
f0388e403 refactor: move BlockHashOrNumber to primitives (#203)
391a50944 feat: add FromRecoveredTransaction conversion trait (#207)
b60ced1de feat: add missing message handling (#200)
92a781851 feat: bodies stage (#190)
651eed108 chore(txpool): add PoolError::hash function (#202)
14e97b2c4 chore(txpool): add external transaction helper function (#201)
f1e663937 feat(net): authenticate sessions (#178)
5ca2cab97 refactor: move RequestError from network to interfaces p2p (#197)
139efee59 feat(net): impl peer management (#194)
9575eb89f ci: fix workflow concurrency control (#191)
2754315e6 chore: omner -> ommer (#192)
c13898e19 ci: make codecov less noisy (#193)
1db9a5aed ci: NEXTEST_EXPERIMENTAL_FILTER_EXPR env var no longer required (#188)
c43d75292 feat(net): more request handling (#186)
dd4878c0e fix: remove broken client feature for pubsub (#189)
a77018fe0 chore: bump git deps in Cargo.lock (#187)
fd6a7cb62 WIP: feat: ipc support (#144)
fc9b6f35e feat(test): add TestApi type (#183)
d4aabe475 fix(eth-wire): fix usage of sink API in P2PStream (#184)
9e35d58b0 feat(primitive): Signer recovery (#179)
836ad6aae feat(net): add request/response message types (#176)
b9700791c feat(db): transaction value type (#175)
7ecbe0174 feat(provider): Add StorageProvider impl, table changes (#172)
1408309b7 feat(net): add active session type (#169)
86ffb4756 feat(bin): simple reth node command (#158)
caad026c7 refactor: rename HeaderLocked to SealedHeader (#173)
099d3cee9 meta(dep): ignore c files (#171)
572126274 refactor(net): unify capability types (#168)
e870a4ce1 refactor(txpool): use tx hash for on new block update (#170)
b7cdfbf4f feat(net): network scaffolding (#110)
9c40f8265 test(sync): headers stage test runner (#163)
ca2b5ef7c style(p2p): simplify pinger (#165)
5cb2c6e61 style(p2p): get rid of expects (#164)
f6d3a49d2 feat(sync): stage tx index (#149)
9b74d7d39 feat(eth-wire): use UnauthedEthStream to create EthStream (#162)
43a0a2b16 feat(eth-wire): return Hello on handshake (#161)
ccdf2ffa9 hotfix(eth-wire): loosen lints temporarily
699db0318 feat(db): db error handling and Provider scaffolding (#154)
bff27a415 fix(rpc): type encoding (#155)
becceb280 fix(db): add traits `Encode/Decode` for keys and `Compress/Uncompress` for values (#151)
3c72a12af feat(eth-wire): Implement `p2p` stream (#114)
c232a7233 test(stage): headers linear downloader (#143)
ac2f3fcd8 feat: Consensus crate and verification functions. (#152)
1ea98d40c chore: remove mdbx c files from github lang stat (#153)
ee61be9d0 chore(db): add docs and doctest to tables (#150)
4a2293689 feat(rlp): add encode for &str (#147)
30ef6bff2 feat(rlp): add smol-str feature (#146)
580c8eb1e chore(sync): db integrity error (#148)
ee99c29c8 feat(interfaces): add `ShardedKey` (#142)
6c0e2753d test: add mock discovery testing (#139)
61b8829bd feat(sync): headers stage (#126)
ce64fefd7 feat(net): add discv4 crate (#113)
2b67e75c0 fix: use correct hash function (#138)
ee41dfac3 feat(db): set-up`ChangeSet` tables (#135)
8ac5214fc chore(libmbx): fmt, clippy and deny list updated (#134)
5c55c57c5 feat(db): switch to reth-libmdbx-rs, bump reth-mdbx-sys to 0.12.1 (#133)
4d2e67e9f feat(db): Add mdbx-rs apache licenced code 55e234 (#132)
1fe0affa4 chore(db): comment for cursor, cleanup unneeded fn (#131)
2a8189d7c chore(db): Add tests and fuzz target to `BlockNumHash` (#130)
0998fc3eb chore: bump tiny-keccak (#127)
77ea53bb6 chore: reexport hex (#128)
1bbf9d2d8 chore: clarify ring (#129)
3c5b23545 feat(db): Add DupSort `PlainStorageState` table  (#121)
4eca85142 feat(interface): implicit trait bound for DB cursors (#122)
a3185f999 docs: add workflow links in readme
e50eb6507 ci: add cargo deny action (#125)
eb40bd9ea feat: add cargo deny (#112)
65247ef20 feat: metrics (#92)
8bc8bd682 feat: add `IntegerList` type Elias-Fano (#111)
6d3ebe509 ci: run coverage in parallel (#124)
2ace922ef chore: make codecov informational for now (#123)
15bd88e63 headers(part2) - feat: add Downloader trait and test utils (#118)
a4e505132 headers(part1) feat(interfaces): introduce implicit trait bounds (#117)
a123a2b6f chore: add link to codecov on badge (#116)
8af8c8901 feat: support finalized and safe variants (#115)
5cbbf2b4a chore: add coverage badge
2e6b18a15 wip: feat(txpool): add on block update  (#69)
483bcdf9a feat(db): Database Abstraction (#101)
e9945b565 chore: reexport sha3 from primitives (#109)
4536e09c9 feat(primitives): use with_capacity for sighash (#108)
c277015f5 feat(eth): add remaining eth protocol message types (#82)
e7851492b feat(txpool): enforce size limits (#98)
0ff0ffa7d feat(primitives): transaction encoding tests (#103)
fe84bfb68 ci: coverage (#106)
4298e3aa8 feat(rpc): more rpc scaffolding (#99)
630baf5d7 feat(db): fuzzing & benchmark (#86)
7e26ba509 feat(primitives): transaction encoding and decoding (#102)
f672781bf feat(api): add StorageProvider trait (#97)
1e7d3ae57 feat(txpool): keep track of pool size (#95)
0fc446c5a feat(primitives): signature length and encoding (#93)
bd18188be feat: add block provider trait (#90)
2009b764c feat(txpool): add PoolStatus Api (#91)
522a4e689 refactor(txpool): simplify is local (#87)
6bc09809f feat(txpool): enforce account tx capacity (#88)
9056b8cbf feat(primitives): header encoding & hash (#89)
edd0e852f feat(txpool): introduce transaction origin (#85)
83a9b3191 feat(txpool): add no parked ancestors condition (#84)
2e19f9404 feat: impl rlp for receipt (#83)
063b44479 feat(db): codec encoding/decoding (#51)
8009d997c Implement ETH P2P (#81)
5dfe5ac29 feat(net): add Framed ECIES implementation (#80)
07a83b163 feat(primitives): add H128 (#79)
bdc38d8bb cleanup remove forkid from primitives (#78)
2317bcb70 style(txpool): turn InsertResult into std::result::Result (#73)
533c3ebe9 feat(rpc): add EthApiServer impl skeleton (#75)
a7cf91567 refactor(txpool): consider below proto fee cap an error (#71)
a644318c3 feat(p2p): Include forkid file from apache licenced repo (#68)
19d001fbd chore(txpool): require public traits to be static (#74)
479025650 feat: skip/error pipeline events (#70)
0d97014f4 docs: mermaid diagram for pipeline (#67)
92e64ed71 include apache licenced fastrlp as reth-rlp (#63)
6d0bd9037 feat(txpool): add get_all function (#65)
794c07391 feat(txpool): extend poolconfig (#61)
6b71460e7 refactor(txpool): simplify validator trait (#60)
55768a534 feat(txpool): add listeners for all transactions (#59)
84ec30db5 feat(txpool): add support for mock testing (#55)
577e84006 docs(txpool): update BestTransaction docs (#57)
74b04dc81 refactor(txpool): get rid of block number requirement (#56)
6d4e39dee refactor(txpool): cleanup pass (#53)
4fb99848f refactor(txpool): simplify layers and add docs (#52)
ae5935e6b feat: reth binary and parsing of eth chain tests (#38)
08d8a7f03 cursor put (#54)
111c13f12 test: more staged sync tests (#49)
bbb46216e chore: test utils (#48)
5ebfc0133 chore: migrate stages to new db abstractions (#43)
098bfe84b docs: add contributor docs (#41)
180c76882 docs(txpool): add note for minimal protocol base fee (#47)
0b1c86df3 docs(txpool): add mermaid diagram (#46)
edc75881c docs: add book skeleton (#44)
a8c1eaf14 feat: simplified unwind priority (#45)
3fed7cfe2 feat(txpool): new txpool design (#22)
8eb2ea415 feat(rpc): add rpc-api client feature (#33)
bce14b22c chore: staged sync cleanup (#34)
c41c6b99a db: supply table as Type not as fn param (#32)
60d3c6441 feat(db): mdbx integration & table skeletons (#15)
230e9ef17 feat(p2p): add anchor file for discovery state (#11)
d7c8b70cc feat: add eth-wire (#20)
a759201b4 refactor(stages): split `Pipeline::run` (#30)
15479457a chore: nuke src (#31)
72968d758 refactor: pipeline refactor (#23)
ded56d45e ci: run against main
573d343b6 chore: extend consensus with fork choice state (#27)
401cd3ec3 chore: clippy (#25)
ffdc374ed chore: ignore `.idea` (#24)
ae4c31a83 add readme & license (#21)
791ee2839 feat(txpool): initial sketch (#7)
95ed994fd Transaction type and some wrap over revm (#19)
a3a7f1317 feat(primitives): add Chain (#18)
8317cd2b6 chore: use `primitives::BlockNumber` (#17)
c749658fd feat: pipeline loop (#10)
074f45227 Small skeleton for executor abstraction (#14)
321683679 chore: remove missing debug (#16)
bc30cbce6 Skeleton primitives and interface crate (#13)
849e8ae51 feat: add db crate (#9)
14d0b6ac4 fix: make everything compile again
9251b286d feat: add engine api types and interface
8b7bef4f4 feat: add debug functions
eeda03a3f feat: add missing eth_ functions
6868dda54 feat: basic staged sync crate (#6)
5e0315cce move crates into net
ac1ec2543 feat: add rpc types and interface definiton
841c87830 feat: add transaction request
2717dd643 feat(rpc): add rpc crates
6ff7cf5a7 feat: add p2p crate (#4)
f3b26fd91 fix typo
1e07fb699 ci: move gh workflow to correct folder (#5)
4dc32e9f7 feat: add core crate (#3)
57a2b2d1d feat: add crate template
80ff87915 chore: add rustfmt.toml (#1)
978527367 chore: init
