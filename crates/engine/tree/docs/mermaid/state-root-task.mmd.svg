<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1829.046875 991" style="max-width: 1829.05px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="MultiProofManager" class="cluster"><rect height="104" width="755.14453125" y="879" x="235.77734375" style=""/><g transform="translate(546.810546875, 879)" class="cluster-label"><foreignObject height="24" width="133.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MultiProofManager</p></span></div></foreignObject></g></g><g data-look="classic" id="SparseTrieTask" class="cluster"><rect height="104" width="507.52734375" y="879" x="1108.796875" style=""/><g transform="translate(1297.466796875, 879)" class="cluster-label"><foreignObject height="24" width="130.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Sparse Trie thread</p></span></div></foreignObject></g></g><g data-look="classic" id="StateRootTask" class="cluster"><rect height="619" width="1675.6875" y="162" x="22.421875" style=""/><g transform="translate(779.53125, 162)" class="cluster-label"><foreignObject height="24" width="161.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>State Root Task thread</p></span></div></foreignObject></g></g><g data-look="classic" id="StateRootTaskMessages" class="cluster"><rect height="104" width="1813.046875" y="8" x="8" style=""/><g transform="translate(824.1640625, 8)" class="cluster-label"><foreignObject height="24" width="180.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>State Root Task messages</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_GenerateProofTargets_DeduplicateProofTargets_0" d="M187.422,265L187.422,271.167C187.422,277.333,187.422,289.667,198.972,301.698C210.521,313.73,233.621,325.459,245.171,331.324L256.72,337.189"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NewProof_ProofSequencer_1" d="M1107.251,253L1124.206,261.167C1141.161,269.333,1175.071,285.667,1192.025,303.333C1208.98,321,1208.98,340,1208.98,349.5L1208.98,359"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofSequencer_EndCondition1_2" d="M1257.023,417L1271.554,425.167C1286.086,433.333,1315.148,449.667,1347.085,461.931C1379.022,474.194,1413.832,482.389,1431.238,486.486L1448.643,490.583"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofSequencer_ProofSequencerCondition_3" d="M1205.428,417L1204.353,425.167C1203.279,433.333,1201.13,449.667,1200.055,465.25C1198.98,480.833,1198.98,495.667,1198.98,510.5C1198.98,525.333,1198.98,540.167,1198.98,557C1198.98,573.833,1198.98,592.667,1198.98,611.5C1198.98,630.333,1198.98,649.167,1199.055,664.167C1199.129,679.167,1199.278,690.334,1199.353,695.917L1199.427,701.5"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EndCondition1_EndCondition2_4" d="M1536.641,530.5L1536.557,534.583C1536.474,538.667,1536.307,546.833,1536.294,554.5C1536.281,562.167,1536.422,569.334,1536.492,572.917L1536.562,576.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EndCondition2_EndCondition3_5" d="M1536.641,643.5L1536.557,647.583C1536.474,651.667,1536.307,659.833,1536.294,667.5C1536.281,675.167,1536.422,682.334,1536.492,685.917L1536.562,689.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StateRootMessage::PrefetchProofs_DeduplicateProofTargets_6" d="M534.023,87L534.023,91.167C534.023,95.333,534.023,103.667,534.023,112C534.023,120.333,534.023,128.667,534.023,137C534.023,145.333,534.023,153.667,534.023,168.5C534.023,183.333,534.023,204.667,534.023,228C534.023,251.333,534.023,276.667,522.474,295.198C510.924,313.73,487.824,325.459,476.275,331.324L464.725,337.189"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StateRootMessage::StateUpdate_GenerateProofTargets_7" d="M187.422,87L187.422,91.167C187.422,95.333,187.422,103.667,187.422,112C187.422,120.333,187.422,128.667,187.422,137C187.422,145.333,187.422,153.667,187.422,161.333C187.422,169,187.422,176,187.422,179.5L187.422,183"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_DeduplicateProofTargets_MultiProofSpawn_8" d="M360.723,441L360.723,445.167C360.723,449.333,360.723,457.667,360.723,469.25C360.723,480.833,360.723,495.667,360.723,510.5C360.723,525.333,360.723,540.167,360.723,557C360.723,573.833,360.723,592.667,360.723,611.5C360.723,630.333,360.723,649.167,360.723,668C360.723,686.833,360.723,705.667,360.723,724.5C360.723,743.333,360.723,762.167,360.723,779.75C360.723,797.333,360.723,813.667,360.723,830C360.723,846.333,360.723,862.667,360.723,874.333C360.723,886,360.723,893,360.723,896.5L360.723,900"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StateRootMessage::EmptyProof_NewProof_9" d="M877.266,87L877.266,91.167C877.266,95.333,877.266,103.667,877.266,112C877.266,120.333,877.266,128.667,877.266,137C877.266,145.333,877.266,153.667,893.399,163.77C909.532,173.873,941.798,185.746,957.932,191.682L974.065,197.619"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StateRootMessage::ProofCalculated_NewProof_10" d="M1225.125,87L1225.125,91.167C1225.125,95.333,1225.125,103.667,1225.125,112C1225.125,120.333,1225.125,128.667,1225.125,137C1225.125,145.333,1225.125,153.667,1208.992,163.77C1192.859,173.873,1160.592,185.746,1144.459,191.682L1128.326,197.619"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_NewProof_MultiProofCompletion_11" d="M974.644,253L951.49,261.167C928.336,269.333,882.027,285.667,858.873,308.5C835.719,331.333,835.719,360.667,835.719,388C835.719,415.333,835.719,440.667,835.719,460.75C835.719,480.833,835.719,495.667,835.719,510.5C835.719,525.333,835.719,540.167,835.719,557C835.719,573.833,835.719,592.667,835.719,611.5C835.719,630.333,835.719,649.167,835.719,668C835.719,686.833,835.719,705.667,835.719,724.5C835.719,743.333,835.719,762.167,835.719,779.75C835.719,797.333,835.719,813.667,835.719,830C835.719,846.333,835.719,862.667,835.719,874.333C835.719,886,835.719,893,835.719,896.5L835.719,900"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofSequencerCondition_SparseTrieUpdate_12" d="M1199.48,744.5L1199.397,750.583C1199.314,756.667,1199.147,768.833,1199.064,783.083C1198.98,797.333,1198.98,813.667,1198.98,830C1198.98,846.333,1198.98,862.667,1219.369,876.084C1239.758,889.501,1280.535,900.002,1300.924,905.252L1321.313,910.502"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_StataRootMessage::FinishedStateUpdates_EndCondition1_13" d="M1608.984,87L1608.984,91.167C1608.984,95.333,1608.984,103.667,1608.984,112C1608.984,120.333,1608.984,128.667,1608.984,137C1608.984,145.333,1608.984,153.667,1608.984,168.5C1608.984,183.333,1608.984,204.667,1608.984,228C1608.984,251.333,1608.984,276.667,1608.984,304C1608.984,331.333,1608.984,360.667,1608.984,388C1608.984,415.333,1608.984,440.667,1602.811,457.228C1596.638,473.789,1584.291,481.577,1578.117,485.472L1571.944,489.366"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_EndCondition3_SparseTrieUpdate_14" d="M1536.641,756.5L1536.557,760.583C1536.474,764.667,1536.307,772.833,1536.224,785.083C1536.141,797.333,1536.141,813.667,1536.141,830C1536.141,846.333,1536.141,862.667,1522.676,876.011C1509.212,889.355,1482.284,899.71,1468.819,904.887L1455.355,910.064"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1208.98046875, 302)" class="edgeLabel"><g transform="translate(-52.25, -12)" class="label"><foreignObject height="24" width="104.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Add new proof</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1198.98046875, 830)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes, send multiproof and state update</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1536.140625, 830)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Close SparseTrieUpdate channel</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(187.421875, 60)" id="flowchart-StateRootMessage::StateUpdate-0" class="node default"><rect height="54" width="288.84375" y="-27" x="-144.421875" style="" class="basic label-container"/><g transform="translate(-114.421875, -12)" style="" class="label"><rect/><foreignObject height="24" width="228.84375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::StateUpdate</p></span></div></foreignObject></g></g><g transform="translate(534.0234375, 60)" id="flowchart-StateRootMessage::PrefetchProofs-1" class="node default"><rect height="54" width="304.359375" y="-27" x="-152.1796875" style="" class="basic label-container"/><g transform="translate(-122.1796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="244.359375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::PrefetchProofs</p></span></div></foreignObject></g></g><g transform="translate(877.265625, 60)" id="flowchart-StateRootMessage::EmptyProof-2" class="node default"><rect height="54" width="282.125" y="-27" x="-141.0625" style="" class="basic label-container"/><g transform="translate(-111.0625, -12)" style="" class="label"><rect/><foreignObject height="24" width="222.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::EmptyProof</p></span></div></foreignObject></g></g><g transform="translate(1225.125, 60)" id="flowchart-StateRootMessage::ProofCalculated-3" class="node default"><rect height="54" width="313.59375" y="-27" x="-156.796875" style="" class="basic label-container"/><g transform="translate(-126.796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="253.59375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::ProofCalculated</p></span></div></foreignObject></g></g><g transform="translate(1608.984375, 60)" id="flowchart-StataRootMessage::FinishedStateUpdates-4" class="node default"><rect height="54" width="354.125" y="-27" x="-177.0625" style="" class="basic label-container"/><g transform="translate(-147.0625, -12)" style="" class="label"><rect/><foreignObject height="24" width="294.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StataRootMessage::FinishedStateUpdates</p></span></div></foreignObject></g></g><g transform="translate(360.72265625, 390)" id="flowchart-DeduplicateProofTargets-5" class="node default"><rect height="102" width="260" y="-51" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -36)" style="" class="label"><rect/><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Deduplicate proof targets according to the list of already fetched proofs</p></span></div></foreignObject></g></g><g transform="translate(187.421875, 226)" id="flowchart-GenerateProofTargets-6" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Generate proof targets from state update</p></span></div></foreignObject></g></g><g transform="translate(1051.1953125, 226)" id="flowchart-NewProof-8" class="node default"><rect height="54" width="213.53125" y="-27" x="-106.765625" style="" class="basic label-container"/><g transform="translate(-76.765625, -12)" style="" class="label"><rect/><foreignObject height="24" width="153.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>New proof calculated</p></span></div></foreignObject></g></g><g transform="translate(1208.98046875, 390)" id="flowchart-ProofSequencer-9" class="node default"><rect height="54" width="171.890625" y="-27" x="-85.9453125" style="" class="basic label-container"/><g transform="translate(-55.9453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="111.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ProofSequencer</p></span></div></foreignObject></g></g><g transform="translate(1536.140625, 510.5)" id="flowchart-EndCondition1-10" class="node default"><polygon transform="translate(-98.1875,19.5)" class="label-container" points="9.75,0 186.625,0 196.375,-19.5 186.625,-39 9.75,-39 0,-19.5"/><g transform="translate(-80.9375, -12)" style="" class="label"><rect/><foreignObject height="24" width="161.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>All updates processed?</p></span></div></foreignObject></g></g><g transform="translate(1198.98046875, 724.5)" id="flowchart-ProofSequencerCondition-12" class="node default"><polygon transform="translate(-97.2109375,19.5)" class="label-container" points="9.75,0 184.671875,0 194.421875,-19.5 184.671875,-39 9.75,-39 0,-19.5"/><g transform="translate(-79.9609375, -12)" style="" class="label"><rect/><foreignObject height="24" width="159.921875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Has sequential proofs?</p></span></div></foreignObject></g></g><g transform="translate(1536.140625, 611.5)" id="flowchart-EndCondition2-14" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>All pending proofs requested?</p></span></div></foreignObject></g></g><g transform="translate(1536.140625, 724.5)" id="flowchart-EndCondition3-15" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>All proofs finished processing?</p></span></div></foreignObject></g></g><g transform="translate(1400.91015625, 931)" id="flowchart-SparseTrieUpdate-16" class="node default"><rect height="39" width="210.734375" y="-19.5" x="-105.3671875" ry="19.5" rx="19.5" style="" class="basic label-container"/><g transform="translate(-92.9921875, -12)" style="" class="label"><rect/><foreignObject height="24" width="185.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SparseTrieUpdate channel</p></span></div></foreignObject></g></g><g transform="translate(835.71875, 931)" id="flowchart-MultiProofCompletion-17" class="node default"><rect height="54" width="240.40625" y="-27" x="-120.203125" style="" class="basic label-container"/><g transform="translate(-90.203125, -12)" style="" class="label"><rect/><foreignObject height="24" width="180.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>on_calculation_complete</p></span></div></foreignObject></g></g><g transform="translate(360.72265625, 931)" id="flowchart-MultiProofSpawn-18" class="node default"><rect height="54" width="179.890625" y="-27" x="-89.9453125" style="" class="basic label-container"/><g transform="translate(-59.9453125, -12)" style="" class="label"><rect/><foreignObject height="24" width="119.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>spawn_or_queue</p></span></div></foreignObject></g></g></g></g></g></svg>