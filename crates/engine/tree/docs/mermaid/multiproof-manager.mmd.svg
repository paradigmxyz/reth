<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" type="text/css"?>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 963.5 681" style="max-width: 100%;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="graph-div" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink"><style>#graph-div{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graph-div .error-icon{fill:#552222;}#graph-div .error-text{fill:#552222;stroke:#552222;}#graph-div .edge-thickness-normal{stroke-width:1px;}#graph-div .edge-thickness-thick{stroke-width:3.5px;}#graph-div .edge-pattern-solid{stroke-dasharray:0;}#graph-div .edge-thickness-invisible{stroke-width:0;fill:none;}#graph-div .edge-pattern-dashed{stroke-dasharray:3;}#graph-div .edge-pattern-dotted{stroke-dasharray:2;}#graph-div .marker{fill:#333333;stroke:#333333;}#graph-div .marker.cross{stroke:#333333;}#graph-div svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graph-div p{margin:0;}#graph-div .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graph-div .cluster-label text{fill:#333;}#graph-div .cluster-label span{color:#333;}#graph-div .cluster-label span p{background-color:transparent;}#graph-div .label text,#graph-div span{fill:#333;color:#333;}#graph-div .node rect,#graph-div .node circle,#graph-div .node ellipse,#graph-div .node polygon,#graph-div .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graph-div .rough-node .label text,#graph-div .node .label text,#graph-div .image-shape .label,#graph-div .icon-shape .label{text-anchor:middle;}#graph-div .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graph-div .rough-node .label,#graph-div .node .label,#graph-div .image-shape .label,#graph-div .icon-shape .label{text-align:center;}#graph-div .node.clickable{cursor:pointer;}#graph-div .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#graph-div .arrowheadPath{fill:#333333;}#graph-div .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graph-div .flowchart-link{stroke:#333333;fill:none;}#graph-div .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#graph-div .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#graph-div .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#graph-div .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#graph-div .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graph-div .cluster text{fill:#333;}#graph-div .cluster span{color:#333;}#graph-div div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graph-div .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graph-div rect.text{fill:none;stroke-width:0;}#graph-div .icon-shape,#graph-div .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#graph-div .icon-shape p,#graph-div .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#graph-div .icon-shape rect,#graph-div .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#graph-div :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-div_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-div_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-div_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="graph-div_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-div_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="graph-div_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="StateRootTask" class="cluster"><rect height="104" width="947.5" y="569" x="8" style=""></rect><g transform="translate(431.77734375, 569)" class="cluster-label"><foreignObject height="24" width="99.9453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootTask</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManager" class="cluster"><rect height="511" width="869.9921875" y="8" x="71.96484375" style=""></rect><g transform="translate(440.421875, 8)" class="cluster-label"><foreignObject height="24" width="133.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MultiProofManager</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerSpawn" class="cluster"><rect height="275" width="478.79296875" y="33" x="91.96484375" style=""></rect><g transform="translate(271.419921875, 33)" class="cluster-label"><foreignObject height="24" width="119.8828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>spawn_or_queue</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerCompletion" class="cluster"><rect height="113" width="331.19921875" y="195" x="590.7578125" style=""></rect><g transform="translate(666.158203125, 195)" class="cluster-label"><foreignObject height="24" width="180.3984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>on_calculation_complete</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_MultiProofManagerLimitReached_0" d="M284.803,97.5L303.638,105.583C322.472,113.667,360.14,129.833,378.974,146.083C397.809,162.333,397.809,178.667,397.879,190.417C397.949,202.167,398.09,209.334,398.16,212.917L398.23,216.501"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_PendingProofRequests_1" d="M364.857,283.5L360.349,287.583C355.841,291.667,346.825,299.833,342.317,312.083C337.809,324.333,337.809,340.667,343.254,357.273C348.699,373.88,359.589,390.759,365.034,399.199L370.479,407.639"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_ParallelProof_2" d="M445.042,283.5L451.141,287.583C457.239,291.667,469.436,299.833,494.505,312.083C519.574,324.333,557.516,340.667,590.761,356.76C624.007,372.853,652.558,388.705,666.833,396.632L681.108,404.558"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" marker-start="url(#graph-div_flowchart-v2-pointStart)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_PendingProofRequests_3" d="M719.831,285.877L714.84,289.564C709.848,293.251,699.866,300.626,674.237,312.479C648.608,324.333,607.333,340.667,570.997,357.511C534.661,374.355,503.263,391.71,487.565,400.387L471.866,409.065"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_ParallelProof_4" d="M794.551,283.5L798.481,287.583C802.411,291.667,810.272,299.833,814.202,312.083C818.133,324.333,818.133,340.667,813.767,356.504C809.4,372.341,800.668,387.682,796.302,395.353L791.936,403.024"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParallelProof_StateRootMessage::ProofCalculated_5" d="M764.207,494.5L764.124,498.583C764.04,502.667,763.874,510.833,763.79,519.083C763.707,527.333,763.707,535.667,763.707,544C763.707,552.333,763.707,560.667,763.707,568.333C763.707,576,763.707,583,763.707,586.5L763.707,590"></path><path marker-end="url(#graph-div_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_StateRootMessage::EmptyProof_6" d="M223.955,97.5L217.305,105.583C210.656,113.667,197.357,129.833,190.708,146.083C184.059,162.333,184.059,178.667,184.059,196.25C184.059,213.833,184.059,232.667,184.059,251.5C184.059,270.333,184.059,289.167,184.059,306.75C184.059,324.333,184.059,340.667,184.059,364.333C184.059,388,184.059,419,184.059,446C184.059,473,184.059,496,184.059,511.667C184.059,527.333,184.059,535.667,184.059,544C184.059,552.333,184.059,560.667,184.059,568.333C184.059,576,184.059,583,184.059,586.5L184.059,590"></path></g><g class="edgeLabels"><g transform="translate(397.80859375, 146)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Not empty, MultiProofTargets</p></span></div></foreignObject></g></g><g transform="translate(337.80859375, 357)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes, push to pending requests</p></span></div></foreignObject></g></g><g transform="translate(595.45703125, 357)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(818.1328125, 357)" class="edgeLabel"><g transform="translate(-11.32421875, -12)" class="label"><foreignObject height="24" width="22.6484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(184.05859375, 357)" class="edgeLabel"><g transform="translate(-22.5, -12)" class="label"><foreignObject height="24" width="45"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Empty</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(763.70703125, 450)" id="flowchart-ParallelProof-257" class="node default"><g class="basic label-container"><g><path style="" fill="#ECECFF" stroke-width="0" stroke="none" d="M-120 -34 C-120 -16.60311374814974, -120 0.7937725037005166, -120 44 C-71.72676244031267 44, -23.453524880625338 44, 110 44 C110 42.01694527586182, 110 40.03389055172365, 110 39 C111.7425682456258 39, 113.48513649125162 39, 115 39 C115 37.5750434474142, 115 36.15008689482841, 115 34 C116.53935809133586 34, 118.07871618267171 34, 120 34 C120 17.719245632271644, 120 1.4384912645432877, 120 -44 C50.19299555898486 -44, -19.614008882030276 -44, -110 -44 C-110 -42.09561822836635, -110 -40.191236456732696, -110 -39 C-111.36494748433718 -39, -112.72989496867437 -39, -115 -39 C-115 -37.11114720794947, -115 -35.22229441589894, -115 -34 C-116.85719209636457 -34, -118.71438419272916 -34, -120 -34"></path><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-120 -34 C-120 -3.1087740516183864, -120 27.782451896763227, -120 44 M-120 -34 C-120 -9.909939196086295, -120 14.18012160782741, -120 44 M-120 44 C-28.504639140761356 44, 62.99072171847729 44, 110 44 M-120 44 C-51.20199398284872 44, 17.59601203430256 44, 110 44 M110 44 C110 42.66587252831064, 110 41.33174505662129, 110 39 M110 44 C110 42.15199752027159, 110 40.303995040543185, 110 39 M110 39 C111.33881306790569 39, 112.67762613581137 39, 115 39 M110 39 C111.57787423057708 39, 113.15574846115418 39, 115 39 M115 39 C115 37.6969871954095, 115 36.393974390819004, 115 34 M115 39 C115 37.0339599536033, 115 35.0679199072066, 115 34 M115 34 C116.50212738347341 34, 118.00425476694683 34, 120 34 M115 34 C116.94760496593273 34, 118.89520993186547 34, 120 34 M120 34 C120 3.2516263770366436, 120 -27.496747245926713, 120 -44 M120 34 C120 4.014501833146575, 120 -25.97099633370685, 120 -44 M120 -44 C43.548768574518704 -44, -32.90246285096259 -44, -110 -44 M120 -44 C64.02306727429996 -44, 8.046134548599923 -44, -110 -44 M-110 -44 C-110 -42.95909969939001, -110 -41.91819939878002, -110 -39 M-110 -44 C-110 -42.9760023369225, -110 -41.952004673844996, -110 -39 M-110 -39 C-111.9916323842192 -39, -113.9832647684384 -39, -115 -39 M-110 -39 C-111.21253123474537 -39, -112.42506246949074 -39, -115 -39 M-115 -39 C-115 -37.258666529494505, -115 -35.51733305898901, -115 -34 M-115 -39 C-115 -37.32028281498571, -115 -35.64056562997141, -115 -34 M-115 -34 C-116.15126663283779 -34, -117.30253326567558 -34, -120 -34 M-115 -34 C-116.01118995403884 -34, -117.02237990807768 -34, -120 -34"></path></g><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-115 -34 C-41.23555423951635 -34, 32.528891520967306 -34, 110 -34 M-115 -34 C-64.79367438902554 -34, -14.587348778051066 -34, 110 -34 M110 -34 C110 -5.907571865559202, 110 22.184856268881596, 110 39 M110 -34 C110 -5.9283017687810045, 110 22.14339646243799, 110 39 M110 39 C111.70262161442106 39, 113.40524322884212 39, 115 39 M110 39 C111.69116554788909 39, 113.38233109577817 39, 115 39 M115 39 C115 11.611098582033204, 115 -15.777802835933592, 115 -39 M115 39 C115 17.283737527240397, 115 -4.432524945519205, 115 -39 M115 -39 C66.00494052146155 -39, 17.009881042923112 -39, -115 -39 M115 -39 C35.018927112819355 -39, -44.96214577436129 -39, -115 -39 M-115 -39 C-115 -37.38588424681673, -115 -35.771768493633466, -115 -34 M-115 -39 C-115 -37.89207254596497, -115 -36.78414509192994, -115 -34"></path></g><g transform="translate(-105, -19)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Start thread with ParallelProof::spawn</p></span></div></foreignObject></g></g><g transform="translate(397.80859375, 450)" id="flowchart-PendingProofRequests-259" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>List of pending proof requests</p></span></div></foreignObject></g></g><g transform="translate(763.70703125, 251.5)" id="flowchart-HasPendingProofs-260" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"></polygon><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Has pending multiproof requests?</p></span></div></foreignObject></g></g><g transform="translate(239.1328125, 77.5)" id="flowchart-ProofTargetsCondition-261" class="node default"><polygon transform="translate(-105.84375,19.5)" class="label-container" points="9.75,0 201.9375,0 211.6875,-19.5 201.9375,-39 9.75,-39 0,-19.5"></polygon><g transform="translate(-88.59375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="177.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Proof targets not empty?</p></span></div></foreignObject></g></g><g transform="translate(397.80859375, 251.5)" id="flowchart-MultiProofManagerLimitReached-262" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"></polygon><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Max in-flight proofs limit reached?</p></span></div></foreignObject></g></g><g transform="translate(184.05859375, 621)" id="flowchart-StateRootMessage::EmptyProof-263" class="node default"><rect height="54" width="282.1171875" y="-27" x="-141.05859375" style="" class="basic label-container"></rect><g transform="translate(-111.05859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="222.1171875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::EmptyProof</p></span></div></foreignObject></g></g><g transform="translate(763.70703125, 621)" id="flowchart-StateRootMessage::ProofCalculated-264" class="node default"><rect height="54" width="313.5859375" y="-27" x="-156.79296875" style="" class="basic label-container"></rect><g transform="translate(-126.79296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="253.5859375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::ProofCalculated</p></span></div></foreignObject></g></g></g></g></g></svg>