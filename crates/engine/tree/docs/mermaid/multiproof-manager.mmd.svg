<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 963.5078125 681" style="max-width: 963.508px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="StateRootTask" class="cluster"><rect height="104" width="947.5078125" y="569" x="8" style=""/><g transform="translate(431.77734375, 569)" class="cluster-label"><foreignObject height="24" width="99.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootTask</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManager" class="cluster"><rect height="511" width="869.9921875" y="8" x="71.96875" style=""/><g transform="translate(440.42578125, 8)" class="cluster-label"><foreignObject height="24" width="133.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MultiProofManager</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerSpawn" class="cluster"><rect height="275" width="478.79296875" y="33" x="91.96875" style=""/><g transform="translate(271.419921875, 33)" class="cluster-label"><foreignObject height="24" width="119.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>spawn_or_queue</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerCompletion" class="cluster"><rect height="113" width="331.19921875" y="195" x="590.76171875" style=""/><g transform="translate(666.158203125, 195)" class="cluster-label"><foreignObject height="24" width="180.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>on_calculation_complete</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_MultiProofManagerLimitReached_0" d="M284.807,97.5L303.641,105.583C322.476,113.667,360.144,129.833,378.978,146.083C397.813,162.333,397.813,178.667,397.883,190.417C397.953,202.167,398.094,209.334,398.164,212.917L398.234,216.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_PendingProofRequests_1" d="M364.861,283.5L360.353,287.583C355.845,291.667,346.829,299.833,342.321,312.083C337.813,324.333,337.813,340.667,343.258,357.273C348.703,373.88,359.593,390.759,365.038,399.199L370.483,407.639"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_ParallelProof_2" d="M445.046,283.5L451.145,287.583C457.243,291.667,469.44,299.833,494.509,312.083C519.578,324.333,557.52,340.667,590.765,356.76C624.011,372.853,652.561,388.705,666.837,396.632L681.112,404.558"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" marker-start="url(#my-svg_flowchart-v2-pointStart)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_PendingProofRequests_3" d="M719.835,285.877L714.844,289.564C709.852,293.251,699.869,300.626,674.241,312.479C648.612,324.333,607.337,340.667,571.001,357.511C534.665,374.355,503.267,391.71,487.569,400.387L471.87,409.065"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_ParallelProof_4" d="M794.555,283.5L798.485,287.583C802.415,291.667,810.276,299.833,814.206,312.083C818.137,324.333,818.137,340.667,813.771,356.504C809.404,372.341,800.672,387.682,796.306,395.353L791.94,403.024"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParallelProof_StateRootMessage::ProofCalculated_5" d="M764.211,494.5L764.128,498.583C764.044,502.667,763.878,510.833,763.794,519.083C763.711,527.333,763.711,535.667,763.711,544C763.711,552.333,763.711,560.667,763.711,568.333C763.711,576,763.711,583,763.711,586.5L763.711,590"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_StateRootMessage::EmptyProof_6" d="M223.959,97.5L217.309,105.583C210.66,113.667,197.361,129.833,190.712,146.083C184.063,162.333,184.063,178.667,184.063,196.25C184.063,213.833,184.063,232.667,184.063,251.5C184.063,270.333,184.063,289.167,184.063,306.75C184.063,324.333,184.063,340.667,184.063,364.333C184.063,388,184.063,419,184.063,446C184.063,473,184.063,496,184.063,511.667C184.063,527.333,184.063,535.667,184.063,544C184.063,552.333,184.063,560.667,184.063,568.333C184.063,576,184.063,583,184.063,586.5L184.063,590"/></g><g class="edgeLabels"><g transform="translate(397.8125, 146)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Not empty, MultiProofTargets</p></span></div></foreignObject></g></g><g transform="translate(337.8125, 357)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes, push to pending requests</p></span></div></foreignObject></g></g><g transform="translate(595.4609375, 357)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(818.13671875, 357)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(184.0625, 357)" class="edgeLabel"><g transform="translate(-22.5, -12)" class="label"><foreignObject height="24" width="45"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Empty</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(763.7109375, 450)" id="flowchart-ParallelProof-0" class="node default"><g class="basic label-container"><g><path style="" fill="#ECECFF" stroke-width="0" stroke="none" d="M-120 -34 C-120 -5.064796192039154, -120 23.870407615921692, -120 44 C-54.21179084427581 44, 11.576418311448379 44, 110 44 C110 42.5917315662428, 110 41.1834631324856, 110 39 C111.48600579605572 39, 112.97201159211144 39, 115 39 C115 37.28387787008956, 115 35.56775574017912, 115 34 C116.50887206144803 34, 118.01774412289605 34, 120 34 C120 3.5119239672779052, 120 -26.97615206544419, 120 -44 C45.68454598159262 -44, -28.63090803681476 -44, -110 -44 C-110 -42.95647117435031, -110 -41.91294234870063, -110 -39 C-111.33658551111658 -39, -112.67317102223316 -39, -115 -39 C-115 -37.169658239183896, -115 -35.33931647836779, -115 -34 C-116.70951974640748 -34, -118.41903949281496 -34, -120 -34"/><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-120 -34 C-120 -17.6086436062079, -120 -1.2172872124157976, -120 44 M-120 -34 C-120 -8.678462552668012, -120 16.643074894663975, -120 44 M-120 44 C-46.32009733887968 44, 27.359805322240646 44, 110 44 M-120 44 C-62.593029207803376 44, -5.186058415606752 44, 110 44 M110 44 C110 42.06606948322864, 110 40.132138966457276, 110 39 M110 44 C110 42.31299264000816, 110 40.625985280016316, 110 39 M110 39 C111.00712605944315 39, 112.01425211888629 39, 115 39 M110 39 C111.78970579360744 39, 113.57941158721486 39, 115 39 M115 39 C115 37.90270315764357, 115 36.80540631528714, 115 34 M115 39 C115 37.87975588174268, 115 36.759511763485364, 115 34 M115 34 C116.98385143840429 34, 118.96770287680856 34, 120 34 M115 34 C116.50465188605835 34, 118.00930377211671 34, 120 34 M120 34 C120 14.90962452440365, 120 -4.1807509511926995, 120 -44 M120 34 C120 3.956521520742868, 120 -26.086956958514264, 120 -44 M120 -44 C36.311381879810995 -44, -47.37723624037801 -44, -110 -44 M120 -44 C48.91628442762435 -44, -22.167431144751305 -44, -110 -44 M-110 -44 C-110 -42.76579254923397, -110 -41.53158509846795, -110 -39 M-110 -44 C-110 -42.409754314564495, -110 -40.81950862912898, -110 -39 M-110 -39 C-111.40050732366039 -39, -112.80101464732078 -39, -115 -39 M-110 -39 C-111.36167644966773 -39, -112.72335289933545 -39, -115 -39 M-115 -39 C-115 -37.483965676483066, -115 -35.96793135296614, -115 -34 M-115 -39 C-115 -37.77838713918255, -115 -36.556774278365104, -115 -34 M-115 -34 C-116.95752726650998 -34, -118.91505453301997 -34, -120 -34 M-115 -34 C-116.3836353276909 -34, -117.7672706553818 -34, -120 -34"/></g><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-115 -34 C-51.01499315158955 -34, 12.9700136968209 -34, 110 -34 M-115 -34 C-66.92816465417462 -34, -18.85632930834926 -34, 110 -34 M110 -34 C110 -13.182955925577772, 110 7.634088148844455, 110 39 M110 -34 C110 -11.988541166291448, 110 10.022917667417104, 110 39 M110 39 C111.89094020787412 39, 113.78188041574823 39, 115 39 M110 39 C111.63180559250013 39, 113.26361118500026 39, 115 39 M115 39 C115 17.692621980831255, 115 -3.6147560383374895, 115 -39 M115 39 C115 13.55918301683656, 115 -11.88163396632688, 115 -39 M115 -39 C38.48058912512174 -39, -38.03882174975652 -39, -115 -39 M115 -39 C37.420404799669925 -39, -40.15919040066015 -39, -115 -39 M-115 -39 C-115 -37.47685968748418, -115 -35.95371937496835, -115 -34 M-115 -39 C-115 -37.0368856084304, -115 -35.073771216860806, -115 -34"/></g><g transform="translate(-105, -19)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Start thread with ParallelProof::spawn</p></span></div></foreignObject></g></g><g transform="translate(397.8125, 450)" id="flowchart-PendingProofRequests-2" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>List of pending proof requests</p></span></div></foreignObject></g></g><g transform="translate(763.7109375, 251.5)" id="flowchart-HasPendingProofs-3" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Has pending multiproof requests?</p></span></div></foreignObject></g></g><g transform="translate(239.13671875, 77.5)" id="flowchart-ProofTargetsCondition-4" class="node default"><polygon transform="translate(-105.84375,19.5)" class="label-container" points="9.75,0 201.9375,0 211.6875,-19.5 201.9375,-39 9.75,-39 0,-19.5"/><g transform="translate(-88.59375, -12)" style="" class="label"><rect/><foreignObject height="24" width="177.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Proof targets not empty?</p></span></div></foreignObject></g></g><g transform="translate(397.8125, 251.5)" id="flowchart-MultiProofManagerLimitReached-5" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Max in-flight proofs limit reached?</p></span></div></foreignObject></g></g><g transform="translate(184.0625, 621)" id="flowchart-StateRootMessage::EmptyProof-6" class="node default"><rect height="54" width="282.125" y="-27" x="-141.0625" style="" class="basic label-container"/><g transform="translate(-111.0625, -12)" style="" class="label"><rect/><foreignObject height="24" width="222.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::EmptyProof</p></span></div></foreignObject></g></g><g transform="translate(763.7109375, 621)" id="flowchart-StateRootMessage::ProofCalculated-7" class="node default"><rect height="54" width="313.59375" y="-27" x="-156.796875" style="" class="basic label-container"/><g transform="translate(-126.796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="253.59375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::ProofCalculated</p></span></div></foreignObject></g></g></g></g></g></svg>