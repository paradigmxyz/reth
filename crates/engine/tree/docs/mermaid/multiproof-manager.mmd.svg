<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 963.5078125 681" style="max-width: 963.508px; background-color: white;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="my-svg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="my-svg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"><g data-look="classic" id="StateRootTask" class="cluster"><rect height="104" width="947.5078125" y="569" x="8" style=""/><g transform="translate(431.77734375, 569)" class="cluster-label"><foreignObject height="24" width="99.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootTask</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManager" class="cluster"><rect height="511" width="869.9921875" y="8" x="71.96875" style=""/><g transform="translate(440.42578125, 8)" class="cluster-label"><foreignObject height="24" width="133.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MultiProofManager</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerSpawn" class="cluster"><rect height="275" width="478.79296875" y="33" x="91.96875" style=""/><g transform="translate(271.419921875, 33)" class="cluster-label"><foreignObject height="24" width="119.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>spawn_or_queue</p></span></div></foreignObject></g></g><g data-look="classic" id="MultiProofManagerCompletion" class="cluster"><rect height="113" width="331.19921875" y="195" x="590.76171875" style=""/><g transform="translate(666.158203125, 195)" class="cluster-label"><foreignObject height="24" width="180.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>on_calculation_complete</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_MultiProofManagerLimitReached_0" d="M284.807,97.5L303.641,105.583C322.476,113.667,360.144,129.833,378.978,146.083C397.813,162.333,397.813,178.667,397.883,190.417C397.953,202.167,398.094,209.334,398.164,212.917L398.234,216.501"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_PendingProofRequests_1" d="M364.861,283.5L360.353,287.583C355.845,291.667,346.829,299.833,342.321,312.083C337.813,324.333,337.813,340.667,343.258,357.273C348.703,373.88,359.593,390.759,365.038,399.199L370.483,407.639"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_MultiProofManagerLimitReached_ParallelProof_2" d="M445.046,283.5L451.145,287.583C457.243,291.667,469.44,299.833,494.509,312.083C519.578,324.333,557.52,340.667,590.765,356.76C624.011,372.853,652.561,388.705,666.837,396.632L681.112,404.558"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" marker-start="url(#my-svg_flowchart-v2-pointStart)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_PendingProofRequests_3" d="M719.835,285.877L714.844,289.564C709.852,293.251,699.869,300.626,674.241,312.479C648.612,324.333,607.337,340.667,571.001,357.511C534.665,374.355,503.267,391.71,487.569,400.387L471.87,409.065"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_HasPendingProofs_ParallelProof_4" d="M794.555,283.5L798.485,287.583C802.415,291.667,810.276,299.833,814.206,312.083C818.137,324.333,818.137,340.667,813.771,356.504C809.404,372.341,800.672,387.682,796.306,395.353L791.94,403.024"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParallelProof_StateRootMessage::ProofCalculated_5" d="M764.211,494.5L764.128,498.583C764.044,502.667,763.878,510.833,763.794,519.083C763.711,527.333,763.711,535.667,763.711,544C763.711,552.333,763.711,560.667,763.711,568.333C763.711,576,763.711,583,763.711,586.5L763.711,590"/><path marker-end="url(#my-svg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ProofTargetsCondition_StateRootMessage::EmptyProof_6" d="M223.959,97.5L217.309,105.583C210.66,113.667,197.361,129.833,190.712,146.083C184.063,162.333,184.063,178.667,184.063,196.25C184.063,213.833,184.063,232.667,184.063,251.5C184.063,270.333,184.063,289.167,184.063,306.75C184.063,324.333,184.063,340.667,184.063,364.333C184.063,388,184.063,419,184.063,446C184.063,473,184.063,496,184.063,511.667C184.063,527.333,184.063,535.667,184.063,544C184.063,552.333,184.063,560.667,184.063,568.333C184.063,576,184.063,583,184.063,586.5L184.063,590"/></g><g class="edgeLabels"><g transform="translate(397.8125, 146)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Not empty, MultiProofTargets</p></span></div></foreignObject></g></g><g transform="translate(337.8125, 357)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes, push to pending requests</p></span></div></foreignObject></g></g><g transform="translate(595.4609375, 357)" class="edgeLabel"><g transform="translate(-9.3984375, -12)" class="label"><foreignObject height="24" width="18.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(818.13671875, 357)" class="edgeLabel"><g transform="translate(-11.328125, -12)" class="label"><foreignObject height="24" width="22.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(184.0625, 357)" class="edgeLabel"><g transform="translate(-22.5, -12)" class="label"><foreignObject height="24" width="45"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Empty</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(763.7109375, 450)" id="flowchart-ParallelProof-0" class="node default"><g class="basic label-container"><g><path style="" fill="#ECECFF" stroke-width="0" stroke="none" d="M-120 -34 C-120 -3.97479068501406, -120 26.05041862997188, -120 44 C-29.244081596492663 44, 61.511836807014674 44, 110 44 C110 42.29490230268982, 110 40.58980460537965, 110 39 C111.95750265381925 39, 113.9150053076385 39, 115 39 C115 37.786350670214944, 115 36.572701340429894, 115 34 C116.3685711107912 34, 117.73714222158239 34, 120 34 C120 17.21259915101952, 120 0.42519830203904263, 120 -44 C63.395028299952294 -44, 6.790056599904588 -44, -110 -44 C-110 -42.51346357299816, -110 -41.02692714599633, -110 -39 C-111.76836378151567 -39, -113.53672756303133 -39, -115 -39 C-115 -37.665782753635746, -115 -36.3315655072715, -115 -34 C-116.16994224997863 -34, -117.33988449995725 -34, -120 -34"/><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-120 -34 C-120 -9.854424877737763, -120 14.291150244524474, -120 44 M-120 -34 C-120 -12.803481883359435, -120 8.39303623328113, -120 44 M-120 44 C-61.18582702375133 44, -2.371654047502659 44, 110 44 M-120 44 C-28.725012472330178 44, 62.549975055339644 44, 110 44 M110 44 C110 42.154565446186844, 110 40.30913089237369, 110 39 M110 44 C110 42.861505368667494, 110 41.72301073733499, 110 39 M110 39 C111.7730247489998 39, 113.5460494979996 39, 115 39 M110 39 C111.13251890060614 39, 112.2650378012123 39, 115 39 M115 39 C115 37.17137734402762, 115 35.34275468805523, 115 34 M115 39 C115 37.975296640022194, 115 36.95059328004438, 115 34 M115 34 C116.94939882797634 34, 118.89879765595266 34, 120 34 M115 34 C116.89173505082076 34, 118.78347010164151 34, 120 34 M120 34 C120 10.19383412638707, 120 -13.61233174722586, 120 -44 M120 34 C120 14.004314760148745, 120 -5.9913704797025105, 120 -44 M120 -44 C56.93880584733133 -44, -6.1223883053373385 -44, -110 -44 M120 -44 C45.9374140500062 -44, -28.125171899987606 -44, -110 -44 M-110 -44 C-110 -42.90192675972275, -110 -41.8038535194455, -110 -39 M-110 -44 C-110 -42.35881804422645, -110 -40.717636088452906, -110 -39 M-110 -39 C-111.7239223002776 -39, -113.44784460055519 -39, -115 -39 M-110 -39 C-111.61177881949772 -39, -113.22355763899542 -39, -115 -39 M-115 -39 C-115 -37.74749461732051, -115 -36.49498923464103, -115 -34 M-115 -39 C-115 -37.382658282287096, -115 -35.7653165645742, -115 -34 M-115 -34 C-116.31879980252417 -34, -117.63759960504832 -34, -120 -34 M-115 -34 C-116.98059674127892 -34, -118.96119348255785 -34, -120 -34"/></g><path style="" fill="none" stroke-width="1.3" stroke="#9370DB" d="M-115 -34 C-45.53318373729337 -34, 23.93363252541326 -34, 110 -34 M-115 -34 C-60.79547355577051 -34, -6.590947111541027 -34, 110 -34 M110 -34 C110 -5.9335931200968055, 110 22.13281375980639, 110 39 M110 -34 C110 -13.084459916893088, 110 7.831080166213823, 110 39 M110 39 C111.27828009021437 39, 112.55656018042872 39, 115 39 M110 39 C111.0495129743588 39, 112.09902594871761 39, 115 39 M115 39 C115 17.635664634572276, 115 -3.7286707308554483, 115 -39 M115 39 C115 19.0910397209816, 115 -0.8179205580368034, 115 -39 M115 -39 C35.96398799133003 -39, -43.07202401733994 -39, -115 -39 M115 -39 C49.75438182751287 -39, -15.491236344974254 -39, -115 -39 M-115 -39 C-115 -37.13533713315258, -115 -35.27067426630516, -115 -34 M-115 -39 C-115 -37.02743233774066, -115 -35.054864675481326, -115 -34"/></g><g transform="translate(-105, -19)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Start thread with ParallelProof::spawn</p></span></div></foreignObject></g></g><g transform="translate(397.8125, 450)" id="flowchart-PendingProofRequests-2" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>List of pending proof requests</p></span></div></foreignObject></g></g><g transform="translate(763.7109375, 251.5)" id="flowchart-HasPendingProofs-3" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Has pending multiproof requests?</p></span></div></foreignObject></g></g><g transform="translate(239.13671875, 77.5)" id="flowchart-ProofTargetsCondition-4" class="node default"><polygon transform="translate(-105.84375,19.5)" class="label-container" points="9.75,0 201.9375,0 211.6875,-19.5 201.9375,-39 9.75,-39 0,-19.5"/><g transform="translate(-88.59375, -12)" style="" class="label"><rect/><foreignObject height="24" width="177.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Proof targets not empty?</p></span></div></foreignObject></g></g><g transform="translate(397.8125, 251.5)" id="flowchart-MultiProofManagerLimitReached-5" class="node default"><polygon transform="translate(-123.25,31.5)" class="label-container" points="15.75,0 230.75,0 246.5,-31.5 230.75,-63 15.75,-63 0,-31.5"/><g transform="translate(-100, -24)" style="" class="label"><rect/><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Max in-flight proofs limit reached?</p></span></div></foreignObject></g></g><g transform="translate(184.0625, 621)" id="flowchart-StateRootMessage::EmptyProof-6" class="node default"><rect height="54" width="282.125" y="-27" x="-141.0625" style="" class="basic label-container"/><g transform="translate(-111.0625, -12)" style="" class="label"><rect/><foreignObject height="24" width="222.125"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::EmptyProof</p></span></div></foreignObject></g></g><g transform="translate(763.7109375, 621)" id="flowchart-StateRootMessage::ProofCalculated-7" class="node default"><rect height="54" width="313.59375" y="-27" x="-156.796875" style="" class="basic label-container"/><g transform="translate(-126.796875, -12)" style="" class="label"><rect/><foreignObject height="24" width="253.59375"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>StateRootMessage::ProofCalculated</p></span></div></foreignObject></g></g></g></g></g></svg>